<!DOCTYPE html><html lang="ko"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="color-scheme" content="light"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="alternate" type="application/rss+xml" title="kciter.so" href="/feed.xml"><title>AI 에이전트를 만드는 방법 | kciter.so</title><meta name="description" content="오늘은 에이전트 이야기를 해보려고 합니다. 모두가 항상 말하듯 개발자의 역할은 '소프트웨어로 문제를 해결하는 것'입니다. 소프트웨어가 빠르게 발전하고, 산업도 커지며 많은 문제가 해결됐지만 여전히 해결해야 할 문제는 많습니다. 최근에는 AI가…"><meta name="author" content="Lee Sun-Hyoup"><!-- Open Graph --><meta property="og:title" content="AI 에이전트를 만드는 방법 | kciter.so"><meta property="og:description" content="오늘은 에이전트 이야기를 해보려고 합니다. 모두가 항상 말하듯 개발자의 역할은 '소프트웨어로 문제를 해결하는 것'입니다. 소프트웨어가 빠르게 발전하고, 산업도 커지며 많은 문제가 해결됐지만 여전히 해결해야 할 문제는 많습니다. 최근에는 AI가…"><meta property="og:type" content="website"><meta property="og:site_name" content="kciter.so"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png"><meta property="og:url" content="https://kciter.so/posts/how-to-build-an-agent/"><link rel="canonical" href="https://kciter.so/posts/how-to-build-an-agent/"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="Sunhyoup Lee"><meta name="twitter:title" content="AI 에이전트를 만드는 방법 | kciter.so"><meta name="twitter:description" content="오늘은 에이전트 이야기를 해보려고 합니다. 모두가 항상 말하듯 개발자의 역할은 '소프트웨어로 문제를 해결하는 것'입니다. 소프트웨어가 빠르게 발전하고, 산업도 커지며 많은 문제가 해결됐지만 여전히 해결해야 할 문제는 많습니다. 최근에는 AI가…"><meta name="twitter:image" content="https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png"><!-- Additional meta from props --><meta name="article:published_time" content="2025-04-26T00:00:00+09:00"><meta name="image" content="https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png"><meta property="og:image" content="https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png"><meta property="og:image:secure_url" content="https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=PT+Sans:wght@400&family=Source+Code+Pro&family=Quattrocento+Sans&display=swap"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8K7EBEDX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-7M8K7EBEDX');
    </script> <script type="application/ld+json">{"headline":"AI 에이전트를 만드는 방법","dateModified":"2025-04-26T00:00:00+09:00","datePublished":"2025-04-26T00:00:00+09:00","image":"https://kciter.so/images/2025-04-26-how-to-build-an-agent/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kciter.so/posts/how-to-build-an-agent/"},"author":{"@type":"Person","name":"Lee Sun-Hyoup"},"description":"오늘은 에이전트 이야기를 해보려고 합니다. 모두가 항상 말하듯 개발자의 역할은 '소프트웨어로 문제를 해결하는 것'입니다. 소프트웨어가 빠르게 발전하고, 산업도 커지며 많은 문제가 해결됐지만 여전히 해결해야 할 문제는 많습니다. 최근에는 AI가…","url":"https://kciter.so/posts/how-to-build-an-agent/","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="stylesheet" href="/_astro/_slug_.D5IQWdfx.css">
<style>.name-gradient[data-astro-cid-k7qsseos]{background:linear-gradient(to right,#191335,#191335 33.33333%,#00ab6c 66.66666%,#00cb8c);background-clip:text;-webkit-text-fill-color:transparent;transition:all .3s ease;background-size:300% 100%;background-position:top left}.name-gradient[data-astro-cid-k7qsseos]:hover{background-position:top left 100%}@media(max-width:30rem){.sponsors[data-astro-cid-4kgnabjz] a:not(:first-of-type){margin-left:-16px}}.related-post[data-astro-cid-llggujpl]{position:relative;transform:scaleZ(1)}.related-post[data-astro-cid-llggujpl]:after{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px;transform:scale(1.06);transition:opacity 2s cubic-bezier(.165,.84,.44,1);box-shadow:0 8px 17px #0003,0 6px 20px #00000026;content:"";opacity:0;z-index:-1}.related-post[data-astro-cid-llggujpl]:hover{transform:scale3d(1.006,1.006,1)}.related-post[data-astro-cid-llggujpl]:hover:after{opacity:1}
</style></head> <body> <div class="mx-auto w-[715px] pt-4 max-md:w-[90vw]"> <div class="relative z-10 mb-10 -mx-4 rounded-xl bg-white/40 px-4 py-2.5 font-['Quattrocento_Sans',sans-serif] backdrop-blur-[44px] max-md:-mx-4 max-md:-mt-4 max-md:mb-8 max-md:rounded-none max-md:bg-transparent max-md:backdrop-blur-none" data-astro-cid-3ef6ksr2> <div class="mt-2 w-full" data-astro-cid-3ef6ksr2> <a href="/" class="site-title text-[32px] font-black" style="line-height: 1.15; text-decoration: none; margin-right: 5px;" data-astro-cid-3ef6ksr2>kciter.so</a> <small class="text-[#999]" data-astro-cid-3ef6ksr2>devlog</small> </div> <nav class="flex w-full justify-between pt-2" data-astro-cid-3ef6ksr2> <div class="flex items-center" data-astro-cid-3ef6ksr2> <a href="/timeline/" class="menu-item updated" data-astro-cid-3ef6ksr2>
Timeline
</a> <div class="dropdown" data-astro-cid-3ef6ksr2> <span class="menu-item dropdown-trigger" id="posts-trigger" data-astro-cid-3ef6ksr2>
Posts <span class="chevron" data-astro-cid-3ef6ksr2>&#9662;</span> </span> <div class="dropdown-menu" data-astro-cid-3ef6ksr2> <a href="/articles/" class="dropdown-item" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="dropdown-item" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="dropdown-item" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <a href="https://kciter.so/talks/" class="menu-item" data-astro-cid-3ef6ksr2>Talks</a> <a href="/about/" class="menu-item" data-astro-cid-3ef6ksr2>About</a> </div> <div class="flex items-center gap-3" data-astro-cid-3ef6ksr2> <button id="search-btn" class="search-btn" aria-label="Search" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> </button> <div class="max-md:hidden" data-astro-cid-3ef6ksr2> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </nav> <!-- Mobile sub-tab (hidden by default) --> <div class="mobile-tabs" id="mobile-tabs" data-astro-cid-3ef6ksr2> <a href="/articles/" class="mobile-tab" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="mobile-tab" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="mobile-tab" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <!-- Search Modal --> <div id="search-modal" class="search-modal" data-astro-cid-3ef6ksr2> <div class="search-backdrop" data-astro-cid-3ef6ksr2></div> <div class="search-container" data-astro-cid-3ef6ksr2> <div class="search-input-wrap" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> <input id="search-input" type="text" placeholder="Search posts..." autocomplete="off" data-astro-cid-3ef6ksr2> <kbd class="search-kbd" data-astro-cid-3ef6ksr2>ESC</kbd> </div> <div id="search-results" class="search-results" data-astro-cid-3ef6ksr2></div> </div> </div>  <script type="module">const o=document.getElementById("posts-trigger"),l=document.getElementById("mobile-tabs");if(o&&l){const e=o.querySelector(".chevron");o.addEventListener("click",t=>{window.innerWidth<=768&&(t.preventDefault(),l.classList.toggle("open"),e?.classList.toggle("open"))});const i=window.location.pathname;l.querySelectorAll(".mobile-tab").forEach(t=>{i.startsWith(t.getAttribute("href")||"")&&t.classList.add("active")})}let s=null;async function m(){if(s)return s;try{s=await import(new URL("/pagefind/pagefind.js",window.location.origin).href),await s.init()}catch{console.warn("Pagefind not available (run build first)")}return s}const c=document.getElementById("search-modal"),r=document.getElementById("search-input"),a=document.getElementById("search-results"),p=document.getElementById("search-btn"),v=c.querySelector(".search-backdrop");function f(){c.classList.add("open"),r.value="",a.innerHTML="",setTimeout(()=>r.focus(),50),m()}function d(){c.classList.remove("open")}p.addEventListener("click",f);v.addEventListener("click",d);document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),c.classList.contains("open")?d():f()),e.key==="Escape"&&d()});let u;r.addEventListener("input",()=>{clearTimeout(u),u=setTimeout(()=>g(r.value),200)});async function g(e){if(!e.trim()){a.innerHTML="";return}const i=await m();if(!i){a.innerHTML='<div class="search-no-results">Search is not available in dev mode.</div>';return}const t=await i.search(e);if(t.results.length===0){a.innerHTML='<div class="search-no-results">No results found.</div>';return}const h=await Promise.all(t.results.slice(0,10).map(n=>n.data()));a.innerHTML=h.map(n=>`
        <a href="${n.url}" class="search-result-item">
          <div class="search-result-title">${n.meta?.title||n.url}</div>
          <div class="search-result-excerpt">${n.excerpt}</div>
        </a>
      `).join("")}</script> <div class="post-container">   <h1 class="post-title">AI 에이전트를 만드는 방법</h1> <span class="post-date">Written on April 26, 2025</span> <img src="/images/2025-04-26-how-to-build-an-agent/thumbnail.png" alt="AI 에이전트를 만드는 방법" style="width: 100%;"><div class="toc" data-margin-top="50"><ul class="toc-list"><li><a href="#비결정론적-문제">비결정론적 문제</a></li><li><a href="#소프트웨어의-진화">소프트웨어의 진화</a></li><li><a href="#ai-에이전트란">AI 에이전트란?</a></li><li><a href="#직접-ai-에이전트-만들어보기">직접 AI 에이전트 만들어보기</a><ul class="toc-list"><li><a href="#대화-가능한-에이전트-구현">대화 가능한 에이전트 구현</a></li><li><a href="#툴-사용하기">툴 사용하기</a></li><li><a href="#계획과-실행">계획과 실행</a></li><li><a href="#메모리">메모리</a></li></ul></li><li><a href="#더-쉬운-길은-없을까">더 쉬운 길은 없을까?</a></li><li><a href="#마치며">마치며</a></li></ul></div><div class="post-content" data-pagefind-body>  <p>오늘은 에이전트 이야기를 해보려고 합니다. 모두가 항상 말하듯 개발자의 역할은 ‘소프트웨어로 문제를 해결하는 것’입니다. 소프트웨어가 빠르게 발전하고, 산업도 커지며 많은 문제가 해결됐지만 여전히 해결해야 할 문제는 많습니다.</p>
<p>최근에는 AI가 등장하며 소프트웨어 패러다임이 변화하고 있습니다. 소프트웨어가 해결하는 문제도, 개발하는 방법도 달라지는 혼돈의 시기지만 AI가 아직까지 해결하지 못한 문제를 해결해줄 수 있는 키가 될 것은 확실해 보입니다.</p>
<p>그런 관점에서 더이상 AI를 무시할 수는 없게 됐습니다. 따라서 오늘은 AI 에이전트가 무엇인지, 어떤 문제를 해결할 수 있는지 알아보고 어떻게 만들 수 있는지 알아보겠습니다.</p>
<h1 id="비결정론적-문제"><a href="#비결정론적-문제">비결정론적 문제</a></h1>
<p>지금까지 소프트웨어는 결정론적인 문제를 해결하는 데 집중해왔습니다. 결정론적 문제란 문제에 대해 정답을 예측할 수 있는 문제를 의미합니다. 대표적으로, 1 + 1 = 2와 같은 수학 문제는 정답을 예측할 수 있기에 결정론적입니다. 이러한 문제는 알고리즘을 통해 해결할 수 있으며, 소프트웨어 개발자들은 이를 해결하기 위해 다양한 알고리즘과 데이터 구조를 사용해왔습니다.</p>
<p>하지만 현실 세계의 문제는 비결정론적입니다. 결정론적 문제와는 반대로 비결정론적 문제는 불규칙하기에 정답을 예측하기 어렵습니다. 예를 들어, 고객의 CS 응대를 하거나 소프트웨어의 UX를 개선하는 것은 비결정론적 문제입니다. 이러한 문제는 특정 알고리즘으로 해결하기 어렵고, 많은 경우 경험과 직관이 필요합니다.</p>
<p>지금까지의 소프트웨어는 다음과 같은 비결정론적 문제의 특징으로 인해 해결하기 어려웠습니다.</p>
<ul>
<li><strong>모호성</strong>: 입력이나 요구사항이 명확하게 정의되지 않음</li>
<li><strong>불확실성</strong>: 정답이 여러 개 존재하거나 최적의 답이 상황에 따라 달라질 수 있음</li>
<li><strong>복잡성</strong>: 변수가 너무 많거나 서로 복잡하게 얽혀 있음</li>
<li><strong>유연성 요구</strong>: 기존 패턴에서 벗어난 사고가 필요함</li>
</ul>
<p>앞서 비결정론적 문제를 해결하기 위해선 경험과 직관이 필요하다고 언급했습니다. 경험과 직관이란 결국 대량의 데이터와 패턴이라 할 수 있습니다. 즉, 비결정론적 문제는 정답을 예측하기 어렵지만, 과거의 데이터를 기반으로 패턴을 찾아내어 해결할 수 있습니다. 많은 사람들이 이런 방법을 통해 비결정론적 문제를 해결하고자 했고 결국 머신러닝 모델이 등장하게 됐습니다.</p>
<h1 id="소프트웨어의-진화"><a href="#소프트웨어의-진화">소프트웨어의 진화</a></h1>
<p>소프트웨어는 처음 등장했을 때부터 지금까지 많은 발전을 해왔습니다. 초기의 소프트웨어는 결정론적 문제를 해결하는 데 집중했습니다. 이러한 결정론적 문제는 논리적인 사고와 명시적인 규칙, 제한된 입력을 통해 해결할 수 있었습니다. 예를 들어, 계산기 소프트웨어는 사용자가 규칙에 따라 입력한 수식을 기반으로 결과를 계산하는 결정론적 문제를 해결합니다. 이렇게 결정론적 문제를 해결하는 소프트웨어를 소프트웨어 1.0이라고 부릅니다.</p>
<figure><img src="/images/2025-04-26-how-to-build-an-agent/software-1-0.png" alt="소프트웨어 1.0은 정해진 입력을 프로그램으로 처리한다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>소프트웨어 1.0은 정해진 입력을 프로그램으로 처리한다</figcaption></figure>
<p>하지만 앞서 언급했 듯이 현실 세계의 많은 문제는 비결정론적입니다. 비결정론적 문제를 해결하기 위해 많은 데이터를 수집했고 이를 기반으로 패턴을 찾아내는 방법이 필요했습니다. 이 방법을 통해 나온 것이 머신러닝 모델입니다.</p>
<p>머신러닝 모델은 대량의 데이터를 기반으로 학습하여 패턴을 찾아내고, 이를 바탕으로 예측이나 분류 등의 작업을 수행할 수 있습니다. 예를 들어, 추천 시스템은 사용자의 행동 데이터를 기반으로 패턴을 찾아내어 개인화된 추천을 제공합니다. 이러한 머신러닝 모델을 활용하여 비결정론적 문제를 해결하는 소프트웨어를 소프트웨어 2.0이라고 부릅니다.</p>
<figure><img src="/images/2025-04-26-how-to-build-an-agent/software-2-0.png" alt="소프트웨어 2.0은 입력을 머신러닝 모델로 처리한다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>소프트웨어 2.0은 입력을 머신러닝 모델로 처리한다</figcaption></figure>
<p>그리고 이제 LLM이 등장했습니다. LLM은 대량의 데이터를 기반으로 학습하여 자연어를 이해하고 생성할 수 있는 머신러닝 모델입니다.</p>
<p>이를 통해 LLM은 사용자가 자연어로 입력한 프롬프트를 이해하고, 이를 기반으로 적절한 응답을 생성합니다. 예를 들어, 사용자가 “오늘 날씨 어때?”라고 물으면 LLM은 날씨 정보를 검색하여 적절한 응답을 생성합니다. 이러한 LLM을 활용하여 비결정론적 문제를 해결하는 소프트웨어를 소프트웨어 3.0이라고 부릅니다.</p>
<figure><img src="/images/2025-04-26-how-to-build-an-agent/software-3-0.png" alt="소프트웨어 3.0은 프롬프트를 통해 문제를 해결한다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>소프트웨어 3.0은 프롬프트를 통해 문제를 해결한다</figcaption></figure>
<p>이렇게 세 가지 방식으로 소프트웨어를 분류했습니다. 이 분류 방법이 공식적인 것은 아닙니다. 다만, 패러다임이 바뀜에 따라 여러 <a href="https://medium.com/@itamar_f/software-3-0-the-era-of-intelligent-software-development-acd3cafe6cd7" rel="noopener noreferrer" target="_blank">아티클</a>이나 <a href="https://kciter.so/posts/best-prompt-engineering-lesson/" rel="noopener noreferrer" target="_blank">도서</a>에서 이러한 분류 방법을 따르고 있습니다.</p>
<p>중요한 점은 각 분류에 우위가 있는게 아니라, 각 분류가 서로 보완적이라는 점입니다. 결정론적인 문제는 알고리즘을 통해 해결하는 것이 가장 빠르고 효율적입니다. 반면, 비결정론적 문제는 머신러닝 모델을 통해 해결하는 것이 더 효과적입니다. 그리고 LLM은 비결정론적 문제를 해결하는 데 있어 프롬프트라는 자연어로 문제를 해결할 수 있는 방법을 제공합니다. 어떻게보면 점차 사람과 가까워지는 방향으로 추상화되고 있다고 볼 수 있습니다.</p>
<h1 id="ai-에이전트란"><a href="#ai-에이전트란">AI 에이전트란?</a></h1>
<p>LLM은 자연어를 이해하고 생성할 수 있는 머신러닝 모델입니다. 하지만 LLM은 단순히 입력된 프롬프트에 대해 응답을 생성하는 것에 그칩니다. 즉, LLM은 사용자가 원하는 작업을 수행하기 위해 필요한 정보를 수집하거나, 여러 단계를 거쳐 작업을 수행하는 등의 복잡한 작업을 수행할 수 없습니다. 이러한 한계를 넘어 실행 가능한 지능(Acting Intelligence)을 만들기 위해 등장한 개념이 AI 에이전트(AI Agent)입니다.</p>
<p>조금 더 자세히 설명하자면, AI 에이전트는 LLM이 단순히 텍스트를 생성하는 것을 넘어서, 도구를 사용하고 환경과 상호작용함으로써 문제를 해결하는 시스템을 말합니다. 즉, LLM이 계획을 세워 API를 호출하거나 데이터베이스에 접근하여 정보를 수집하고, 이를 바탕으로 작업을 수행하는 것입니다.</p>
<p>그리고 이런 AI 에이전트를 만들기 위한 일반적인 아키텍처는 다음과 같습니다.</p>
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1QM7We" prefix="r9" component-url="/_astro/Image.BKsTl0S2.js" component-export="default" renderer-url="/_astro/client.C9fCgUO1.js" props="{&quot;src&quot;:[0,&quot;/images/2025-04-26-how-to-build-an-agent/ai-agent-flow.png&quot;],&quot;caption&quot;:[0,&quot;일반적인 AI 에이전트 아키텍처&quot;],&quot;expandable&quot;:[0,true]}" ssr client="load" opts="{&quot;name&quot;:&quot;Image&quot;,&quot;value&quot;:true}" await-children><figure><img src="/images/2025-04-26-how-to-build-an-agent/ai-agent-flow.png" alt="일반적인 AI 에이전트 아키텍처" loading="lazy" width="100%" style="cursor:zoom-in;margin:0 auto;display:block"/><figcaption>일반적인 AI 에이전트 아키텍처</figcaption></figure><!--astro:end--></astro-island>
<p>AI 에이전트 아키텍처는 크게 세 레이어로 구분됩니다.</p>
<ol>
<li><strong>Model</strong><br/>LLM을 포함한 모델 레이어입니다. 사용자의 프롬프트를 이해하고, 이를 바탕으로 작업을 수행합니다.</li>
<li><strong>Orchestration</strong><br/>AI 에이전트의 핵심 레이어입니다. 사용자의 프롬프트를 분석하고, 작업을 계획하고, 이를 수행하는 모듈로 구성됩니다. 이 레이어는 LLM과 도구를 연결하여 AI 에이전트가 실제로 작업을 수행할 수 있도록 합니다.</li>
<li><strong>Tool</strong><br/>AI 에이전트가 사용할 수 있는 도구 레이어입니다. API 호출, 데이터베이스 접근 등 다양한 작업을 수행할 수 있는 도구를 제공합니다.</li>
</ol>
<p>위와 같은 아키텍처에서 만약 “오늘 뉴스를 요약하여 Notion에 기록하고, 관련 키워드를 Slack으로 공유해줘”라는 프롬프트가 입력으로 들어왔다면, AI 에이전트는 다음과 같이 작업을 수행할 수 있습니다.</p>
<ol>
<li>LLM<br/>→ <code>뉴스 요약 → 기록 → 공유</code>라는 자연어 계획 생성</li>
<li>Planner<br/>→ 이를 Tool 호출 목록으로 세분화, 실패/성공 시나리오 생성</li>
<li>Executor<br/>→ <code>news_api.get()</code> → <code>llm.summarize()</code> → <code>notion.create()</code> → <code>llm.keywords()</code> → <code>slack.send()</code> 순차 실행</li>
<li>Memory<br/>→ 요약/키워드/사용자 요청 내용 저장</li>
<li>최종 응답<br/>→ “요약문이 Notion에 기록되었고, 키워드는 Slack에 공유되었습니다.”라는 최종 응답 생성</li>
</ol>
<p>이렇게 AI 에이전트는 사용자의 요청을 이해하고, 이를 바탕으로 여러 단계를 거쳐 작업을 수행할 수 있습니다. 즉, AI 에이전트는 LLM의 능력을 확장하여 더 복잡한 작업을 수행할 수 있습니다.</p>
<h1 id="직접-ai-에이전트-만들어보기"><a href="#직접-ai-에이전트-만들어보기">직접 AI 에이전트 만들어보기</a></h1>
<p>그럼 이제 실제로 AI 에이전트를 만드는 방법에 대해서 알아보겠습니다. 여기서는 간단하게 대화할 수 있는 에이전트부터, 복잡한 오케스트레이션을 사용하는 에이전트까지 만들어보겠습니다.</p>
<p>참고로 최종적으로 만들어진 코드는 <a href="https://github.com/kciter/geeknews-agent-sample" rel="noopener noreferrer" target="_blank">GitHub 저장소</a>에서 확인할 수 있습니다.</p>
<h2 id="대화-가능한-에이전트-구현"><a href="#대화-가능한-에이전트-구현">대화 가능한 에이전트 구현</a></h2>
<p>먼저 단순히 LLM과 대화할 수 있는 에이전트를 만들어보겠습니다. 여기서는 간단한 TypeScript 코드와 OpenAI API를 활용하여 대화할 수 있는 에이전트를 만들어보겠습니다.</p>
<p>시작하기전 필요한 준비물은 다음과 같습니다.</p>
<ol>
<li>OpenAI API 키</li>
<li>Node.js 환경</li>
<li>TypeScript 환경</li>
</ol>
<blockquote>
<p>OpenAI API 키 발급과 크레딧 충전은 <a href="https://platform.openai.com/docs/api-reference/authentication" rel="noopener noreferrer" target="_blank">OpenAI 공식 문서</a>에서 확인할 수 있습니다.</p>
</blockquote>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">mkdir</span><span style="color:#032F62"> simple-agent</span></span>
<span class="line"><span style="color:#005CC5">cd</span><span style="color:#032F62"> simple-agent</span></span>
<span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> init</span><span style="color:#005CC5"> -y</span><span style="color:#6A737D"> # package.json 생성</span></span>
<span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span><span style="color:#032F62"> typescript</span><span style="color:#032F62"> ts-node</span><span style="color:#032F62"> @types/node</span><span style="color:#005CC5"> --save-dev</span><span style="color:#6A737D"> # 타입스크립트 설치</span></span>
<span class="line"><span style="color:#6F42C1">npx</span><span style="color:#032F62"> tsc</span><span style="color:#005CC5"> --init</span><span style="color:#6A737D"> # tsconfig.json 생성</span></span>
<span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span><span style="color:#032F62"> openai</span><span style="color:#032F62"> dotenv</span><span style="color:#6A737D"> # 라이브러리 설치</span></span></code></pre>
<p>이제 <code>src</code> 디렉토리를 만들고, 필요한 코드를 작성해보겠습니다. 먼저 OpenAI API를 사용하여 대화하는 코드를 작성해보겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/chatAgent.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> OpenAI </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;openai&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> readline </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;readline&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> openai</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> OpenAI</span><span style="color:#24292E">({ apiKey: process.env.</span><span style="color:#005CC5">OPENAI_API_KEY</span><span style="color:#24292E"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> startChatAgent</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> rl</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> readline.</span><span style="color:#6F42C1">createInterface</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    input: process.stdin,</span></span>
<span class="line"><span style="color:#24292E">    output: process.stdout,</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&#39;💬 AI 에이전트와의 대화를 시작합니다. 종료하려면 Ctrl+C를 누르세요.</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&#39;</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (</span><span style="color:#005CC5">true</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> userInput</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#D73A49"> new</span><span style="color:#005CC5"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt;((</span><span style="color:#E36209">resolve</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      rl.</span><span style="color:#6F42C1">question</span><span style="color:#24292E">(</span><span style="color:#032F62">&#39;👤 사용자: &#39;</span><span style="color:#24292E">, resolve);</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> res</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> openai.chat.completions.</span><span style="color:#6F42C1">create</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">      model: </span><span style="color:#032F62">&#39;gpt-4-0613&#39;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      messages: [{ role: </span><span style="color:#032F62">&#39;user&#39;</span><span style="color:#24292E">, content: userInput }],</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> reply</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> res.choices[</span><span style="color:#005CC5">0</span><span style="color:#24292E">].message?.content;</span></span>
<span class="line"><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`🤖 에이전트: ${</span><span style="color:#24292E">reply</span><span style="color:#032F62">}</span><span style="color:#005CC5">\n</span><span style="color:#032F62">`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이어서 <code>index.ts</code> 파일을 만들어 에이전트를 실행하는 코드를 작성해보겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/index.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> dotenv </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;dotenv&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">dotenv.</span><span style="color:#6F42C1">config</span><span style="color:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { startChatAgent } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./chatAgent&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">startChatAgent</span><span style="color:#24292E">();</span></span></code></pre>
<p>마지막으로 <code>.env</code> 파일을 만들어 OpenAI API 키를 설정합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># .env</span></span>
<span class="line"><span style="color:#24292E">OPENAI_API_KEY</span><span style="color:#D73A49">=</span><span style="color:#032F62">...</span><span style="color:#6A737D"> # OpenAI API 키</span></span></code></pre>
<p>이제 모든 준비가 끝났습니다. 다음과 같이 실행하면 AI 에이전트와 대화할 수 있습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">npx</span><span style="color:#032F62"> ts-node</span><span style="color:#032F62"> src/index.ts</span></span>
<span class="line"><span style="color:#6F42C1">💬</span><span style="color:#032F62"> AI</span><span style="color:#032F62"> 에이전트와의</span><span style="color:#032F62"> 대화를</span><span style="color:#032F62"> 시작합니다.</span><span style="color:#032F62"> 종료하려면</span><span style="color:#032F62"> Ctrl+C를</span><span style="color:#032F62"> 누르세요.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 안녕하세요.</span><span style="color:#032F62"> 잘</span><span style="color:#032F62"> 지내시나요?</span></span>
<span class="line"><span style="color:#6F42C1">🤖</span><span style="color:#032F62"> 에이전트:</span><span style="color:#032F62"> 안녕하세요!</span><span style="color:#032F62"> 저는</span><span style="color:#032F62"> 잘</span><span style="color:#032F62"> 지내고</span><span style="color:#032F62"> 있습니다.</span><span style="color:#032F62"> 당신은</span><span style="color:#032F62"> 어떻게</span><span style="color:#032F62"> 지내시나요?</span><span style="color:#032F62"> 도움이</span><span style="color:#032F62"> 필요하시면</span><span style="color:#032F62"> 언제든지</span><span style="color:#032F62"> 말씀해</span><span style="color:#032F62"> 주세요!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#24292E"> </span></span></code></pre>
<h2 id="툴-사용하기"><a href="#툴-사용하기">툴 사용하기</a></h2>
<p>이제 LLM과 대화할 수 있는 에이전트를 만들었습니다. 하지만 이 에이전트는 단순히 LLM과 대화하는 것에 그칩니다. 이번에는 툴을 사용하여 더 복잡한 작업을 수행할 수 있는 에이전트를 만들어보겠습니다.</p>
<p>먼저 <a href="https://news.hada.io/" rel="noopener noreferrer" target="_blank">GeekNews</a>에서 최신 글 목록을 가져오는 툴을 만들어보겠습니다. GeekNews는 RSS 피드를 제공하므로, 이를 활용하여 최신 글 목록을 가져올 수 있습니다.</p>
<p>이를 위해 <code>rss-parser</code> 라이브러리를 사용하여 RSS 피드를 파싱하는 코드를 작성해보겠습니다. 먼저 <code>rss-parser</code> 라이브러리를 설치합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span><span style="color:#032F62"> rss-parser</span></span></code></pre>
<p>이제 <code>tools.ts</code> 파일을 만들어 GeekNews RSS 피드를 가져오는 코드를 작성해보겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/tools.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> Parser </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;rss-parser&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> parser</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Parser</span><span style="color:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> fetchGeekNewsFeed</span><span style="color:#24292E">()</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">[]&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> feed</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> parser.</span><span style="color:#6F42C1">parseURL</span><span style="color:#24292E">(</span><span style="color:#032F62">&#39;https://feeds.feedburner.com/geeknews-feed&#39;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> feed.items.</span><span style="color:#6F42C1">slice</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">, </span><span style="color:#005CC5">20</span><span style="color:#24292E">).</span><span style="color:#6F42C1">map</span><span style="color:#24292E">(</span><span style="color:#E36209">item</span><span style="color:#D73A49"> =&gt;</span><span style="color:#032F62"> `${</span><span style="color:#24292E">item</span><span style="color:#032F62">.</span><span style="color:#24292E">title</span><span style="color:#032F62">}</span><span style="color:#005CC5">\n</span><span style="color:#032F62">${</span><span style="color:#24292E">item</span><span style="color:#032F62">.</span><span style="color:#24292E">link</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>다음으로 <code>toolSchema.ts</code> 파일을 만들어 툴의 스키마를 정의합니다. 여기서는 방금 만든 GeekNews RSS 피드를 가져오는 툴을 정의합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/toolSchema.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { ChatCompletionTool } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai/resources/chat&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> tools</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ChatCompletionTool</span><span style="color:#24292E">[] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#24292E">    type: </span><span style="color:#032F62">&quot;function&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    function: {</span></span>
<span class="line"><span style="color:#24292E">      name: </span><span style="color:#032F62">&quot;fetchGeekNewsFeed&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      description: </span><span style="color:#032F62">&quot;긱뉴스에서 최근 뉴스 항목을 가져옵니다&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      parameters: {</span></span>
<span class="line"><span style="color:#24292E">        type: </span><span style="color:#032F62">&quot;object&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        properties: {},</span></span>
<span class="line"><span style="color:#24292E">        required: [],</span></span>
<span class="line"><span style="color:#24292E">      },</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">];</span></span></code></pre>
<p>마지막으로 앞서 만든 <code>chatAgent.ts</code> 파일을 수정하여 툴을 사용할 수 있도록 합니다. 여기서는 사용자가 “긱뉴스”라고 입력하면 GeekNews RSS 피드를 가져오는 툴을 호출하도록 구현합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> OpenAI </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> readline </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;readline&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { tools } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./toolSchema&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { fetchGeekNewsFeed } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./tools&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> openai</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> OpenAI</span><span style="color:#24292E">({ apiKey: process.env.</span><span style="color:#005CC5">OPENAI_API_KEY</span><span style="color:#24292E"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> startChatAgent</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> rl</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> readline.</span><span style="color:#6F42C1">createInterface</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    input: process.stdin,</span></span>
<span class="line"><span style="color:#24292E">    output: process.stdout,</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#032F62">    &quot;💬 AI 에이전트와의 대화를 시작합니다. 종료하려면 Ctrl+C를 누르세요.</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (</span><span style="color:#005CC5">true</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> userInput</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#D73A49"> new</span><span style="color:#005CC5"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt;((</span><span style="color:#E36209">resolve</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      rl.</span><span style="color:#6F42C1">question</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;👤 사용자: &quot;</span><span style="color:#24292E">, resolve);</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> res</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> openai.chat.completions.</span><span style="color:#6F42C1">create</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">      model: </span><span style="color:#032F62">&quot;gpt-4o-mini&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      messages: [{ role: </span><span style="color:#032F62">&quot;user&quot;</span><span style="color:#24292E">, content: userInput }],</span></span>
<span class="line"><span style="color:#24292E">      tools,</span></span>
<span class="line"><span style="color:#24292E">      tool_choice: </span><span style="color:#032F62">&quot;auto&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> choice</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> res.choices[</span><span style="color:#005CC5">0</span><span style="color:#24292E">];</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> msg</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> choice.message;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (msg.tool_calls?.[</span><span style="color:#005CC5">0</span><span style="color:#24292E">]?.function.name </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;fetchGeekNewsFeed&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> data</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#6F42C1"> fetchGeekNewsFeed</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;📡 긱뉴스 결과:</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">, data.</span><span style="color:#6F42C1">join</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">));</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`🤖 에이전트: ${</span><span style="color:#24292E">msg</span><span style="color:#032F62">.</span><span style="color:#24292E">content</span><span style="color:#D73A49"> ??</span><span style="color:#032F62"> &quot;(응답 없음)&quot;}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>아래쪽 코드를 보면 <code>msg.tool_calls?.[0]?.function.name</code>을 통해 툴을 호출했는지 확인하는 부분이 있습니다. 만약 <code>fetchGeekNewsFeed</code> 툴을 호출했다면 앞서 만든 <code>fetchGeekNewsFeed</code> 함수를 호출하여 긱뉴스 RSS 피드를 가져옵니다. 그리고 가져온 데이터를 출력하도록 만들 수 있습니다.</p>
<p>실행하면 다음과 같이 긱뉴스 RSS 피드를 가져올 수 있습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1"> npx</span><span style="color:#032F62"> ts-node</span><span style="color:#032F62"> src/index.ts</span></span>
<span class="line"><span style="color:#6F42C1">💬</span><span style="color:#032F62"> AI</span><span style="color:#032F62"> 에이전트와의</span><span style="color:#032F62"> 대화를</span><span style="color:#032F62"> 시작합니다.</span><span style="color:#032F62"> 종료하려면</span><span style="color:#032F62"> Ctrl+C를</span><span style="color:#032F62"> 누르세요.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 안녕하세요</span></span>
<span class="line"><span style="color:#6F42C1">🤖</span><span style="color:#032F62"> 에이전트:</span><span style="color:#032F62"> 안녕하세요!</span><span style="color:#032F62"> 무엇을</span><span style="color:#032F62"> 도와드릴까요?</span></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 최근</span><span style="color:#032F62"> 긱뉴스</span><span style="color:#032F62"> 글</span><span style="color:#032F62"> 알려주세요</span></span>
<span class="line"><span style="color:#6F42C1">📡</span><span style="color:#032F62"> 긱뉴스</span><span style="color:#032F62"> 결과:</span></span>
<span class="line"><span style="color:#6F42C1">Ask</span><span style="color:#032F62"> GN:</span><span style="color:#032F62"> LLM으로</span><span style="color:#032F62"> 생산성이</span><span style="color:#032F62"> 증가한거</span><span style="color:#032F62"> 같은데요.</span><span style="color:#032F62"> 왜</span><span style="color:#032F62"> 저는</span><span style="color:#032F62"> 여전히</span><span style="color:#032F62"> 바쁠까요?</span></span>
<span class="line"><span style="color:#6F42C1">https://news.hada.io/topic?id</span><span style="color:#032F62">=20632</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">샤오미</span><span style="color:#032F62"> MiMo</span><span style="color:#032F62"> 추론</span><span style="color:#032F62"> 모델</span></span>
<span class="line"><span style="color:#6F42C1">https://news.hada.io/topic?id</span><span style="color:#032F62">=20631</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">AI</span><span style="color:#032F62"> 이미지</span><span style="color:#032F62"> 생성</span><span style="color:#032F62"> 서비스</span><span style="color:#032F62"> Civit이</span><span style="color:#032F62"> 검열을</span><span style="color:#032F62"> 강화하는</span><span style="color:#032F62"> 진짜</span><span style="color:#032F62"> 이유</span><span style="color:#032F62"> -</span><span style="color:#032F62"> &quot;Visa&quot;</span></span>
<span class="line"><span style="color:#6F42C1">https://news.hada.io/topic?id</span><span style="color:#032F62">=20630</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">...</span></span></code></pre>
<h2 id="계획과-실행"><a href="#계획과-실행">계획과 실행</a></h2>
<p>만약 다음과 같이 단계적으로 작업을 수행해야 한다면 어떻게 해야 할까요?</p>
<blockquote>
<p>“긱뉴스에서 최근 글을 가져와서 인공지능(AI) 관련 글만 필터링하고 이메일로 보내줘”</p>
</blockquote>
<p>이런 경우엔 프롬프트를 기반으로 계획을 나눈 후, 각 단계를 실행해야 합니다. 즉, 사용자의 요청을 분석하고, 이를 바탕으로 작업을 계획하고, 이를 수행하는 모듈들이 필요합니다. 이러한 모듈들을 모아 Orchestration이라고 부릅니다.</p>
<p>먼저 계획을 수립하는 Planner 에이전트를 만들어보겠습니다. OpenAI API를 사용하여 사용자의 요청을 분석하고, 이를 바탕으로 작업을 계획할 수 있습니다.</p>
<p>Planner 에이전트가 수립한 계획을 동적으로 실행하기 위해선 계획에 대한 구조를 정의해야 합니다. JSON 구조를 다음과 같이 정의하겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="json"><code><span class="line"><span style="color:#24292E">[</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#005CC5">&quot;action&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;fetchGeekNewsFeed&quot;</span><span style="color:#24292E"> },</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#005CC5">&quot;action&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;filter&quot;</span><span style="color:#24292E">, </span><span style="color:#005CC5">&quot;args&quot;</span><span style="color:#24292E">: { </span><span style="color:#005CC5">&quot;keyword&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;AI&quot;</span><span style="color:#24292E"> } },</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#005CC5">&quot;action&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;summarize&quot;</span><span style="color:#24292E"> },</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#005CC5">&quot;action&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;sendEmail&quot;</span><span style="color:#24292E">, </span><span style="color:#005CC5">&quot;args&quot;</span><span style="color:#24292E">: { </span><span style="color:#005CC5">&quot;subject&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;오늘의 뉴스&quot;</span><span style="color:#24292E"> } }</span></span>
<span class="line"><span style="color:#24292E">]</span></span></code></pre>
<p>이제 <code>plannerAgent.ts</code> 파일을 만들어 Planner 에이전트를 구현합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/plannerAgent.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> OpenAI </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { tools } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./toolSchema&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> openai</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> OpenAI</span><span style="color:#24292E">({ apiKey: process.env.</span><span style="color:#005CC5">OPENAI_API_KEY</span><span style="color:#24292E"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getToolDescriptions</span><span style="color:#24292E">()</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> tools</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">map</span><span style="color:#24292E">((</span><span style="color:#E36209">t</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> name</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> t.function.name;</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> desc</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> t.function.description;</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#032F62"> `- ${</span><span style="color:#24292E">name</span><span style="color:#032F62">}: ${</span><span style="color:#24292E">desc</span><span style="color:#032F62">}`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    })</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">join</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> createStructuredPlan</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#E36209">  userRequest</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span></span>
<span class="line"><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">any</span><span style="color:#24292E">[]&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> prompt</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> `</span></span>
<span class="line"><span style="color:#032F62">당신은 사용자의 자연어 요청을 계획으로 분해하는 시스템입니다.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">다음은 사용할 수 있는 도구 목록입니다:</span></span>
<span class="line"><span style="color:#032F62">${</span><span style="color:#6F42C1">getToolDescriptions</span><span style="color:#032F62">()</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">**주의:**</span></span>
<span class="line"><span style="color:#032F62">- 요청에 명시된 작업만 계획하세요.</span></span>
<span class="line"><span style="color:#032F62">- 추론을 통해 추가 도구를 사용하지 마세요.</span></span>
<span class="line"><span style="color:#032F62">- 코드 블록을 사용하지 마세요.</span></span>
<span class="line"><span style="color:#032F62">- 각 작업은 JSON 객체로 표현되어야 하며, &quot;action&quot; 필드와 선택적 &quot;args&quot; 필드를 포함해야 합니다.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">요청: &quot;${</span><span style="color:#24292E">userRequest</span><span style="color:#032F62">}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">출력 예시:</span></span>
<span class="line"><span style="color:#032F62">[</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;fetchGeekNewsFeed&quot; },</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;filter&quot;, &quot;args&quot;: { &quot;keyword&quot;: &quot;AI&quot; } },</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;sendEmail&quot;, &quot;args&quot;: { &quot;subject&quot;: &quot;오늘의 뉴스&quot; } }</span></span>
<span class="line"><span style="color:#032F62">]</span></span>
<span class="line"><span style="color:#032F62">`</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> res</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> openai.chat.completions.</span><span style="color:#6F42C1">create</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    model: </span><span style="color:#032F62">&quot;gpt-4o-mini&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    messages: [{ role: </span><span style="color:#032F62">&quot;user&quot;</span><span style="color:#24292E">, content: prompt }],</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> planText</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> res.choices[</span><span style="color:#005CC5">0</span><span style="color:#24292E">].message?.content </span><span style="color:#D73A49">??</span><span style="color:#032F62"> &quot;[]&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> clean</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> planText</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/</span><span style="color:#D73A49">^</span><span style="color:#032F62">```json/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/</span><span style="color:#D73A49">^</span><span style="color:#032F62">```/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/```</span><span style="color:#D73A49">$</span><span style="color:#032F62">/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">trim</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#005CC5"> JSON</span><span style="color:#24292E">.</span><span style="color:#6F42C1">parse</span><span style="color:#24292E">(clean);</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span></code></pre>
<p>이제 계획을 실행하는 Executor를 만들어보겠습니다. Executor 에이전트는 Planner 에이전트가 수립한 계획을 기반으로 각 단계를 실행합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#005CC5"> *</span><span style="color:#D73A49"> as</span><span style="color:#24292E"> tools </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./tools&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> PlanStep</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  action</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#E36209">  args</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> Record</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">, </span><span style="color:#005CC5">any</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> executeStructuredPlan</span><span style="color:#24292E">(</span><span style="color:#E36209">plan</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> PlanStep</span><span style="color:#24292E">[]) {</span></span>
<span class="line"><span style="color:#D73A49">  let</span><span style="color:#24292E"> context </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &quot;&quot;</span><span style="color:#24292E">; </span><span style="color:#6A737D">// 초기 context는 빈 문자열</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">let</span><span style="color:#24292E"> i </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; i </span><span style="color:#D73A49">&lt;</span><span style="color:#24292E"> plan.</span><span style="color:#005CC5">length</span><span style="color:#24292E">; i</span><span style="color:#D73A49">++</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#24292E"> { </span><span style="color:#005CC5">action</span><span style="color:#24292E">, </span><span style="color:#005CC5">args</span><span style="color:#24292E"> } </span><span style="color:#D73A49">=</span><span style="color:#24292E"> plan[i];</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> tool</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> (tools </span><span style="color:#D73A49">as</span><span style="color:#005CC5"> any</span><span style="color:#24292E">)[action];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">!</span><span style="color:#24292E">tool) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">warn</span><span style="color:#24292E">(</span><span style="color:#032F62">`⚠️ 등록되지 않은 도구: ${</span><span style="color:#24292E">action</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">      continue</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`</span><span style="color:#005CC5">\n</span><span style="color:#032F62">🚀 [${</span><span style="color:#24292E">i</span><span style="color:#032F62">}] 실행: ${</span><span style="color:#24292E">action</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (args) console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`🔧 args: ${</span><span style="color:#005CC5">JSON</span><span style="color:#032F62">.</span><span style="color:#6F42C1">stringify</span><span style="color:#032F62">(</span><span style="color:#24292E">args</span><span style="color:#032F62">)</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    try</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      context </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> await</span><span style="color:#6F42C1"> tool</span><span style="color:#24292E">(context, args);</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">catch</span><span style="color:#24292E"> (err) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">error</span><span style="color:#24292E">(</span><span style="color:#032F62">`❌ ${</span><span style="color:#24292E">action</span><span style="color:#032F62">} 실행 중 오류 발생`</span><span style="color:#24292E">, err);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">✅ 최종 결과:&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(context);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이어서 필요한 툴을 만들어보겠습니다. 여기서 메일을 보내기 위해 <code>nodemailer</code> 라이브러리를 사용하겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span><span style="color:#032F62"> nodemailer</span></span>
<span class="line"><span style="color:#6F42C1">npm</span><span style="color:#032F62"> install</span><span style="color:#032F62"> @types/nodemailer</span><span style="color:#005CC5"> --save-dev</span><span style="color:#6A737D"> # 타입 정의 설치</span></span></code></pre>
<p>이제 <code>tools.ts</code> 파일을 수정하여 글 필터링 툴, 글 요약 툴, 이메일 전송 툴을 추가합니다. 참고로 툴을 만들 때는 <code>context</code>를 첫 번째 인자로 받고, 두 번째 인자로 <code>args</code>를 받도록 합니다. <code>context</code>는 이전 단계에서 생성된 결과를 전달받고, <code>args</code>는 툴에 필요한 추가 인자를 전달받습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> Parser </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;rss-parser&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> nodemailer </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;nodemailer&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> OpenAI </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> parser</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Parser</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> openai</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> OpenAI</span><span style="color:#24292E">({ apiKey: process.env.</span><span style="color:#005CC5">OPENAI_API_KEY</span><span style="color:#24292E"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> fetchGeekNewsFeed</span><span style="color:#24292E">()</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> feed</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> parser.</span><span style="color:#6F42C1">parseURL</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#032F62">    &quot;https://feeds.feedburner.com/geeknews-feed&quot;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> feed.items</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">slice</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">, </span><span style="color:#005CC5">20</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">map</span><span style="color:#24292E">((</span><span style="color:#E36209">item</span><span style="color:#24292E">, </span><span style="color:#E36209">index</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#032F62"> `${</span><span style="color:#24292E">index</span><span style="color:#D73A49"> +</span><span style="color:#005CC5"> 1</span><span style="color:#032F62">}. ${</span><span style="color:#24292E">item</span><span style="color:#032F62">.</span><span style="color:#24292E">title</span><span style="color:#032F62">} / ${</span><span style="color:#24292E">item</span><span style="color:#032F62">.</span><span style="color:#24292E">link</span><span style="color:#032F62">}`</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">join</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> filter</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#E36209">  context</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">  args</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">keyword</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> prompt</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> `다음 항목들 중 &#39;${</span><span style="color:#24292E">args</span><span style="color:#032F62">.</span><span style="color:#24292E">keyword</span><span style="color:#032F62">}&#39;와 관련된 항목만 골라주세요.`</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> res</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> openai.chat.completions.</span><span style="color:#6F42C1">create</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    model: </span><span style="color:#032F62">&quot;gpt-4o-mini&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    messages: [{ role: </span><span style="color:#032F62">&quot;user&quot;</span><span style="color:#24292E">, content: </span><span style="color:#032F62">`${</span><span style="color:#24292E">prompt</span><span style="color:#032F62">}</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">${</span><span style="color:#24292E">context</span><span style="color:#032F62">}`</span><span style="color:#24292E"> }],</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> text</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> res.choices[</span><span style="color:#005CC5">0</span><span style="color:#24292E">].message?.content </span><span style="color:#D73A49">??</span><span style="color:#032F62"> &quot;&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> text;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> sendEmail</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#E36209">  context</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">  args</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">subject</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> transporter</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> nodemailer.</span><span style="color:#6F42C1">createTransport</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    service: </span><span style="color:#032F62">&quot;gmail&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    auth: {</span></span>
<span class="line"><span style="color:#24292E">      user: process.env.</span><span style="color:#005CC5">EMAIL_FROM</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      pass: process.env.</span><span style="color:#005CC5">EMAIL_PASS</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  await</span><span style="color:#24292E"> transporter.</span><span style="color:#6F42C1">sendMail</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    from: process.env.</span><span style="color:#005CC5">EMAIL_FROM</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    to: process.env.</span><span style="color:#005CC5">EMAIL_TO</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    subject: args.subject,</span></span>
<span class="line"><span style="color:#24292E">    text: context,</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;📧 이메일 전송 완료&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#032F62"> &quot;이메일 전송 완료&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> print</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#E36209">  context</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">  args</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">subject</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;📜 출력:&quot;</span><span style="color:#24292E">, context);</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#032F62"> &quot;출력 완료&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이제 <code>toolSchema.ts</code> 파일을 수정하여 툴을 추가합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/toolSchema.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { ChatCompletionTool } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai/resources/chat&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> tools</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ChatCompletionTool</span><span style="color:#24292E">[] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#24292E">    type: </span><span style="color:#032F62">&quot;function&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    function: {</span></span>
<span class="line"><span style="color:#24292E">      name: </span><span style="color:#032F62">&quot;fetchGeekNewsFeed&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      description: </span><span style="color:#032F62">&quot;긱뉴스에서 최근 뉴스 항목을 가져옵니다&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      parameters: {</span></span>
<span class="line"><span style="color:#24292E">        type: </span><span style="color:#032F62">&quot;object&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        properties: {},</span></span>
<span class="line"><span style="color:#24292E">        required: [],</span></span>
<span class="line"><span style="color:#24292E">      },</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#24292E">    type: </span><span style="color:#032F62">&quot;function&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    function: {</span></span>
<span class="line"><span style="color:#24292E">      name: </span><span style="color:#032F62">&quot;filter&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      description: </span><span style="color:#032F62">&quot;문자열 항목을 키워드와 관련 있는 것으로 필터링합니다&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      parameters: {</span></span>
<span class="line"><span style="color:#24292E">        type: </span><span style="color:#032F62">&quot;object&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        properties: {</span></span>
<span class="line"><span style="color:#24292E">          keyword: {</span></span>
<span class="line"><span style="color:#24292E">            type: </span><span style="color:#032F62">&quot;string&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">            description: </span><span style="color:#032F62">&quot;필터링할 키워드&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">          },</span></span>
<span class="line"><span style="color:#24292E">        },</span></span>
<span class="line"><span style="color:#24292E">        required: [</span><span style="color:#032F62">&quot;keyword&quot;</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">      },</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#24292E">    type: </span><span style="color:#032F62">&quot;function&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    function: {</span></span>
<span class="line"><span style="color:#24292E">      name: </span><span style="color:#032F62">&quot;sendEmail&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      description: </span><span style="color:#032F62">&quot;이메일을 보냅니다&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      parameters: {</span></span>
<span class="line"><span style="color:#24292E">        type: </span><span style="color:#032F62">&quot;object&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        properties: {</span></span>
<span class="line"><span style="color:#24292E">          subject: {</span></span>
<span class="line"><span style="color:#24292E">            type: </span><span style="color:#032F62">&quot;string&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">            description: </span><span style="color:#032F62">&quot;이메일 제목&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">          },</span></span>
<span class="line"><span style="color:#24292E">          body: {</span></span>
<span class="line"><span style="color:#24292E">            type: </span><span style="color:#032F62">&quot;string&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">            description: </span><span style="color:#032F62">&quot;이메일 본문&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">          },</span></span>
<span class="line"><span style="color:#24292E">        },</span></span>
<span class="line"><span style="color:#24292E">        required: [</span><span style="color:#032F62">&quot;subject&quot;</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;body&quot;</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">      },</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">];</span></span></code></pre>
<p>마지막으로 <code>index.ts</code> 파일을 수정하여 Planner와 Executor를 연결합니다. 이제 다른 프롬프트는 무시하고, 등록한 툴과 관련한 프롬프트만 처리하도록 만들겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> readline </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;readline&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { createStructuredPlan } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./plannerAgent&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { executeStructuredPlan } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./executor&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> startChatAgent</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> rl</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> readline.</span><span style="color:#6F42C1">createInterface</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    input: process.stdin,</span></span>
<span class="line"><span style="color:#24292E">    output: process.stdout,</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#032F62">    &quot;💬 AI 에이전트와의 대화를 시작합니다. 종료하려면 Ctrl+C를 누르세요.</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (</span><span style="color:#005CC5">true</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> userInput</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#D73A49"> new</span><span style="color:#005CC5"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">&gt;((</span><span style="color:#E36209">resolve</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      rl.</span><span style="color:#6F42C1">question</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;👤 사용자: &quot;</span><span style="color:#24292E">, resolve);</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    try</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> plan</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#6F42C1"> createStructuredPlan</span><span style="color:#24292E">(userInput);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> isValidPlan</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#24292E">        Array.</span><span style="color:#6F42C1">isArray</span><span style="color:#24292E">(plan) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#24292E"> plan.</span><span style="color:#6F42C1">every</span><span style="color:#24292E">((</span><span style="color:#E36209">p</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#D73A49"> typeof</span><span style="color:#24292E"> p.action </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;string&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (isValidPlan) {</span></span>
<span class="line"><span style="color:#24292E">        console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;🗺 계획:&quot;</span><span style="color:#24292E">, plan);</span></span>
<span class="line"><span style="color:#D73A49">        await</span><span style="color:#6F42C1"> executeStructuredPlan</span><span style="color:#24292E">(plan);</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">catch</span><span style="color:#24292E"> (e) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;⚠️ 계획 생성 중 오류 발생:&quot;</span><span style="color:#24292E">, e);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>위와 같이 만든 후 실행하면 다음과 같이 긱뉴스에서 AI 관련 글을 필터링하고 요약하여 이메일로 전송할 수 있습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">npx</span><span style="color:#032F62"> ts-node</span><span style="color:#032F62"> src/index.ts</span></span>
<span class="line"><span style="color:#6F42C1">💬</span><span style="color:#032F62"> AI</span><span style="color:#032F62"> 에이전트와의</span><span style="color:#032F62"> 대화를</span><span style="color:#032F62"> 시작합니다.</span><span style="color:#032F62"> 종료하려면</span><span style="color:#032F62"> Ctrl+C를</span><span style="color:#032F62"> 누르세요.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 긱뉴스에서</span><span style="color:#032F62"> 최근</span><span style="color:#032F62"> 글을</span><span style="color:#032F62"> 가져와서</span><span style="color:#032F62"> 인공지능</span><span style="color:#24292E">(</span><span style="color:#6F42C1">AI</span><span style="color:#24292E">) </span><span style="color:#032F62">관련</span><span style="color:#032F62"> 글만</span><span style="color:#032F62"> 필터링하고</span><span style="color:#032F62"> 이메일로</span><span style="color:#032F62"> 보내줘</span></span>
<span class="line"><span style="color:#6F42C1">🗺</span><span style="color:#032F62"> 계획:</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#6F42C1">action:</span><span style="color:#032F62"> &#39;fetchGeekNewsFeed&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#6F42C1">action:</span><span style="color:#032F62"> &#39;filter&#39;,</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> keyword:</span><span style="color:#032F62"> &#39;AI&#39;</span><span style="color:#032F62"> }</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#6F42C1">action:</span><span style="color:#032F62"> &#39;sendEmail&#39;,</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> subject:</span><span style="color:#032F62"> &#39;오늘의 AI 관련 뉴스&#39;</span><span style="color:#032F62"> }</span><span style="color:#032F62"> }</span></span>
<span class="line"><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#032F62"> 실행</span><span style="color:#032F62"> 중:</span><span style="color:#032F62"> fetchGeekNewsFeed</span></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#032F62"> 실행</span><span style="color:#032F62"> 중:</span><span style="color:#032F62"> filter</span></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#032F62"> 실행</span><span style="color:#032F62"> 중:</span><span style="color:#032F62"> sendEmail</span></span>
<span class="line"><span style="color:#6F42C1">📧</span><span style="color:#032F62"> 이메일</span><span style="color:#032F62"> 전송</span><span style="color:#032F62"> 완료</span></span></code></pre>
<figure><img src="/images/2025-04-26-how-to-build-an-agent/email.png" alt="이메일로 전송된 긱뉴스 요약" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>이메일로 전송된 긱뉴스 요약</figcaption></figure>
<h2 id="메모리"><a href="#메모리">메모리</a></h2>
<p>프롬프트에 따라 분기 처리를 해야하거나 이전 요청을 기반으로 작업을 수행해야 하는 경우가 있습니다. 이럴 때는 메모리를 사용하여 이전 요청이나 상태를 저장할 수 있습니다. 메모리는 사용자의 요청과 응답을 저장하고, 이를 바탕으로 다음 요청을 처리하는 데 사용됩니다.</p>
<blockquote>
<p>“긱뉴스에서 AI 관련 뉴스는 이메일로, 프론트엔드 관련 뉴스는 콘솔에 출력해줘”<br/>
“긱뉴스 정보 가져와서 보여줘, “아까 가져온 것 중 AI 관련만 메일로 보내줘”</p>
</blockquote>
<p>위와 같은 프롬프트를 처리하는 것을 목표로 구현해보겠습니다. 사실 데이터를 외부로 저장하지 않는다면 단순히 힙 메모리에 저장하면 됩니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/memory.ts</span></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> MemoryStore</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">  [</span><span style="color:#E36209">step</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">]</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> any</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> memory</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> MemoryStore</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {};</span></span></code></pre>
<p>위와 같이 메모리를 저장할 수 있는 객체를 만들고, 이를 사용하여 메모리를 저장하고 불러오도록 <code>executeStructuredPlan</code> 함수를 수정하겠습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/executor.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#005CC5"> *</span><span style="color:#D73A49"> as</span><span style="color:#24292E"> tools </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./tools&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { memory } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./memory&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> PlanStep</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  action</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#E36209">  args</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> Record</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">, </span><span style="color:#005CC5">any</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"><span style="color:#E36209">  saveAs</span><span style="color:#D73A49">?:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#E36209">  inputFrom</span><span style="color:#D73A49">?:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> executeStructuredPlan</span><span style="color:#24292E">(</span><span style="color:#E36209">plan</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> PlanStep</span><span style="color:#24292E">[]) {</span></span>
<span class="line"><span style="color:#D73A49">  let</span><span style="color:#24292E"> context </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &quot;&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">let</span><span style="color:#24292E"> i </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; i </span><span style="color:#D73A49">&lt;</span><span style="color:#24292E"> plan.</span><span style="color:#005CC5">length</span><span style="color:#24292E">; i</span><span style="color:#D73A49">++</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#24292E"> { </span><span style="color:#005CC5">action</span><span style="color:#24292E">, </span><span style="color:#005CC5">args</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {}, </span><span style="color:#005CC5">saveAs</span><span style="color:#24292E">, </span><span style="color:#005CC5">inputFrom</span><span style="color:#24292E"> } </span><span style="color:#D73A49">=</span><span style="color:#24292E"> plan[i];</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> tool</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> (tools </span><span style="color:#D73A49">as</span><span style="color:#005CC5"> any</span><span style="color:#24292E">)[action];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">!</span><span style="color:#24292E">tool) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">warn</span><span style="color:#24292E">(</span><span style="color:#032F62">`⚠️ 등록되지 않은 도구: ${</span><span style="color:#24292E">action</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">      continue</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> input</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> inputFrom </span><span style="color:#D73A49">?</span><span style="color:#24292E"> memory[inputFrom] </span><span style="color:#D73A49">??</span><span style="color:#032F62"> &quot;&quot;</span><span style="color:#D73A49"> :</span><span style="color:#24292E"> context;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // args 내의 메모리 참조 해석</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> resolvedArgs</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Record</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">string</span><span style="color:#24292E">, </span><span style="color:#005CC5">any</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">    for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">const</span><span style="color:#24292E"> [</span><span style="color:#005CC5">k</span><span style="color:#24292E">, </span><span style="color:#005CC5">v</span><span style="color:#24292E">] </span><span style="color:#D73A49">of</span><span style="color:#24292E"> Object.</span><span style="color:#6F42C1">entries</span><span style="color:#24292E">(args)) {</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">typeof</span><span style="color:#24292E"> v </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;string&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> memory[v]) {</span></span>
<span class="line"><span style="color:#24292E">        resolvedArgs[k] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> memory[v];</span></span>
<span class="line"><span style="color:#24292E">      } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        resolvedArgs[k] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> v;</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`</span><span style="color:#005CC5">\n</span><span style="color:#032F62">🚀 [${</span><span style="color:#24292E">i</span><span style="color:#032F62">}] 실행: ${</span><span style="color:#24292E">action</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (inputFrom) console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`↪️ inputFrom: &#39;${</span><span style="color:#24292E">inputFrom</span><span style="color:#032F62">}&#39;`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (saveAs) console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`💾 saveAs: &#39;${</span><span style="color:#24292E">saveAs</span><span style="color:#032F62">}&#39;`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (Object.</span><span style="color:#6F42C1">keys</span><span style="color:#24292E">(args).</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> &gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">`🔧 args: ${</span><span style="color:#005CC5">JSON</span><span style="color:#032F62">.</span><span style="color:#6F42C1">stringify</span><span style="color:#032F62">(</span><span style="color:#24292E">resolvedArgs</span><span style="color:#032F62">)</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    try</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> result</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#6F42C1"> tool</span><span style="color:#24292E">(input, resolvedArgs);</span></span>
<span class="line"><span style="color:#24292E">      context </span><span style="color:#D73A49">=</span><span style="color:#24292E"> result;</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (saveAs) {</span></span>
<span class="line"><span style="color:#24292E">        memory[saveAs] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> result;</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">catch</span><span style="color:#24292E"> (err) {</span></span>
<span class="line"><span style="color:#24292E">      console.</span><span style="color:#6F42C1">error</span><span style="color:#24292E">(</span><span style="color:#032F62">`❌ ${</span><span style="color:#24292E">action</span><span style="color:#032F62">} 실행 중 오류 발생`</span><span style="color:#24292E">, err);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">  console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">🧠 메모리 상태:&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">  for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">const</span><span style="color:#24292E"> [</span><span style="color:#005CC5">key</span><span style="color:#24292E">, </span><span style="color:#005CC5">value</span><span style="color:#24292E">] </span><span style="color:#D73A49">of</span><span style="color:#24292E"> Object.</span><span style="color:#6F42C1">entries</span><span style="color:#24292E">(memory)) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> lines</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> value.</span><span style="color:#6F42C1">split</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">).</span><span style="color:#005CC5">length</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> preview</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> value.</span><span style="color:#6F42C1">slice</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">, </span><span style="color:#005CC5">100</span><span style="color:#24292E">).</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/</span><span style="color:#005CC5">\n</span><span style="color:#032F62">/</span><span style="color:#D73A49">g</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot; &quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    console.</span><span style="color:#6F42C1">log</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#032F62">      `- ${</span><span style="color:#24292E">key</span><span style="color:#032F62">} (${</span><span style="color:#24292E">lines</span><span style="color:#032F62">}줄): ${</span><span style="color:#24292E">preview</span><span style="color:#032F62">}${</span><span style="color:#24292E">value</span><span style="color:#032F62">.</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> &gt;</span><span style="color:#005CC5"> 100</span><span style="color:#D73A49"> ?</span><span style="color:#032F62"> &quot;...&quot;</span><span style="color:#D73A49"> :</span><span style="color:#032F62"> &quot;&quot;}`</span></span>
<span class="line"><span style="color:#24292E">    );</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>각 계획에 <code>saveAs</code>, <code>inputFrom</code> 필드가 추가되었습니다. <code>saveAs</code>는 툴의 결과를 메모리에 저장할 때 사용하고, <code>inputFrom</code>은 메모리에서 가져온 값을 툴의 입력으로 사용할 때 사용합니다. 이를 활용하기 위해 <code>executeStructuredPlan</code> 함수도 수정해야 합니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:#6A737D">// src/plannerAgent.ts</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> OpenAI </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { tools } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./toolSchema&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { memory } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./memory&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { ChatCompletionMessageParam } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;openai/resources/chat&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> openai</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> OpenAI</span><span style="color:#24292E">({ apiKey: process.env.</span><span style="color:#005CC5">OPENAI_API_KEY</span><span style="color:#24292E"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getToolDescriptions</span><span style="color:#24292E">()</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> tools</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">map</span><span style="color:#24292E">((</span><span style="color:#E36209">t</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> name</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> t.function.name;</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> desc</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> t.function.description;</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#032F62"> `- ${</span><span style="color:#24292E">name</span><span style="color:#032F62">}: ${</span><span style="color:#24292E">desc</span><span style="color:#032F62">}`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    })</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">join</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getMemoryDescription</span><span style="color:#24292E">()</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> keys</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> Object.</span><span style="color:#6F42C1">keys</span><span style="color:#24292E">(memory);</span></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (keys.</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> ===</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) </span><span style="color:#D73A49">return</span><span style="color:#032F62"> &quot;현재 저장된 메모리는 없습니다.&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#032F62"> `현재 사용 가능한 메모리 키: ${</span><span style="color:#24292E">keys</span></span>
<span class="line"><span style="color:#032F62">    .</span><span style="color:#6F42C1">map</span><span style="color:#032F62">((</span><span style="color:#005CC5">k</span><span style="color:#032F62">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#032F62"> `&quot;${</span><span style="color:#24292E">k</span><span style="color:#032F62">}&quot;`</span><span style="color:#032F62">)</span></span>
<span class="line"><span style="color:#032F62">    .</span><span style="color:#6F42C1">join</span><span style="color:#032F62">(</span><span style="color:#032F62">&quot;, &quot;</span><span style="color:#032F62">)</span><span style="color:#032F62">}</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">inputFrom 또는 args에서 사용할 수 있습니다.`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> createStructuredPlan</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#E36209">  userRequest</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span></span>
<span class="line"><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> Promise</span><span style="color:#24292E">&lt;</span><span style="color:#005CC5">any</span><span style="color:#24292E">[]&gt; {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> messages</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ChatCompletionMessageParam</span><span style="color:#24292E">[] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">    {</span></span>
<span class="line"><span style="color:#24292E">      role: </span><span style="color:#032F62">&quot;system&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      content: </span><span style="color:#032F62">`</span></span>
<span class="line"><span style="color:#032F62">당신은 사용자의 자연어 요청을 계획으로 분해하는 시스템입니다.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">다음은 사용할 수 있는 도구 목록입니다:</span></span>
<span class="line"><span style="color:#032F62">${</span><span style="color:#6F42C1">getToolDescriptions</span><span style="color:#032F62">()</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">다음은 현재까지의 메모리 상태입니다:</span></span>
<span class="line"><span style="color:#032F62">${</span><span style="color:#6F42C1">getMemoryDescription</span><span style="color:#032F62">()</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">**주의:**</span></span>
<span class="line"><span style="color:#032F62">- 요청에 명시된 작업만 계획하세요.</span></span>
<span class="line"><span style="color:#032F62">- 추론을 통해 추가 도구를 사용하지 마세요.</span></span>
<span class="line"><span style="color:#032F62">- 코드 블록을 사용하지 마세요.</span></span>
<span class="line"><span style="color:#032F62">- 각 작업은 JSON 객체로 표현되어야 하며, &quot;action&quot; 필드와 선택적 &quot;args&quot;, &quot;saveAs&quot;, &quot;inputFrom&quot; 필드를 포함해야 합니다.</span></span>
<span class="line"><span style="color:#032F62">- 도구 결과를 재사용하려면 &#39;saveAs&#39;로 저장하고, &#39;inputFrom&#39;으로 참조하세요.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">출력 예시:</span></span>
<span class="line"><span style="color:#032F62">[</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;fetchGeekNewsFeed&quot;, &quot;args&quot;: {}, &quot;saveAs&quot;: &quot;news&quot; },</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;filter&quot;, &quot;args&quot;: { &quot;keyword&quot;: &quot;AI&quot; }, &quot;inputFrom&quot;: &quot;news&quot;, &quot;saveAs&quot;: &quot;filteredNews&quot; },</span></span>
<span class="line"><span style="color:#032F62">  { &quot;action&quot;: &quot;sendEmail&quot;, &quot;args&quot;: { &quot;subject&quot;: &quot;AI 관련 뉴스&quot; }, &quot;inputFrom&quot;: &quot;filteredNews&quot; }</span></span>
<span class="line"><span style="color:#032F62">]</span></span>
<span class="line"><span style="color:#032F62">`</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">    {</span></span>
<span class="line"><span style="color:#24292E">      role: </span><span style="color:#032F62">&quot;user&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">      content: userRequest,</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#24292E">  ];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> res</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> openai.chat.completions.</span><span style="color:#6F42C1">create</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">    model: </span><span style="color:#032F62">&quot;gpt-4o-mini&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    messages,</span></span>
<span class="line"><span style="color:#24292E">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> planText</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> res.choices[</span><span style="color:#005CC5">0</span><span style="color:#24292E">].message?.content </span><span style="color:#D73A49">??</span><span style="color:#032F62"> &quot;[]&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> clean</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> planText</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/</span><span style="color:#D73A49">^</span><span style="color:#032F62">```json/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/</span><span style="color:#D73A49">^</span><span style="color:#032F62">```/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">replace</span><span style="color:#24292E">(</span><span style="color:#032F62">/```</span><span style="color:#D73A49">$</span><span style="color:#032F62">/</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">trim</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#005CC5"> JSON</span><span style="color:#24292E">.</span><span style="color:#6F42C1">parse</span><span style="color:#24292E">(clean);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>위와 같이 구현하면 메모리를 활용하여 이전 요청을 기반으로 작업을 수행할 수 있습니다. 실행하면 다음과 같이 메모리를 활용할 수 있습니다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">npx</span><span style="color:#032F62"> ts-node</span><span style="color:#032F62"> src/index.ts</span></span>
<span class="line"><span style="color:#6F42C1">💬</span><span style="color:#032F62"> AI</span><span style="color:#032F62"> 에이전트와의</span><span style="color:#032F62"> 대화를</span><span style="color:#032F62"> 시작합니다.</span><span style="color:#032F62"> 종료하려면</span><span style="color:#032F62"> Ctrl+C를</span><span style="color:#032F62"> 누르세요.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 긱뉴스에서</span><span style="color:#032F62"> AI</span><span style="color:#032F62"> 관련</span><span style="color:#032F62"> 뉴스는</span><span style="color:#032F62"> 이메일로,</span><span style="color:#032F62"> 프론트엔드</span><span style="color:#032F62"> 관련</span><span style="color:#032F62"> 뉴스는</span><span style="color:#032F62"> 콘솔에</span><span style="color:#032F62"> 출력해줘</span></span>
<span class="line"><span style="color:#6F42C1">🗺</span><span style="color:#032F62"> 계획:</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">  { </span><span style="color:#6F42C1">action:</span><span style="color:#032F62"> &#39;fetchGeekNewsFeed&#39;,</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {},</span><span style="color:#032F62"> saveAs:</span><span style="color:#032F62"> &#39;news&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#6F42C1">    action:</span><span style="color:#032F62"> &#39;filter&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> keyword:</span><span style="color:#032F62"> &#39;AI&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#6F42C1">    inputFrom:</span><span style="color:#032F62"> &#39;news&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    saveAs:</span><span style="color:#032F62"> &#39;aiNews&#39;</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#6F42C1">    action:</span><span style="color:#032F62"> &#39;filter&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> keyword:</span><span style="color:#032F62"> &#39;프론트엔드&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#6F42C1">    inputFrom:</span><span style="color:#032F62"> &#39;news&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    saveAs:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#6F42C1">    action:</span><span style="color:#032F62"> &#39;sendEmail&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> subject:</span><span style="color:#032F62"> &#39;AI 관련 뉴스&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#6F42C1">    inputFrom:</span><span style="color:#032F62"> &#39;aiNews&#39;</span></span>
<span class="line"><span style="color:#24292E">  },</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#6F42C1">    action:</span><span style="color:#032F62"> &#39;print&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> message:</span><span style="color:#032F62"> &#39;프론트엔드 관련 뉴스: &#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#6F42C1">    inputFrom:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [0] 실행: fetchGeekNewsFeed</span></span>
<span class="line"><span style="color:#6F42C1">💾</span><span style="color:#032F62"> saveAs:</span><span style="color:#032F62"> &#39;news&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [1] 실행: filter</span></span>
<span class="line"><span style="color:#6F42C1">↪️</span><span style="color:#032F62"> inputFrom:</span><span style="color:#032F62"> &#39;news&#39;</span></span>
<span class="line"><span style="color:#6F42C1">💾</span><span style="color:#032F62"> saveAs:</span><span style="color:#032F62"> &#39;aiNews&#39;</span></span>
<span class="line"><span style="color:#6F42C1">🔧</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {&quot;keyword&quot;:&quot;AI&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [2] 실행: filter</span></span>
<span class="line"><span style="color:#6F42C1">↪️</span><span style="color:#032F62"> inputFrom:</span><span style="color:#032F62"> &#39;news&#39;</span></span>
<span class="line"><span style="color:#6F42C1">💾</span><span style="color:#032F62"> saveAs:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#6F42C1">🔧</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {&quot;keyword&quot;:&quot;프론트엔드&quot;}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [3] 실행: sendEmail</span></span>
<span class="line"><span style="color:#6F42C1">↪️</span><span style="color:#032F62"> inputFrom:</span><span style="color:#032F62"> &#39;aiNews&#39;</span></span>
<span class="line"><span style="color:#6F42C1">🔧</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {&quot;subject&quot;:&quot;AI 관련 뉴스&quot;}</span></span>
<span class="line"><span style="color:#6F42C1">📧</span><span style="color:#032F62"> 이메일</span><span style="color:#032F62"> 전송</span><span style="color:#032F62"> 완료</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [4] 실행: print</span></span>
<span class="line"><span style="color:#6F42C1">↪️</span><span style="color:#032F62"> inputFrom:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#6F42C1">🔧</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {&quot;message&quot;:&quot;프론트엔드 관련 뉴스: &quot;}</span></span>
<span class="line"><span style="color:#6F42C1">📜</span><span style="color:#032F62"> 출력:</span><span style="color:#032F62"> &#39;프론트엔드&#39;와</span><span style="color:#032F62"> 관련된</span><span style="color:#032F62"> 항목은</span><span style="color:#032F62"> 다음과</span><span style="color:#032F62"> 같습니다:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">10.</span><span style="color:#032F62"> 왜</span><span style="color:#032F62"> 우리는</span><span style="color:#032F62"> RGB와</span><span style="color:#032F62"> HSL에서</span><span style="color:#032F62"> OKLCH로</span><span style="color:#032F62"> 전환했을까요?</span><span style="color:#24292E"> (번역) / https://news.hada.io/topic</span><span style="color:#D73A49">?</span><span style="color:#24292E">id</span><span style="color:#D73A49">=</span><span style="color:#032F62">20623</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">이</span><span style="color:#032F62"> 항목은</span><span style="color:#032F62"> 색상</span><span style="color:#032F62"> 모델에</span><span style="color:#032F62"> 대한</span><span style="color:#032F62"> 내용으로,</span><span style="color:#032F62"> 프론트엔드</span><span style="color:#032F62"> 개발에서</span><span style="color:#032F62"> 스타일링과</span><span style="color:#032F62"> UI</span><span style="color:#032F62"> 디자인에</span><span style="color:#032F62"> 관련된</span><span style="color:#032F62"> 중요한</span><span style="color:#032F62"> 요소입니다.</span><span style="color:#032F62"> 나머지</span><span style="color:#032F62"> 항목들은</span><span style="color:#032F62"> 주로</span><span style="color:#032F62"> 경제,</span><span style="color:#032F62"> AI,</span><span style="color:#032F62"> 비즈니스</span><span style="color:#032F62"> 관련</span><span style="color:#032F62"> 내용으로</span><span style="color:#032F62"> 보입니다.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🧠</span><span style="color:#032F62"> 메모리</span><span style="color:#032F62"> 상태:</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> news</span><span style="color:#24292E"> (19줄): 1. Ask GN: LLM으로 생산성이 증가한거 같은데요. 왜 저는 여전히 바쁠까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> / https://news.hada.io/topic</span><span style="color:#D73A49">?</span><span style="color:#24292E">id</span><span style="color:#D73A49">=</span><span style="color:#032F62">20632</span><span style="color:#6F42C1">  2.</span><span style="color:#032F62"> 샤오미</span><span style="color:#032F62"> MiMo</span><span style="color:#032F62"> 추...</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> aiNews</span><span style="color:#24292E"> (11줄): </span><span style="color:#032F62">&#39;AI&#39;</span><span style="color:#24292E">와 관련된 항목은 다음과 같습니다.  1. Ask GN: LLM으로 생산성이 증가한거 같은데요. 왜 저는 여전히 바쁠까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> / https://news.hada.io/topi...</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> frontendNews</span><span style="color:#24292E"> (5줄): </span><span style="color:#032F62">&#39;프론트엔드&#39;</span><span style="color:#24292E">와 관련된 항목은 다음과 같습니다:  10. 왜 우리는 RGB와 HSL에서 OKLCH로 전환했을까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">번역</span><span style="color:#24292E">) / https://news.hada.io/topic</span><span style="color:#D73A49">?</span><span style="color:#24292E">id...</span></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#032F62"> 아까</span><span style="color:#032F62"> 봤던</span><span style="color:#032F62"> 프론트엔드</span><span style="color:#032F62"> 뉴스도</span><span style="color:#032F62"> 이메일로</span><span style="color:#032F62"> 보내줘</span></span>
<span class="line"><span style="color:#6F42C1">🗺</span><span style="color:#032F62"> 계획:</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">  {</span></span>
<span class="line"><span style="color:#6F42C1">    action:</span><span style="color:#032F62"> &#39;sendEmail&#39;,</span></span>
<span class="line"><span style="color:#6F42C1">    args:</span><span style="color:#032F62"> {</span><span style="color:#032F62"> subject:</span><span style="color:#032F62"> &#39;프론트엔드 뉴스&#39;</span><span style="color:#032F62"> },</span></span>
<span class="line"><span style="color:#6F42C1">    inputFrom:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🚀</span><span style="color:#24292E"> [0] 실행: sendEmail</span></span>
<span class="line"><span style="color:#6F42C1">↪️</span><span style="color:#032F62"> inputFrom:</span><span style="color:#032F62"> &#39;frontendNews&#39;</span></span>
<span class="line"><span style="color:#6F42C1">🔧</span><span style="color:#032F62"> args:</span><span style="color:#032F62"> {&quot;subject&quot;:&quot;프론트엔드 뉴스&quot;}</span></span>
<span class="line"><span style="color:#6F42C1">📧</span><span style="color:#032F62"> 이메일</span><span style="color:#032F62"> 전송</span><span style="color:#032F62"> 완료</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">🧠</span><span style="color:#032F62"> 메모리</span><span style="color:#032F62"> 상태:</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> news</span><span style="color:#24292E"> (19줄): 1. Ask GN: LLM으로 생산성이 증가한거 같은데요. 왜 저는 여전히 바쁠까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> / https://news.hada.io/topic</span><span style="color:#D73A49">?</span><span style="color:#24292E">id</span><span style="color:#D73A49">=</span><span style="color:#032F62">20632</span><span style="color:#6F42C1">  2.</span><span style="color:#032F62"> 샤오미</span><span style="color:#032F62"> MiMo</span><span style="color:#032F62"> 추...</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> aiNews</span><span style="color:#24292E"> (11줄): </span><span style="color:#032F62">&#39;AI&#39;</span><span style="color:#24292E">와 관련된 항목은 다음과 같습니다.  1. Ask GN: LLM으로 생산성이 증가한거 같은데요. 왜 저는 여전히 바쁠까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> / https://news.hada.io/topi...</span></span>
<span class="line"><span style="color:#6F42C1">-</span><span style="color:#032F62"> frontendNews</span><span style="color:#24292E"> (5줄): </span><span style="color:#032F62">&#39;프론트엔드&#39;</span><span style="color:#24292E">와 관련된 항목은 다음과 같습니다:  10. 왜 우리는 RGB와 HSL에서 OKLCH로 전환했을까요</span><span style="color:#D73A49">?</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">번역</span><span style="color:#24292E">) / https://news.hada.io/topic</span><span style="color:#D73A49">?</span><span style="color:#24292E">id...</span></span>
<span class="line"><span style="color:#6F42C1">👤</span><span style="color:#032F62"> 사용자:</span><span style="color:#24292E"> </span></span></code></pre>
<h1 id="더-쉬운-길은-없을까"><a href="#더-쉬운-길은-없을까">더 쉬운 길은 없을까?</a></h1>
<p>지금까지는 LLM과 도구를 직접 연결하고, 계획과 실행을 수작업으로 처리하는 방식으로 에이전트를 구현해보았습니다. 하지만 이러한 방식은 간단한 실험에는 적합하지만, 복잡한 흐름 제어와 대규모 구성에서는 유지보수가 어렵고 확장성이 떨어질 수 있습니다.</p>
<p>또한, 정확도 측면에서 불안정합니다. 이 글에서 만든 에이전트는 단순한 예제일 뿐이며, 실제로는 더 많은 예외 처리와 오류 처리가 필요합니다. LLM은 여전히 불확실성이 존재하기 때문에, 잘못된 결과를 반환할 수 있습니다.</p>
<p>AI 에이전트를 제대로 만들기 위해서는 LangChain, LangGraph, AutoGen과 같은 프레임워크를 이용하는 것이 좋습니다. 이러한 프레임워크는 더 복잡한 에이전트 시스템을 구축할 수 있도록 도와줍니다.</p>
<p>이 글에서는 범위를 벗어나므로 자세히 다루지는 않겠지만, 추후 기회가 된다면 한 번 써보시길 권장합니다.</p>
<h1 id="마치며"><a href="#마치며">마치며</a></h1>
<p>이번 글에서는 LLM과 도구를 연결하여 직접 에이전트를 만드는 방법을 알아보았습니다. LLM과 도구를 연결하는 것은 매우 강력한 기능이며, 이를 활용하여 다양한 작업을 자동화할 수 있습니다.</p>
<p>앞서 이야기했듯, LLM의 등장으로 앞으로는 비결정론적인 문제를 해결하는 사례가 더 많아질 것으로 보입니다. 요즘 들리는 이야기로는 툴 자동화를 넘어 특정 업무를 수행하는 AI 직원에 대한 이야기도 나오고 있습니다. 이건 조금 무서운 이야기네요.</p>
<p>아무튼 AI의 등장으로 혼돈의 시대가 됐지만 난세에 영웅이 탄생하듯 개발자들에게 새로운 기회가 열린 것일지도 모릅니다. 여러분도 LLM과 도구를 활용하여 더 많은 기회를 만들어보시길 바랍니다.</p>  </div> <div> <div class="mt-1 w-full"> <div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> ai </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> llm </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> agent </div> </div> <div class="flex items-center py-6" data-astro-cid-k7qsseos> <div class="shrink-0 basis-[80px]" data-astro-cid-k7qsseos> <img class="h-[80px] w-[80px] object-cover" style="border-radius: 50%;" src="/images/about/avatar.jpg" data-astro-cid-k7qsseos> </div> <div class="ml-8 flex-1 text-base" data-astro-cid-k7qsseos> <div data-astro-cid-k7qsseos>
Written by <a href="/about/" class="name-gradient font-bold no-underline" data-astro-cid-k7qsseos>
@kciter
</a> </div> <div class="text-sm font-light leading-snug" data-astro-cid-k7qsseos>가치있는 지식이 되기를 바랍니다</div> <div class="-ml-1 [&_a]:text-sm [&_a]:text-[#888]" data-astro-cid-k7qsseos> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </div>   <div id="comments"> <script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><astro-island uid="Z1MhqMT" prefix="r11" component-url="/_astro/Giscus.BCCeZi7E.js" component-export="default" renderer-url="/_astro/client.C9fCgUO1.js" props="{&quot;repo&quot;:[0,&quot;kciter/kciter.github.io&quot;],&quot;theme&quot;:[0,&quot;light&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Giscus&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island> </div> </div> <div class="pt-8 pb-8" data-astro-cid-llggujpl> <div class="grid grid-cols-3 gap-5 max-[30rem]:grid-cols-1" data-astro-cid-llggujpl> <a href="/posts/modeling-series-temporal/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2025-05-06-modeling-series-temporal/thumbnail.png" alt="모델링 시리즈: 시간" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>모델링 시리즈: 시간</div> <small data-astro-cid-llggujpl>2025-05-06</small> </a><a href="/posts/railway-oriented-programming/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2023-07-17-railway-oriented-programming/thumbnail.png" alt="Railway-Oriented Programming" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>Railway-Oriented Programming</div> <small data-astro-cid-llggujpl>2023-07-17</small> </a><a href="/posts/codex-perfect-guide-book/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2026-02-26-codex-perfect-guide-book/thumbnail.png" alt="코덱스 완벽 가이드" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>코덱스 완벽 가이드</div> <small data-astro-cid-llggujpl>2026-02-26</small> </a><a href="/posts/warp-and-weft/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-05-17-warp-and-weft/thumbnail.png" alt="씨줄과 날줄" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>씨줄과 날줄</div> <small data-astro-cid-llggujpl>2024-05-17</small> </a><a href="/posts/polymorphic-react-component/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2022-08-16-polymorphic-react-component/thumbnail.png" alt="Polymorphic한 React 컴포넌트 만들기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>Polymorphic한 React 컴포넌트 만들기</div> <small data-astro-cid-llggujpl>2022-08-16</small> </a><a href="/posts/developers-learning-and-growth/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2023-12-24-developers-learning-and-growth/thumbnail.png" alt="개발자의 학습과 성장" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>개발자의 학습과 성장</div> <small data-astro-cid-llggujpl>2023-12-24</small> </a> </div> </div>  </div> <footer class="m-8 text-center text-[#999]"> <div> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> <div class="mt-4 mb-4 font-['Quattrocento_Sans',sans-serif] text-[0.8rem] text-[#9a9a9a]"> <a href="/about/" class="p-2.5 text-[#999] hover:text-[#333]" style="text-decoration: none;">
kciter.so | devlog by Sunhyoup Lee
</a> </div> </footer> </div> </body></html> <script type="module">document.querySelectorAll(".post-container a[data-footnote-ref]").forEach(o=>{const e=o.getAttribute("href")?.slice(1);if(!e)return;const r=document.getElementById(e);if(!r)return;const t=r.textContent?.replace("↩","").trim()||"";o.setAttribute("data-tooltip",t)});document.querySelectorAll(".code-tabs").forEach(o=>{const e=Array.from(o.querySelectorAll(":scope > pre"));if(e.length<2)return;const r=o.getAttribute("data-labels")?.split(",").map(a=>a.trim()),t=document.createElement("div");t.className="code-tabs-bar",e.forEach((a,s)=>{const n=r?.[s]||a.getAttribute("data-language")||"code",c=document.createElement("button");c.textContent=n,r?.[s]&&c.classList.add("has-filename"),s===0&&c.classList.add("active"),c.addEventListener("click",()=>{t.querySelectorAll("button").forEach(l=>l.classList.remove("active")),e.forEach(l=>l.classList.remove("active")),c.classList.add("active"),e[s].classList.add("active")}),t.appendChild(c)}),e[0].classList.add("active"),o.prepend(t)});const i=document.querySelectorAll(".toc .toc-list a");if(i.length>0){const e=Array.from(i).map(t=>t.getAttribute("href")?.slice(1)).filter(Boolean).map(t=>document.getElementById(t)).filter(Boolean),r=new IntersectionObserver(t=>{for(const a of t)if(a.isIntersecting){const s=a.target.id;i.forEach(n=>{n.classList.toggle("active",n.getAttribute("href")===`#${s}`)})}},{rootMargin:"0px 0px -70% 0px",threshold:0});e.forEach(t=>r.observe(t))}</script>