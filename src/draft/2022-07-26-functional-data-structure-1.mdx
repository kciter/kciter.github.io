---
title: "함수형 자료구조 - 연결 리스트"
categories: dev
tags: [functional, datastructure]
image: /images/2022-07-26-functional-data-structure-1/thumbnail.png
comments: true
draft: true
---

import Image from '@components/Image';

꾸준히 포스팅을 작성하기로 했건만 결국 1년이 넘어서 작성하게 되었다. 오랜만에 포스팅을 하다보니 어떤 주제로 글을 작성할까 고민했는데 일년 전 쯤에 특강으로 진행했던 함수형 자료구조에 대해서 다뤄보기로 결정했다.

자료구조란 전기 신호의 나열로 이루어진 컴퓨터 세계의 데이터를 다차원으로 표현하는 것이라 볼 수 있다. 우리는 보통 전산화를 할 때 현상을 표현하기 위한 데이터 구조를 정의하고 이를 이용해 알고리즘을 구현한다.

그렇지만 우리가 일반적으로 학생 때 배우는 자료구조, 알고리즘은 절차지향으로 설계된 구조들이 대부분이다. 이러한 자료구조, 알고리즘은 상태가 존재하지않는 순수한 함수형 언어에서는 사용하기 어렵기 때문에 기존에 알고있던 지식을 사용할 수가 없다. 따라서 함수형 프로그래밍을 하고싶다면 그에 걸맞는 방식으로 데이터를 표현할 수 있어야 하고 이를 [순수 함수형 자료구조](https://en.wikipedia.org/wiki/Purely_functional_data_structure)라고 부른다.

사실 이 함수형 자료구조를 꼭 익혀야하는가라고 묻는다면 사실 그렇지는 않다. 요즘은 대부분의 언어들이 [멀티 패러다임](https://ko.wikipedia.org/wiki/%EB%8B%A4%EC%A4%91_%ED%8C%A8%EB%9F%AC%EB%8B%A4%EC%9E%84_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%96%B8%EC%96%B4)을 지향하고 있고 성능적인 이슈도 있기 때문에 순수 함수형 언어에서만 사용하는 자료구조들을 익힐 필요는 없다. 그렇지만 이런 일반적이지 않은 것을 공부하는 것은 개발자로서 큰 즐거움아닐까?

## 함수형 사고

함수형 프로그래밍은 많은 개발자들이 관심을 가지며 업무에 활용하고 싶어하는 패러다임이다. 필자도 강의를 할 때 관련하여 많은 질문을 받기도하고 함수형 프로그래밍을 사용하는 회사는 **힙한 기술 스택을 가진 멋진 회사**로 인용되기도 한다. 이쯤되면 개발자에게 일종의 로망으로 자리잡았다고 생각된다.

이 포스팅을 이해하기 위해서는 우선적으로 함수형 프로그래밍에 대한 이해가 필요하다. 이를 위해 우리는 프로그래밍 패러다임이 무엇인지, 함수형으로 사고하는 방법을 알아야 한다.

### 프로그래밍에서 패러다임이란

패러다임은 결국 프로그래밍을 통해 문제를 해결하는 **방법론**이라고 볼 수 있다. 유명인이 언급하거나 큰 기업에서 사용하는 특정 방법론은 흔히 완벽한 방법으로서 맹신되기도 하는데 이는 좋지 않은 일이다. 방법론의 사전적인 의미를 보면 `철학이나 과학 연구에서 진리에 도달하기 위한 방법을 연구하는 이론`이라 나와있다. 이 말은 추상적이니 구체적인 예시를 들어보자.

가령 필자가 급한 출장으로 인해 서울에서 부산으로 이동해야 한다면 어떤 방법을 선택할 수 있을까? 먼저 비행기를 타는 방법을 선택할 수 있다. 이는 비용이 많이 드는 대신 빠르게 이동할 수 있다는 장점이 있다. 혹은 버스를 타는 방법이 있다. 이는 비행기보다 오래 걸리지만 비용이 더 저렴하다는 장점이 있다. 이 두 가지를 비행기 방법론과 버스 방법론이라고 할 때 상황에 따라 방법론을 선택할 수 있다. 만약 필자가 최대한 빠른 시간 내에 부산에 가야한다면 비행기 방법론을 택할 것이고 금전이 부족한 상황에선 버스 방법론을 택할 것이다. 이처럼 **상황에 맞게 방법론을 선택**하는 것이 가장 최선이라 볼 수 있다.

<Image src="/images/2022-07-26-functional-data-structure-1/simpson.png" caption="필자가 좋아하지 않는 이미지. 패러다임 사이엔 우열이 없다." />

따라서 패러다임도 다른 방법론과 마찬가지로 결국 어디에도 적용될 수 있지만 그에 따른 **부작용이 있을 수 있다는 점**을 꼭 명심해야 한다.

### 함수형 프로그래밍 쉽게 이해하기

프로그램은 결국 **순차, 분기, 반복, 참조**[^1]로 구성된다. 프로그래밍 패러다임이라는 것은 이 네 가지 요소를 어떻게 사용할 것인가를 다룬다고 할 수 있다. 그럼 이해를 위해서 이해하기 쉬운 절차적 프로그래밍과 함수형 프로그래밍을 비교로 들어보겠다.

|   | 절차적 프로그래밍 | 함수형 프로그래밍 |
|---|--------------|--------------|
| **순차** | Procedure | Function |
| **분기** | Conditional | Pattern Matching |
| **반복** | Iterative | Recursive |
| **참조** | Mutable | Immutable |



### 개발자들은 왜 함수형 프로그래밍에 열광할까?





## 함수형 자료구조 개론

### 함수로 구조를 어떻게 표현할까?


// 선언형 프로그래밍 아무리 봐도 이해가 안간다. 결국 함수를 작성하는 건 개발자인데 선언이라는게 무슨말인가라고 생각할 수 있다.
// 조금 다르게 생각해보자. 우리가 코드를 사용하는 방법이 아니라, 코드를 사용하게 만드는 방법을 정의한다고 생각한다면?

[^1]: 로버트 C. 마틴의 저서 클린 아키텍처에서 표현된 내용