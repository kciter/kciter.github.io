<!DOCTYPE html><html lang="ko"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="color-scheme" content="light"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="alternate" type="application/rss+xml" title="kciter.so" href="/feed.xml"><title>난해한 프로그래밍 언어 만들어보기 | kciter.so</title><meta name="description" content="잉여 코딩이라는 말을 들어본 적 있는가? 잉여 코딩은 돈 버는데엔 쓸모없지만 취미로 즐겁게 코딩하는 것을 의미한다. 최근 몇 년 사이엔 대부분 업무와 연관이 있는 코딩만 했는데 마침 비는 시간이 생겨 정말 오랜만에 업무와 전혀 무관한 잉여 코딩을…"><meta name="author" content="Lee Sun-Hyoup"><!-- Open Graph --><meta property="og:title" content="난해한 프로그래밍 언어 만들어보기 | kciter.so"><meta property="og:description" content="잉여 코딩이라는 말을 들어본 적 있는가? 잉여 코딩은 돈 버는데엔 쓸모없지만 취미로 즐겁게 코딩하는 것을 의미한다. 최근 몇 년 사이엔 대부분 업무와 연관이 있는 코딩만 했는데 마침 비는 시간이 생겨 정말 오랜만에 업무와 전혀 무관한 잉여 코딩을…"><meta property="og:type" content="website"><meta property="og:site_name" content="kciter.so"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png"><meta property="og:url" content="https://kciter.so/posts/crafting-esolang/"><link rel="canonical" href="https://kciter.so/posts/crafting-esolang/"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="Sunhyoup Lee"><meta name="twitter:title" content="난해한 프로그래밍 언어 만들어보기 | kciter.so"><meta name="twitter:description" content="잉여 코딩이라는 말을 들어본 적 있는가? 잉여 코딩은 돈 버는데엔 쓸모없지만 취미로 즐겁게 코딩하는 것을 의미한다. 최근 몇 년 사이엔 대부분 업무와 연관이 있는 코딩만 했는데 마침 비는 시간이 생겨 정말 오랜만에 업무와 전혀 무관한 잉여 코딩을…"><meta name="twitter:image" content="https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png"><!-- Additional meta from props --><meta name="article:published_time" content="2022-09-18T00:00:00+09:00"><meta name="image" content="https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png"><meta property="og:image" content="https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png"><meta property="og:image:secure_url" content="https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=PT+Sans:wght@400&family=Source+Code+Pro&family=Quattrocento+Sans&display=swap"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8K7EBEDX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-7M8K7EBEDX');
    </script> <script type="application/ld+json">{"headline":"난해한 프로그래밍 언어 만들어보기","dateModified":"2022-09-18T00:00:00+09:00","datePublished":"2022-09-18T00:00:00+09:00","image":"https://kciter.so/images/2022-09-18-crafting-esolang/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kciter.so/posts/crafting-esolang/"},"author":{"@type":"Person","name":"Lee Sun-Hyoup"},"description":"잉여 코딩이라는 말을 들어본 적 있는가? 잉여 코딩은 돈 버는데엔 쓸모없지만 취미로 즐겁게 코딩하는 것을 의미한다. 최근 몇 년 사이엔 대부분 업무와 연관이 있는 코딩만 했는데 마침 비는 시간이 생겨 정말 오랜만에 업무와 전혀 무관한 잉여 코딩을…","url":"https://kciter.so/posts/crafting-esolang/","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="stylesheet" href="/_astro/_slug_.D5IQWdfx.css">
<style>.name-gradient[data-astro-cid-k7qsseos]{background:linear-gradient(to right,#191335,#191335 33.33333%,#00ab6c 66.66666%,#00cb8c);background-clip:text;-webkit-text-fill-color:transparent;transition:all .3s ease;background-size:300% 100%;background-position:top left}.name-gradient[data-astro-cid-k7qsseos]:hover{background-position:top left 100%}@media(max-width:30rem){.sponsors[data-astro-cid-4kgnabjz] a:not(:first-of-type){margin-left:-16px}}.related-post[data-astro-cid-llggujpl]{position:relative;transform:scaleZ(1)}.related-post[data-astro-cid-llggujpl]:after{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px;transform:scale(1.06);transition:opacity 2s cubic-bezier(.165,.84,.44,1);box-shadow:0 8px 17px #0003,0 6px 20px #00000026;content:"";opacity:0;z-index:-1}.related-post[data-astro-cid-llggujpl]:hover{transform:scale3d(1.006,1.006,1)}.related-post[data-astro-cid-llggujpl]:hover:after{opacity:1}
</style></head> <body> <div class="mx-auto w-[715px] pt-4 max-md:w-[90vw]"> <div class="relative z-10 mb-10 -mx-4 rounded-xl bg-white/40 px-4 py-2.5 font-['Quattrocento_Sans',sans-serif] backdrop-blur-[44px] max-md:-mx-4 max-md:-mt-4 max-md:mb-8 max-md:rounded-none max-md:bg-transparent max-md:backdrop-blur-none" data-astro-cid-3ef6ksr2> <div class="mt-2 w-full" data-astro-cid-3ef6ksr2> <a href="/" class="site-title text-[32px] font-black" style="line-height: 1.15; text-decoration: none; margin-right: 5px;" data-astro-cid-3ef6ksr2>kciter.so</a> <small class="text-[#999]" data-astro-cid-3ef6ksr2>devlog</small> </div> <nav class="flex w-full justify-between pt-2" data-astro-cid-3ef6ksr2> <div class="flex items-center" data-astro-cid-3ef6ksr2> <a href="/timeline/" class="menu-item updated" data-astro-cid-3ef6ksr2>
Timeline
</a> <div class="dropdown" data-astro-cid-3ef6ksr2> <span class="menu-item dropdown-trigger" id="posts-trigger" data-astro-cid-3ef6ksr2>
Posts <span class="chevron" data-astro-cid-3ef6ksr2>&#9662;</span> </span> <div class="dropdown-menu" data-astro-cid-3ef6ksr2> <a href="/articles/" class="dropdown-item" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="dropdown-item" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="dropdown-item" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <a href="https://kciter.so/talks/" class="menu-item" data-astro-cid-3ef6ksr2>Talks</a> <a href="/about/" class="menu-item" data-astro-cid-3ef6ksr2>About</a> </div> <div class="flex items-center gap-3" data-astro-cid-3ef6ksr2> <button id="search-btn" class="search-btn" aria-label="Search" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> </button> <div class="max-md:hidden" data-astro-cid-3ef6ksr2> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </nav> <!-- Mobile sub-tab (hidden by default) --> <div class="mobile-tabs" id="mobile-tabs" data-astro-cid-3ef6ksr2> <a href="/articles/" class="mobile-tab" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="mobile-tab" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="mobile-tab" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <!-- Search Modal --> <div id="search-modal" class="search-modal" data-astro-cid-3ef6ksr2> <div class="search-backdrop" data-astro-cid-3ef6ksr2></div> <div class="search-container" data-astro-cid-3ef6ksr2> <div class="search-input-wrap" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> <input id="search-input" type="text" placeholder="Search posts..." autocomplete="off" data-astro-cid-3ef6ksr2> <kbd class="search-kbd" data-astro-cid-3ef6ksr2>ESC</kbd> </div> <div id="search-results" class="search-results" data-astro-cid-3ef6ksr2></div> </div> </div>  <script type="module">const o=document.getElementById("posts-trigger"),l=document.getElementById("mobile-tabs");if(o&&l){const e=o.querySelector(".chevron");o.addEventListener("click",t=>{window.innerWidth<=768&&(t.preventDefault(),l.classList.toggle("open"),e?.classList.toggle("open"))});const i=window.location.pathname;l.querySelectorAll(".mobile-tab").forEach(t=>{i.startsWith(t.getAttribute("href")||"")&&t.classList.add("active")})}let s=null;async function m(){if(s)return s;try{s=await import(new URL("/pagefind/pagefind.js",window.location.origin).href),await s.init()}catch{console.warn("Pagefind not available (run build first)")}return s}const c=document.getElementById("search-modal"),r=document.getElementById("search-input"),a=document.getElementById("search-results"),p=document.getElementById("search-btn"),v=c.querySelector(".search-backdrop");function f(){c.classList.add("open"),r.value="",a.innerHTML="",setTimeout(()=>r.focus(),50),m()}function d(){c.classList.remove("open")}p.addEventListener("click",f);v.addEventListener("click",d);document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),c.classList.contains("open")?d():f()),e.key==="Escape"&&d()});let u;r.addEventListener("input",()=>{clearTimeout(u),u=setTimeout(()=>g(r.value),200)});async function g(e){if(!e.trim()){a.innerHTML="";return}const i=await m();if(!i){a.innerHTML='<div class="search-no-results">Search is not available in dev mode.</div>';return}const t=await i.search(e);if(t.results.length===0){a.innerHTML='<div class="search-no-results">No results found.</div>';return}const h=await Promise.all(t.results.slice(0,10).map(n=>n.data()));a.innerHTML=h.map(n=>`
        <a href="${n.url}" class="search-result-item">
          <div class="search-result-title">${n.meta?.title||n.url}</div>
          <div class="search-result-excerpt">${n.excerpt}</div>
        </a>
      `).join("")}</script> <div class="post-container">   <h1 class="post-title">난해한 프로그래밍 언어 만들어보기</h1> <span class="post-date">Written on September 18, 2022</span> <img src="/images/2022-09-18-crafting-esolang/thumbnail.png" alt="난해한 프로그래밍 언어 만들어보기" style="width: 100%;"><div class="toc" data-margin-top="50"><ul class="toc-list"><li><a href="#난해한-프로그래밍-언어란">난해한 프로그래밍 언어란?</a></li><li><a href="#brainfuck-소개">Brainfuck 소개</a><ul class="toc-list"><li><a href="#문법-설명">문법 설명</a><ul class="toc-list"><li><a href="#hello-world">Hello, World!</a></li><li><a href="#반복문">반복문</a></li></ul></li><li><a href="#프로그래밍-언어라고-볼-수-있는가">프로그래밍 언어라고 볼 수 있는가?</a><ul class="toc-list"><li><a href="#튜링-기계">튜링 기계</a></li><li><a href="#튜링-완전">튜링 완전</a></li></ul></li></ul></li><li><a href="#brainfuck-구현해보기">Brainfuck 구현해보기</a><ul class="toc-list"><li><a href="#기본-명령어-구현">기본 명령어 구현</a><ul class="toc-list"><li><a href="#초기화">초기화</a></li><li><a href="#포인터-이동">포인터 이동</a></li><li><a href="#값-증감">값 증감</a></li><li><a href="#입출력">입출력</a></li></ul></li><li><a href="#실행">실행</a></li><li><a href="#반복문-구현">반복문 구현</a><ul class="toc-list"><li><a href="#점프-위치-저장">점프 위치 저장</a></li><li><a href="#점프-구현">점프 구현</a></li><li><a href="#반복문-실행">반복문 실행</a></li></ul></li></ul></li><li><a href="#jazzlang-만들어보기">Jazzlang 만들어보기</a><ul class="toc-list"><li><a href="#명령어-및-규칙">명령어 및 규칙</a></li><li><a href="#transpile-구현">Transpile 구현</a></li></ul></li><li><a href="#마치며">마치며</a></li></ul></div><div class="mt-2 box-border w-full rounded-lg bg-[#f8f9fa] p-4"> <div class="mb-2 text-xl font-bold">바퀴의 재발명 시리즈</div> <ul style="margin: 0; padding: 0; padding-left: 24px;"> <li style="color: #00a962;"> <a href="/posts/crafting-esolang/" style="text-decoration: none; color: #333; font-weight: bold;"> 난해한 프로그래밍 언어 만들어보기 </a> </li><li style> <a href="/posts/ascii-3d-renderer/" style="text-decoration: none; color: #333;"> ASCII 3D 렌더러 만들기 </a> </li><li style> <a href="/posts/encrypted-vault-system/" style="text-decoration: none; color: #333;"> 비밀 관리를 위한 금고 시스템 만들기 </a> </li><li style> <a href="/posts/music-recognition-system/" style="text-decoration: none; color: #333;"> 음악 검색 시스템 만들기 </a> </li> </ul> </div><div class="post-content" data-pagefind-body>  <p><strong>잉여 코딩</strong>이라는 말을 들어본 적 있는가? 잉여 코딩은 돈 버는데엔 쓸모없지만 취미로 즐겁게 코딩하는 것을 의미한다. 최근 몇 년 사이엔 대부분 업무와 연관이 있는 코딩만 했는데 마침 비는 시간이 생겨 정말 오랜만에 업무와 전혀 무관한 <a href="https://github.com/kciter/jazzlang" rel="noopener noreferrer" target="_blank">잉여 코딩</a>을 했다.</p>
<figure><img src="/images/2022-09-18-crafting-esolang/jazzlang-repo.png" alt="잉여 코딩의 결과물" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>잉여 코딩의 결과물</figcaption></figure>
<p>학창 시절에 들은 <strong>“잉여 코딩을 하면 코딩 실력이 금방 좋아집니다”</strong>라는 말은 아직도 마음에 새겨두고 있는 말이다. 내 코딩 실력은 업무에 도움이 되든 안되든 대부분 재미로 무언가를 만들 때 가장 크게 성장했다. 그래서 많은 시간을 할애할 수는 없겠지만 기회가 될 때마다 <strong>만들어보기</strong>라는 주제를 잡고 여러 재밌는 것들을 만드는 잉여 코딩을 해볼 생각이다.</p>
<h1 id="난해한-프로그래밍-언어란"><a href="#난해한-프로그래밍-언어란">난해한 프로그래밍 언어란?</a></h1>
<p>그래서 이 포스팅의 목표는 난해한 프로그래밍 언어라는 <strong>특이한 언어를 만들어보는 것</strong>이다. 난해한 프로그래밍 언어는 해외에선 Esolang이라 부르는데 말 그대로 난해한 프로그래밍 언어(Esoteric programming language)의 준말이다.</p>
<p>아마 SNS나 뉴스레터에서 개발 관련 소식을 자주 봤다면 가끔 이게 언어라고? 생각되는 신기한 언어들을 목격한 적이 있을 것이다. 대표적으로는 <a href="https://ko.wikipedia.org/wiki/%EB%B8%8C%EB%A0%88%EC%9D%B8%ED%8D%BD" rel="noopener noreferrer" target="_blank">Brainfuck</a>이 있고 국내 제작된 것 중에선 가장 바이럴이 잘된 <a href="https://github.com/rycont/umjunsik-lang" rel="noopener noreferrer" target="_blank">엄랭</a>이라는 언어가 있다. 이런 언어들은 <strong>난해한</strong> 프로그래밍 언어라고 부르는 것 처럼 실제 업무에 사용할 수는 없지만 개발자의 호기심을 자극시키는 부분이 있어 많은 사람들에게 널리 알려져있다.</p>
<figure><img src="/images/2022-09-18-crafting-esolang/brainfuck.jpeg" alt="이게... 코드라고?" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>이게... 코드라고?</figcaption></figure>
<p>위 이미지에 나오는 부호들의 모음은 실제로 실행되는 Brainfuck이란 언어의 코드다. 실제로 이미지 속 코드를 실행하면 <code>ROBBIE</code>라는 문자열이 출력된다. Brainfuck 외에도 Esolang은 많다. 만약 Brainfuck 외에 어떤 언어가 있는지 관심있다면 <a href="https://esolangs.org/" rel="noopener noreferrer" target="_blank">Esolang Wiki</a>에서 찾아볼 수 있다.</p>
<h1 id="brainfuck-소개"><a href="#brainfuck-소개">Brainfuck 소개</a></h1>
<p>이제 이 글에서 말하는 <code>난해한</code>이 어느 정도인지 알게됐다고 생각한다. 그 결과 코드 내용조차 이해하지 못했는데 어떻게 언어를 만들까? 라는 생각이 들 수 있지만 언어 문법에 대한 설명을 읽고나면 생각이 달라질 것이다.</p>
<h2 id="문법-설명"><a href="#문법-설명">문법 설명</a></h2>
<p>우선 언어에 대한 이해가 필요하다. Brainfuck은 8개의 문자가 명령어로서 존재한다. 그 외의 문자는 무시된다. 여기서 피연산자(변수, 상수 등)는 존재하지 않는다. 명령어의 종류는 다음과 같다.</p>









































<table><thead><tr><th><center>명령어</center></th><th>의미</th></tr></thead><tbody><tr><td><center>&gt;</center></td><td>포인터 위치가 1 증가한다.</td></tr><tr><td><center>&lt;</center></td><td>포인터 위치가 1 감소한다.</td></tr><tr><td><center>+</center></td><td>포인터 위치에 해당하는 값이 1 증가한다.</td></tr><tr><td><center>-</center></td><td>포인터 위치에 해당하는 값이 1 감소한다.</td></tr><tr><td><center>.</center></td><td>포인터에 해당하는 값을 ASCII 값으로 출력한다.</td></tr><tr><td><center>,</center></td><td>포인터 위치에 입력받은 값을 저장한다.</td></tr><tr><td><center>[</center></td><td>포인터 위치에 해당하는 값이 0이라면 ”]“로 이동한다. 0이 아니라면 다음 명령어로 이동한다.</td></tr><tr><td><center>]</center></td><td>포인터 위치에 해당하는 값이 0이 아니라면 ”[“로 이동한다. 0이라면 다음 명령어로 이동한다.</td></tr></tbody></table>
<p>포인터가 있는 언어에 대해 다뤄본 적이 있다면 반복문에 해당하는 <code>[</code>와 <code>]</code>를 제외하면 이해하기 쉬웠을 것이다. 만약 포인터라는 것이 이해하기 어려웠다면 <strong>배열</strong>을 떠올려보자. <code>&gt;</code>를 사용하면 배열을 가리키는 index가 1 증가하는 것이고 <code>&lt;</code>를 사용하면 index가 1 감소하는 것이다. 이렇게 생각하면 그다지 어렵지 않다. 반복문에 대한 내용은 더 뒤에 살펴보고 예제 코드를 한 번 살펴보자.</p>
<h3 id="hello-world"><a href="#hello-world">Hello, World!</a></h3>
<p>다음 예제 코드는 <a href="https://namu.wiki/w/%EB%B8%8C%EB%A0%88%EC%9D%B8%ED%8D%BD#s-4.2" rel="noopener noreferrer" target="_blank">나무위키</a>에 수록된 코드를 수정한 것으로 반복문을 사용하지 않은 출력 예제다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>// 한글을 포함하여 알파벳은 무시된다</span></span>
<span class="line"><span>// 플러스는 10개 단위로 끊었다</span></span>
<span class="line"><span>H</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++ . &gt;</span></span>
<span class="line"><span>e</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++ + . &gt;</span></span>
<span class="line"><span>l</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++ . &gt;</span></span>
<span class="line"><span>l</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++ . &gt;</span></span>
<span class="line"><span>o</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ + . &gt;</span></span>
<span class="line"><span>Comma</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++ . &gt;</span></span>
<span class="line"><span>Space</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++ . &gt;</span></span>
<span class="line"><span>w</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ +++++++++ . &gt;</span></span>
<span class="line"><span>o</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ + . &gt;</span></span>
<span class="line"><span>r</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++ . &gt;</span></span>
<span class="line"><span>l</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++ . &gt;</span></span>
<span class="line"><span>d</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++ . &gt;</span></span>
<span class="line"><span>!</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ +++ .</span></span></code></pre>
<figcaption style="margin-top:-16">Hello, world! 출력 전체 코드</figcaption>
<p>벌써 머리가 아프지만 침착하게 코드를 분석해보면 생각보다 쉽다는 것을 알 수 있다. 먼저 맨 윗 부분부터 살펴보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>H</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++ . &gt;</span></span></code></pre>
<figcaption style="margin-top:-16">H 출력 코드</figcaption>
<p>먼저 가장 맨 위 H는 8개 명령어에 포함되지 않으므로 생략된다. 그리고 <code>+</code>는 현재 포인터 위치에 해당하는 값을 1 증가시킨다. 그렇다면 현재 포인터 위치를 0이라 가정했을 때 H 다음에 나오는 두 줄은 72만큼 증가한 후 <code>.</code> 명령어를 통해서 값에 해당하는 아스키 코드를 출력한다는 것을 알 수 있다. 72는 H의 아스키 코드 값이다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>e</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++</span></span>
<span class="line"><span>++++++++++ ++++++++++ ++++++++++ ++++++++++ ++++++++++ + . &gt;</span></span></code></pre>
<figcaption style="margin-top:-16">e 출력 코드</figcaption>
<p>이어서 다음 글자인 e에 대해서도 살펴보자. H를 출력한 후 <code>&gt;</code>를 통해 포인터 위치를 1 증가시켰으므로 현재 포인터 위치는 1이다. e 다음 두 줄은 101만큼 증가한 후 <code>.</code>을 통해 출력한다. 마찬가지로 e의 아스키 코드 값은 101이다. 나머지 글자도 같은 원리로 출력된다.</p>
<h3 id="반복문"><a href="#반복문">반복문</a></h3>
<p>아직 <code>[</code>와 <code>]</code>에 대해선 자세히 살펴보지 않았다. Brainfuck도 반복되는 작업을 줄이기 위한 반복 문법이 있는데, 이는 다른 명령어들보단 조금 난해하다.</p>
<ul>
<li><code>[</code> : 포인터 위치에 해당하는 값이 0이라면 ”]“로 이동한다. 0이 아니라면 다음 명령어로 이동한다.</li>
<li><code>]</code> : 포인터 위치에 해당하는 값이 0이 아니라면 ”[“로 이동한다. 0이라면 다음 명령어로 이동한다.</li>
</ul>
<p>익숙하지 않아 조금 헷갈릴 수 있겠지만 문장을 자세히 들여다보면 그다지 어렵진 않다. 말 그대로 <code>[</code>를 해석할 때 포인터 위치에 해당하는 값이 0이라면 <code>]</code> 명령어가 있는 위치까지 이동한다는 뜻이다. 그 사이에 있는 명령어는 무시된다. 만약 <code>]</code>가 없다면 컴파일 에러가 발생해야 한다. <code>]</code>의 경우도 마찬가지로 동작한다. 이 경우는 <code>[</code>를 만날 때까지 거꾸로 되돌아가는 것이라 볼 수 있다.</p>
<figure><img src="/images/2022-09-18-crafting-esolang/loop.png" alt="" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/></figure>
<p>설명이 조금 어렵게 느껴질 수 있다. 이해를 위해 이번엔 Hello, world! 출력을 반복문을 사용하여 코드를 줄여볼 것이다. 마찬가지로 <a href="https://namu.wiki/w/%EB%B8%8C%EB%A0%88%EC%9D%B8%ED%8D%BD#s-4.1" rel="noopener noreferrer" target="_blank">나무위키</a>의 예제와 설명을 이용하였다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>++++++++++</span></span>
<span class="line"><span>[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]</span></span>
<span class="line"><span>&gt;++.&gt;+.+++++++..+++.&gt;++++++++++++++.------------.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.</span></span></code></pre>
<p>포인터의 위치는 0부터 시작하고 모든 포인터의 메모리 초기값은 0이라고 가정한다.</p>
<ol>
<li><code>+++++ +++++</code><br/>
현재 포인터 위치(0)의 값을 10 증가시킨다. 결과적으로 포인터 위치에 해당하는 값은 10이 된다.</li>
<li><code>[&gt;+++++ ++ &gt;+++++ +++++ &gt;+++ &gt;+ &lt;&lt;&lt;&lt;</code><br/>
현재 포인터 위치(0)를 하나씩 증가시키며( &gt; (1) &gt; (2) &gt; (3) &gt; (4) ) 각 주소의 값을 7, 10, 3, 1씩 증가시킨다. 이후 <code>&lt;&lt;&lt;&lt;</code>를 통해 포인터의 위치를 다시 0으로 만든다.</li>
<li><code>-]</code><br/>
현재 포인터 위치(0)의 값을 1 감소시킨 후, 그 값이 0이 아닐 경우 <strong>2.</strong>의 <code>[</code> 로 돌아간다. <strong>1.</strong>에서 0에 해당하는 포인터 값을 10으로 만들었기 때문에 10회 반복문이 된다. 결국 <strong>2.</strong>가 10번 실행되므로 각 포인터의 1~4번째 위치에는 70, 100, 30, 10의 값이 들어가게 된다.</li>
<li><code>&gt;++ .</code> → H<br/>
포인터 위치를 1 증가시키고(1), 위치에 해당하는 값(=70)에 2를 더한 후(=72, H) 그 값을 아스키 코드로 출력한다.</li>
<li><code>&gt;+ . +++++ ++ .. +++ .</code> → ello<br/>
다시 포인터 위치를 1 증가시키고(2), 위치에 해당하는 값(=100)에 1을 더한 후(=101, e) 한 번 출력, 7을 더한 후(=108, l) 두 번 출력, 또다시 3을 더한 후(=111, o) 한 번 출력한다. 여기서 <strong>Hello</strong>가 출력된다.</li>
<li><code>&gt;++++++++++++++.------------.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.</code> → , World!<br/>
4~5와 같다. 포인터 위치를 이리저리 바꾸고 그 주소의 값에 숫자를 더하고 빼 가면서 문자를 출력한다. 여기서 <strong>, World!</strong>가 출력된다.</li>
</ol>
<p>각 단계를 보면 알겠지만 단순 노가다를 줄인 것에 가깝다. 너무 단순하기 때문에 위 두 예제를 봤다면 Brainfuck이란 언어가 어떻게 동작하는지 완벽하게 파악했을 것이다. 생각보다 간단하지 않은가? 조금은 구현에 대한 자신감이 조금은 생겼을 것이라 믿는다. 이처럼 모르는 것을 학습하면 <strong>난해한 것</strong>이 <strong>단순한 것, 쉬운 것</strong>으로 변한다. 이제 여러분 머릿 속에서 Brainfuck은 <code>단순한 프로그래밍 언어</code>가 되었을 것이다.</p>
<h2 id="프로그래밍-언어라고-볼-수-있는가"><a href="#프로그래밍-언어라고-볼-수-있는가">프로그래밍 언어라고 볼 수 있는가?</a></h2>
<p>그런데 이런 언어로 우리가 사용할만한 프로그램을 만들 수 있을까? 결론부터 말하면 <strong>가능</strong>하다. 물론 난해한 프로그래밍 언어를 이용하여 제대로된 프로그램을 만든 사람은 없다. 제대로된 프로그램을 만든 사람이 없다면 이런 언어가 어떻게 상용 소프트웨어, 컴파일러, 운영체제, 게임과 같은 복잡한 프로그램을 만들어 낼 수 있다는 것을 증명할 수 있을까?</p>
<p>우선 Brainfuck이라는 언어가 어떻게 탄생했는지 살펴보자. <a href="https://ko.wikipedia.org/wiki/%EB%B8%8C%EB%A0%88%EC%9D%B8%ED%8D%BD" rel="noopener noreferrer" target="_blank">위키백과</a>에 따르면 Brainfuck은 우어봔 뮐러(Urban Müller)가 1993년에 가장 작은 컴파일러로 구현 가능한 <strong>튜링 완전한 프로그래밍 언어</strong>를 만드는 것이 목적이었다고 한다. 여기서 중요한 것은 <strong>튜링 완전</strong>이라는 용어다. 컴퓨터 과학을 차근차근 공부했더라도 스쳐 지나가듯 넘어가는 경우가 많기 때문에 까먹은 사람이 많을 것이다. 이번 기회에 다시 살펴보자.</p>
<h3 id="튜링-기계"><a href="#튜링-기계">튜링 기계</a></h3>
<p>우리는 현대 사회 속에서 수많은 기계와 함께 살아가고 있다. 다음 이미지를 살펴보자.</p>
<figure><img src="/images/2022-09-18-crafting-esolang/machine.png" alt="어떤 차이가 있는가?" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>어떤 차이가 있는가?</figcaption></figure>
<p>위 이미지에 있는 기계 중에서 왼쪽에 해당하는 기계와 오른쪽에 해당하는 기계의 차이는 무엇일까? 정답은 간단하다. 왼쪽에 있는 기계들은 세탁하거나 음식을 데우거나 보관하는 등 정해진 일만을 수행한다. 이런 기계들은 특정 목적을 위해 존재하기 때문에 그 외의 일은 하지 않아도 된다. 반면 오른쪽에 있는 기계는 정해진 일 외에도 다른 많은 일을 할 수 있다. 문서를 작성하거나 그림을 그리거나 게임을 할 수 있다. 우리는 이런 기계를 컴퓨터라고 부른다.</p>
<p>이렇게 정해진 일 외에도 다른 일을 수행할 수 있는 기계를 <strong>튜링 기계</strong>라고 부른다. 튜링 기계는 1936년에 <a href="https://ko.wikipedia.org/wiki/%EC%95%A8%EB%9F%B0_%ED%8A%9C%EB%A7%81" rel="noopener noreferrer" target="_blank">앨런 튜링</a>이 고안한 가상의 기계다. 튜링 기계는 다음과 같은 세 가지 조건을 만족해야 한다.</p>
<ol>
<li><strong>튜링 기계는 무한한 테이프를 가지고 있다.</strong></li>
<li><strong>테이프의 각 칸에는 유한한 기호 중 하나가 적혀있다.</strong></li>
<li><strong>튜링 기계는 테이프의 각 칸의 기호를 읽고 해석할 수 있다.</strong></li>
</ol>
<p>이 세 가지 조건을 만족하는 기계를 튜링 기계라고 부른다. 튜링 기계는 무한한 테이프를 가지고 있기 때문에 무한한 입력을 받을 수 있다. 그리고 테이프의 각 칸에는 튜링 기계가 해석할 수 있는 유한한 기호가 적혀있다. 또한 튜링 기계는 테이프의 각 칸을 읽고 해석하고 그에 따라 처리를 할 수 있기 때문에 입력받은 후 각 테이프의 영역을 다른 기호로 바꾸거나 테이프의 위치를 옮길 수 있다.</p>
<figure><img src="/images/2022-09-18-crafting-esolang/turing-machine.png" alt="단순한 기계지만 많은 것을 할 수 있다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>단순한 기계지만 많은 것을 할 수 있다</figcaption></figure>
<p>위 조건들을 만족한다는 것이 어떤 의미를 가지는지 아직 잘 모를 수 있다. 튜링 기계를 다음과 같이 바꿔서 표현해보자.</p>
<ol>
<li><strong>컴퓨터는 레지스터, RAM, HDD와 같은 저장 장치가 있다.</strong></li>
<li><strong>저장 장치의 각 칸에는 0과 1 중 하나가 적혀있다.</strong></li>
<li><strong>컴퓨터는 저장 장치의 각 칸의 값을 읽고 해석할 수 있다.</strong></li>
</ol>
<p>튜링 기계는 컴퓨터, 테이프는 저장 장치라고 표현을 바꿨다. 그리고 유한한 기호 대신 이진수로 표현했다. 어떤가? 어떤 의미를 가지는지 알 것 같은가? 결국 튜링 기계는 프로그램을 실행시킬 수 있는 기계라고 볼 수 있다. 여기서 출력 장치인 모니터나 스피커 같은 것을 달아주면 우리가 아는 컴퓨터가 된다. 즉, <strong>튜링 기계는 현대 컴퓨터의 기원이 되는 기계</strong>다.</p>
<h3 id="튜링-완전"><a href="#튜링-완전">튜링 완전</a></h3>
<p>튜링 기계가 무엇인지 알았으니 이번에는 <strong>튜링 완전</strong>에 대해서 알아보자. 튜링 완전은 컴퓨터 과학에서 중요한 개념이다. 간단하게 말하자면 튜링 완전이란 <strong>만들어진 기계가 튜링 기계와 계산 능력이 동일하다</strong>라는 의미를 가진다. 그런데 여기서 의문을 가질 수 있다. 프로그래밍 언어는 기계가 아닌데 왜 튜링 완전하다고 표현하는 걸까?</p>
<figure><img src="/images/2022-09-18-crafting-esolang/minecraft-cpu.jpeg" alt="마인크래프트에서 만들어진 CPU를 통해 구현된 스네이크 게임" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>마인크래프트에서 만들어진 CPU를 통해 구현된 스네이크 게임</figcaption></figure>
<p>일단 그 전에 알아둬야 할 것은 <strong>튜링 기계는 또 다른 튜링 기계를 만들 수 있다는 점</strong>이다. 튜링 기계는 시간과 자원만 있다면 어떠한 계산이든 할 수 있기 때문에 결국 <strong>어떠한 계산이든 할 수 있도록 지시하는 기계</strong>가 된다면 어떠한 계산이든 할 수 있는 기계를 만든 것이라 볼 수 있다. 동일한 말이 여러 번 나와서 헷갈릴 수 있는데 우리가 잘 아는 <strong>가상 머신</strong>으로 생각해보자. 우리는 컴퓨터에서 가상 머신을 이용하여 윈도우에서 안드로이드 OS를 실행하거나 각종 에뮬레이터 등을 실행시킬 수 있다. 이러한 가상 머신은 우리가 사용하는 컴퓨터의 자원을 이용하여 다른 컴퓨터를 실행시키는 것이다. 이처럼 튜링 기계는 또 다른 튜링 기계를 만들 수 있다.</p>
<p>프로그래밍 언어는 기계가 아니지만 <strong>기계가 이해할 수 있는 언어로 변환되어 실행</strong>된다. 이러한 과정에서 프로그래밍 언어는 <strong>튜링 기계가 실행할 수 있는 기계로 변환</strong>될 수 있다. 이때, 그 기계가 튜링 완전하다면 해당 프로그래밍 언어는 튜링 완전한 프로그래밍 언어라고 부른다. 그렇기 때문에 튜링 완전한 프로그래밍 언어는 또 다른 언어를 만들 수 있다. 어셈블리어가 C언어를 만들고 파이썬이 또 파이썬(PyPy)을 만드는 것 같은 일이다.</p>
<p>따라서 Brainfuck은 상당히 다루기 난감하지만 충분한 시간이 있다면 브라우저, 프로그래밍 언어, AAA 게임 같은 것을 만들 수 있다. 물론, 그런 짓을 하는 사람은 없을 것이다.</p>
<p>참고로 현실에선 메모리의 제한이 있기 때문에 정말로 모든 것을 계산할 수는 없다. 그렇기 때문에 현실에 있는 컴퓨터는 <strong>느슨한 튜링 완전</strong>하다라고 말한다.</p>
<h1 id="brainfuck-구현해보기"><a href="#brainfuck-구현해보기">Brainfuck 구현해보기</a></h1>
<p>서문이 길었다. 그럼 본론으로 돌아와서 이번에는 난해한 프로그래밍 언어인 Brainfuck을 구현해보자. 앞서 살펴본 명령어들이 간단한 동작만을 수행하는 것을 보면 알겠지만 구현은 굉장히 쉬운 편이다. 참고로 구현된 소스는 <a href="https://github.com/kciter/brainfuck-impl" rel="noopener noreferrer" target="_blank">링크</a>를 통해 볼 수 있다. 여기서는 JavaScript(Node)로 구현해본다.</p>
<h2 id="기본-명령어-구현"><a href="#기본-명령어-구현">기본 명령어 구현</a></h2>
<p>사실 피연산자가 없기 때문에 명령어만 구현하면 끝난다. 명령어는 <code>&gt;</code>, <code>&lt;</code>와 같이 포인터 이동, <code>+</code>, <code>-</code>와 같이 값 증감, <code>.</code>과 <code>,</code>와 같이 입출력이 있다. 우선 조금 더 복잡한 <code>[</code>, <code>]</code>와 같은 반복문은 제외하고 나머지 명령어부터 구현해보자.</p>
<h3 id="초기화"><a href="#초기화">초기화</a></h3>
<p>먼저 포인터가 이동할 수 있는 범위인 메모리를 만들어야 한다. 보통 Brainfuck의 메모리는 32768바이트로 초기화하는데, 이는 Brainfuck의 특성상 그 이상의 메모리를 사용할 일이 없기 때문이라고 한다. 특별히 정해진 것은 아니기 때문에 32768바이트가 아닌 다른 크기로 초기화해도 무방하다. 편의상 메모리 영역은 배열로 만든다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> Brainfuck</span><span style="color:#24292E">(</span><span style="color:#E36209">size</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 32768</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.memory </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Array</span><span style="color:#24292E">(size).</span><span style="color:#6F42C1">fill</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">); </span><span style="color:#6A737D">// 메모리</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; </span><span style="color:#6A737D">// 포인터</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; </span><span style="color:#6A737D">// 프로그램 카운터, 코드의 위치</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.code </span><span style="color:#D73A49">=</span><span style="color:#24292E"> []; </span><span style="color:#6A737D">// 코드를 저장할 배열</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이어서 Brainfuck 코드를 불러올 수 있도록 <code>load</code> 메소드를 만든다. 이 메소드는 Brainfuck 코드를 인자로 받아서 <code>this.code</code>에 저장한다. 이때, 편의를 위해 Brainfuck 코드를 <code>split</code>으로 나눠서 배열로 저장한다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">load</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> (</span><span style="color:#E36209">code</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.code </span><span style="color:#D73A49">=</span><span style="color:#24292E"> code.</span><span style="color:#6F42C1">split</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h3 id="포인터-이동"><a href="#포인터-이동">포인터 이동</a></h3>
<p>이번에는 <code>&gt;</code>, <code>&lt;</code>와 같은 포인터 이동 명령어를 구현해보자. 포인터 이동은 <code>this.ptr</code>을 조작하도록 구현한다. <code>&gt;</code>는 포인터를 오른쪽으로 이동시키고, <code>&lt;</code>는 포인터를 왼쪽으로 이동시킨다. 이때, 포인터가 메모리의 범위를 벗어나면 에러를 발생시킨다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increasePtr</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">&gt;=</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.memory.</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> -</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) </span><span style="color:#D73A49">throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Out of memory&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreasePtr</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">&lt;=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) </span><span style="color:#D73A49">throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Out of memory&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">-=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h3 id="값-증감"><a href="#값-증감">값 증감</a></h3>
<p>다음으로 <code>+</code>, <code>-</code>와 같은 값 증감 명령어를 구현해보자. 값 증감은 <code>this.ptr</code> 위치에 해당하는 <code>this.memory</code>의 값을 조작하도록 구현한다. <code>+</code>는 현재 포인터가 가리키는 메모리의 값을 1 증가시키고, <code>-</code>는 현재 포인터가 가리키는 메모리의 값을 1 감소시킨다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increaseValue</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr] </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreaseValue</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr] </span><span style="color:#D73A49">-=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h3 id="입출력"><a href="#입출력">입출력</a></h3>
<p>마지막으로 <code>.</code>, <code>,</code>와 같은 입출력 명령어를 구현해보자. <code>.</code>은 현재 포인터가 가리키는 메모리의 값을 출력하고 <code>,</code>는 현재 포인터가 가리키는 메모리의 값을 입력받는다. 이 부분은 구현하는 언어에서 제공하는 Built-in 함수를 이용한다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">printValue</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#24292E">  process.stdout.</span><span style="color:#6F42C1">write</span><span style="color:#24292E">(String.</span><span style="color:#6F42C1">fromCharCode</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr]));</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">storingValue</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#D73A49">  let</span><span style="color:#24292E"> buffer </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Buffer.</span><span style="color:#6F42C1">alloc</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">  fs.</span><span style="color:#6F42C1">readSync</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">, buffer, </span><span style="color:#005CC5">0</span><span style="color:#24292E">, </span><span style="color:#005CC5">1</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> buffer.</span><span style="color:#6F42C1">toString</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;utf8&quot;</span><span style="color:#24292E">).</span><span style="color:#6F42C1">charCodeAt</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h2 id="실행"><a href="#실행">실행</a></h2>
<p>여기까지 구현했다면 실행하는 메서드를 구현해보자. 다음과 같이 <code>run</code>이라는 메서드를 만든다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">run</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">&lt;</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code.</span><span style="color:#005CC5">length</span><span style="color:#24292E">) { </span><span style="color:#6A737D">// 프로그램 카운터가 코드의 길이보다 작을 때까지 반복</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> command</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc]; </span><span style="color:#6A737D">// 현재 프로그램 카운터가 가리키는 명령어</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;&gt;&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increasePtr</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;&lt;&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreasePtr</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;+&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increaseValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;-&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreaseValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;.&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">printValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;,&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">storingValue</span><span style="color:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">    this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">; </span><span style="color:#6A737D">// 프로그램 카운터를 1 증가시킨다.</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p>이제 파일에서 코드를 읽고 실행시킬 수 있도록 로직을 작성해주자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#24292E">fs.</span><span style="color:#6F42C1">readFile</span><span style="color:#24292E">(process.argv[</span><span style="color:#005CC5">2</span><span style="color:#24292E">], </span><span style="color:#D73A49">function</span><span style="color:#24292E"> (</span><span style="color:#E36209">err</span><span style="color:#24292E">, </span><span style="color:#E36209">data</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (err) </span><span style="color:#D73A49">throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(err.message);</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> bf</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Brainfuck</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">  bf.</span><span style="color:#6F42C1">load</span><span style="color:#24292E">(data.</span><span style="color:#6F42C1">toString</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">  bf.</span><span style="color:#6F42C1">run</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">  process.stdout.</span><span style="color:#6F42C1">write</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">\n</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">});</span></span></code></pre>
<p>마지막으로 <code>helloword.bf</code>라는 파일을 만들고 글 위쪽에 있는 무식하게 긴 Hello, World! 코드를 넣은 후 실행시켜보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> node</span><span style="color:#032F62"> brainfuck.js</span><span style="color:#032F62"> helloworld.bf</span></span>
<span class="line"><span style="color:#6F42C1">Hello,</span><span style="color:#032F62"> World!</span></span></code></pre>
<h2 id="반복문-구현"><a href="#반복문-구현">반복문 구현</a></h2>
<p>아직 반복문은 구현하지 않았다. 최종적으로 반복문을 구현해보자. 반복문 구현은 다른 명령어보다는 조금 복잡하다.</p>
<h3 id="점프-위치-저장"><a href="#점프-위치-저장">점프 위치 저장</a></h3>
<p>반복문을 구현하기 위해서 미리 반복문의 시작과 끝의 위치를 저장해두면 편하다. 이를 위해 생성자에서 <code>this.jumpTo</code>라는 객체를 만들어준다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> Brainfuck</span><span style="color:#24292E">(</span><span style="color:#E36209">size</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 32768</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.memory </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Array</span><span style="color:#24292E">(size).</span><span style="color:#6F42C1">fill</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.code </span><span style="color:#D73A49">=</span><span style="color:#032F62"> &quot;&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.ptr </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.jumpTo </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {}; </span><span style="color:#6A737D">// 점프 위치를 저장하기 위한 객체</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>그리고 나름 전처리라는 의미로 <code>preprocess</code> 메서드에서 반복문의 시작과 끝의 위치를 저장해준다. 스택의 원리를 이용하면 구현하기 편하다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">preprocess</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> stack</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> [];</span></span>
<span class="line"><span style="color:#D73A49">  for</span><span style="color:#24292E"> (</span><span style="color:#D73A49">let</span><span style="color:#24292E"> i </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">; i </span><span style="color:#D73A49">&lt;</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code.</span><span style="color:#005CC5">length</span><span style="color:#24292E">; i </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> command</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code[i];</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;[&quot;</span><span style="color:#24292E">) { </span><span style="color:#6A737D">// 반복문 시작</span></span>
<span class="line"><span style="color:#24292E">      stack.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(i);</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;]&quot;</span><span style="color:#24292E">) { </span><span style="color:#6A737D">// 반복문의 끝을 만나면</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (stack.</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> ===</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) </span><span style="color:#D73A49">throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Syntax error&quot;</span><span style="color:#24292E">); </span><span style="color:#6A737D">// 스택이 비어있는데 ]가 나오면 에러</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">      this</span><span style="color:#24292E">.jumpTo[i] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> stack.</span><span style="color:#6F42C1">pop</span><span style="color:#24292E">(); </span><span style="color:#6A737D">// 끝 위치에 반복문의 시작 위치를 스택에서 꺼내서 저장</span></span>
<span class="line"><span style="color:#005CC5">      this</span><span style="color:#24292E">.jumpTo[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.jumpTo[i]] </span><span style="color:#D73A49">=</span><span style="color:#24292E"> i; </span><span style="color:#6A737D">// 시작 위치에 반복문의 끝 위치를 저장</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (stack.</span><span style="color:#005CC5">length</span><span style="color:#D73A49"> &gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) </span><span style="color:#D73A49">throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Syntax error&quot;</span><span style="color:#24292E">); </span><span style="color:#6A737D">// 스택에 남아있는 [가 있으면 에러</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h3 id="점프-구현"><a href="#점프-구현">점프 구현</a></h3>
<p>이제 반복문을 구현해보자. <code>jump</code> 메서드를 통해 조건을 만족한다면 프로그램 카운터의 위치를 이동시킨다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">jump</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> (</span><span style="color:#E36209">command</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;[&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr] </span><span style="color:#D73A49">===</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) { </span><span style="color:#6A737D">// [이고 메모리 값이 0이면</span></span>
<span class="line"><span style="color:#005CC5">    this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.jumpTo[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc]; </span><span style="color:#6A737D">// 반복문의 끝으로 이동</span></span>
<span class="line"><span style="color:#24292E">  } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;]&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.memory[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.ptr] </span><span style="color:#D73A49">!==</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) { </span><span style="color:#6A737D">// ]이고 메모리 값이 0이 아니면</span></span>
<span class="line"><span style="color:#005CC5">    this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.jumpTo[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc]; </span><span style="color:#6A737D">// 반복문의 시작으로 이동</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<h3 id="반복문-실행"><a href="#반복문-실행">반복문 실행</a></h3>
<p>이제 <code>run</code> 메서드에서 반복문을 실행시켜보자. <code>jump</code> 메서드를 통해 반복문의 시작과 끝을 처리해주고 나머지 명령어는 기존과 동일하게 처리한다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#005CC5">Brainfuck</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">run</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> () {</span></span>
<span class="line"><span style="color:#005CC5">  this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">preprocess</span><span style="color:#24292E">(); </span><span style="color:#6A737D">// 전처리</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">&lt;</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code.</span><span style="color:#005CC5">length</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> command</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> this</span><span style="color:#24292E">.code[</span><span style="color:#005CC5">this</span><span style="color:#24292E">.pc];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;&gt;&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increasePtr</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;&lt;&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreasePtr</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;+&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">increaseValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;-&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">decreaseValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;.&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">printValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;,&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">storingValue</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;[&quot;</span><span style="color:#D73A49"> ||</span><span style="color:#24292E"> command </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;]&quot;</span><span style="color:#24292E">) </span><span style="color:#005CC5">this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">jump</span><span style="color:#24292E">(command); </span><span style="color:#6A737D">// 반복문 처리</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">    this</span><span style="color:#24292E">.pc </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p>아까 만들어둔 <code>helloworld.bf</code>에 있던 기존 코드를 지우고 다음과 같이 반복문을 사용한 코드를 넣어보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>++++++++++</span></span>
<span class="line"><span>[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]</span></span>
<span class="line"><span>&gt;++.&gt;+.+++++++..+++.&gt;++++++++++++++.------------.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.</span></span></code></pre>
<p>마지막으로 실행해보면 잘되는 것을 확인할 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> node</span><span style="color:#032F62"> brainfuck.js</span><span style="color:#032F62"> helloworld.bf</span></span>
<span class="line"><span style="color:#6F42C1">Hello,</span><span style="color:#032F62"> World!</span></span></code></pre>
<p>만약 다른 프로그램도 실행해보고 싶다면 <a href="http://progopedia.com/example/fibonacci/14/" rel="noopener noreferrer" target="_blank">피보나치 수열</a>과 <a href="http://progopedia.com/example/factorial/18/" rel="noopener noreferrer" target="_blank">팩토리얼 계산</a> 예제 코드도 있으니 실행해보자.</p>
<h1 id="jazzlang-만들어보기"><a href="#jazzlang-만들어보기">Jazzlang 만들어보기</a></h1>
<p>이제 블로그 포스팅 첫 부분에 나온 잉여 코딩의 산출물인 Jazzlang을 만들어보자. Jazzlang 코드는 <a href="https://github.com/kciter/jazzlang" rel="noopener noreferrer" target="_blank">링크</a>에서 확인할 수 있다. 현재 Node로만 구현되어 있다.</p>
<h2 id="명령어-및-규칙"><a href="#명령어-및-규칙">명령어 및 규칙</a></h2>
<p>Jazzlang은 Brainfuck 문법을 기반으로 만들어져있다. 따라서 Brainfuck 명령어와 Jazzlang 명령어는 1:1로 호환된다.</p>









































<table><thead><tr><th>명령어</th><th>의미</th></tr></thead><tbody><tr><td>샤빱</td><td>포인터 위치가 1 증가한다.</td></tr><tr><td>사바</td><td>포인터 위치가 1 감소한다.</td></tr><tr><td>두비</td><td>포인터 위치에 해당하는 값이 1 증가한다.</td></tr><tr><td>두밥</td><td>포인터 위치에 해당하는 값이 1 감소한다.</td></tr><tr><td>두붸둡</td><td>포인터에 해당하는 값을 ASCII 값으로 출력한다.</td></tr><tr><td>샤바다</td><td>포인터 위치에 입력받은 값을 저장한다.</td></tr><tr><td>뚜비</td><td>포인터 위치에 해당하는 값이 0이라면 “두봐”로 이동한다. 0이 아니라면 다음 명령어로 이동한다.</td></tr><tr><td>두봐</td><td>포인터 위치에 해당하는 값이 0이 아니라면 “뚜비”로 이동한다. 0이라면 다음 명령어로 이동한다.</td></tr></tbody></table>
<p>그리고 밈적 재미를 위해 다음과 같은 규칙도 추가했다.</p>
<ul>
<li><code>재즈가 뭐라고 생각하세요?</code>부터 명령어를 인식한다.</li>
<li><code>이거야</code>가 나오면 프로그램이 종료된다.</li>
</ul>
<h2 id="transpile-구현"><a href="#transpile-구현">Transpile 구현</a></h2>
<p>명령어가 호환된다는 뜻은 Brainfuck 코드로 변환하면 Brainfuck 구현체로 실행이 가능하다는 뜻이다. 따라서 Jazzlang 코드를 Brainfuck 코드로 변환하는 Transpile 기능만 구현하면 끝난다. 기존 Brainfuck 구현체에서 <code>load</code> 메서드 구현만 조금 바꿔보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#6A737D">// 기존 Brainfuck 객체의 이름을 Jazzlang으로 변경했다.</span></span>
<span class="line"><span style="color:#005CC5">Jazzlang</span><span style="color:#24292E">.</span><span style="color:#005CC5">prototype</span><span style="color:#24292E">.</span><span style="color:#6F42C1">load</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> (</span><span style="color:#E36209">code</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> rawCode</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> code</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">split</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;재즈가 뭐라고 생각하세요?&quot;</span><span style="color:#24292E">)[</span><span style="color:#005CC5">1</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">split</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;이거야&quot;</span><span style="color:#24292E">)[</span><span style="color:#005CC5">0</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">    .</span><span style="color:#6F42C1">split</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">  let</span><span style="color:#24292E"> read </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">  while</span><span style="color:#24292E"> (read </span><span style="color:#D73A49">&lt;</span><span style="color:#24292E"> rawCode.</span><span style="color:#005CC5">length</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (rawCode[read] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;샤&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;빱&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;&gt;&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;바&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;다&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;,&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 3</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;사&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;바&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">      this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;&lt;&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">      read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;두&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;비&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;+&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;밥&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;-&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;붸&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;둡&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;.&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 3</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;봐&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;]&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (rawCode[read] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;뚜&quot;</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> rawCode[read </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">] </span><span style="color:#D73A49">===</span><span style="color:#032F62"> &quot;비&quot;</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">      this</span><span style="color:#24292E">.code.</span><span style="color:#6F42C1">push</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;[&quot;</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">      read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">      read </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p>굉장히 단순하게 구현했기 때문에 코드가 아주 투박하다. 하지만 이 이상 시간을 내서 고도화할 필요는 없어 보이니 관대하게 봐주시길 바란다. 다음은 Jazzlang으로 구현한 Hello, World! 코드 예제다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>재즈가 뭐라고 생각하세요?</span></span>
<span class="line"><span>두비두비두비 두비두비두비 두비두비두비두비</span></span>
<span class="line"><span>뚜비 샤빱 두비두비 두비두비두비 두비두비 샤빱 두비두비두비 두비두비두비 두비두비두비두비 샤빱 두비두비두비 샤빱 두비 사바사바사바사바 두밥 두봐</span></span>
<span class="line"><span>샤빱 두비두비 두붸둡 샤빱 두비 두붸둡 두비두비두비 두비두비두비두비 두붸둡 두붸둡 두비두비두비 두붸둡 샤빱</span></span>
<span class="line"><span>두비두비두비 두비두비두비 두비두비두비 두비두비두비 두비두비 두붸둡 두밥두밥두밥 두밥두밥두밥 두밥두밥두밥 두밥두밥두밥 두붸둡 사바사바</span></span>
<span class="line"><span>두비두비두비 두비두비두비 두비두비두비 두비두비두비 두비두비두비 두붸둡 샤빱 두붸둡 두비두비두비 두붸둡 두밥두밥두밥 두밥두밥두밥 두붸둡</span></span>
<span class="line"><span>두밥두밥두밥 두밥두밥두밥 두밥두밥 두붸둡 샤빱 두비 두붸둡</span></span>
<span class="line"><span>이거야</span></span></code></pre>
<p>위 코드를 <code>helloworld.jazz</code>로 저장하고 한 번 실행해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6F42C1">$</span><span style="color:#032F62"> node</span><span style="color:#032F62"> jazzlang.js</span><span style="color:#032F62"> helloworld.jazz</span></span>
<span class="line"><span style="color:#6F42C1">Hello,</span><span style="color:#032F62"> World!</span></span></code></pre>
<h1 id="마치며"><a href="#마치며">마치며</a></h1>
<p>글을 끝까지 읽어보면 난해한 프로그래밍 언어라는 것은 이름치고는 생각보다 구현하기 쉽다는 것을 알 수 있다. 물론 언어 구현이라길래 Lexer, Parser 등에 대한 구현이나 조금 더 심화 내용이 있을 거라 기대한 사람은 이 내용이 아쉽게 느껴질 수 있다. 그렇지만 본 포스팅의 목적은 <code>어려워 보이지만 쉬워요!</code>와 <code>언어 구현이 어떠한 원리로 가능한 것인지</code>라는 것을 보여주는 것이 목표였기 때문에 이 정도 선에서 마치고자 한다.</p>
<p>추후 조금 더 여유가 생긴다면 이번에 구현한 언어들을 고도화하는 만드는 과정을 포스팅해볼 예정이니 혹시 이 글을 읽고 관심이 생긴 독자가 있다면 추후 올라올 포스팅을 기대해주시길 바란다.</p>  </div> <div> <div class="mt-1 w-full"> <div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> crafting </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> language </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> esolang </div> </div> <div class="flex items-center py-6" data-astro-cid-k7qsseos> <div class="shrink-0 basis-[80px]" data-astro-cid-k7qsseos> <img class="h-[80px] w-[80px] object-cover" style="border-radius: 50%;" src="/images/about/avatar.jpg" data-astro-cid-k7qsseos> </div> <div class="ml-8 flex-1 text-base" data-astro-cid-k7qsseos> <div data-astro-cid-k7qsseos>
Written by <a href="/about/" class="name-gradient font-bold no-underline" data-astro-cid-k7qsseos>
@kciter
</a> </div> <div class="text-sm font-light leading-snug" data-astro-cid-k7qsseos>가치있는 지식이 되기를 바랍니다</div> <div class="-ml-1 [&_a]:text-sm [&_a]:text-[#888]" data-astro-cid-k7qsseos> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </div>   <div id="comments"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1MhqMT" prefix="r13" component-url="/_astro/Giscus.BCCeZi7E.js" component-export="default" renderer-url="/_astro/client.C9fCgUO1.js" props="{&quot;repo&quot;:[0,&quot;kciter/kciter.github.io&quot;],&quot;theme&quot;:[0,&quot;light&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Giscus&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island> </div> </div> <div class="pt-8 pb-8" data-astro-cid-llggujpl> <div class="grid grid-cols-3 gap-5 max-[30rem]:grid-cols-1" data-astro-cid-llggujpl> <a href="/posts/polymorphic-react-component/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2022-08-16-polymorphic-react-component/thumbnail.png" alt="Polymorphic한 React 컴포넌트 만들기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>Polymorphic한 React 컴포넌트 만들기</div> <small data-astro-cid-llggujpl>2022-08-16</small> </a><a href="/posts/codex-perfect-guide-book/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2026-02-26-codex-perfect-guide-book/thumbnail.png" alt="요즘 바이브 코딩 코덱스 완벽 가이드" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>요즘 바이브 코딩 코덱스 완벽 가이드</div> <small data-astro-cid-llggujpl>2026-02-26</small> </a><a href="/posts/mcp-from-ux-perspective/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2025-04-10-mcp-from-ux-perspective/thumbnail.jpg" alt="UX 관점에서 바라보는 MCP" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>UX 관점에서 바라보는 MCP</div> <small data-astro-cid-llggujpl>2025-04-10</small> </a><a href="/posts/encrypted-vault-system/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-04-14-encrypted-vault-system/thumbnail.png" alt="비밀 관리를 위한 금고 시스템 만들기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>비밀 관리를 위한 금고 시스템 만들기</div> <small data-astro-cid-llggujpl>2024-04-14</small> </a><a href="/posts/developers-learning-and-growth/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2023-12-24-developers-learning-and-growth/thumbnail.png" alt="개발자의 학습과 성장" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>개발자의 학습과 성장</div> <small data-astro-cid-llggujpl>2023-12-24</small> </a><a href="/posts/the-shortcut/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-05-10-the-shortcut/thumbnail.png" alt="기계의 반칙" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>기계의 반칙</div> <small data-astro-cid-llggujpl>2024-05-10</small> </a> </div> </div>  </div> <footer class="m-8 text-center text-[#999]"> <div> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> <div class="mt-4 mb-4 font-['Quattrocento_Sans',sans-serif] text-[0.8rem] text-[#9a9a9a]"> <a href="/about/" class="p-2.5 text-[#999] hover:text-[#333]" style="text-decoration: none;">
kciter.so | devlog by Sunhyoup Lee
</a> </div> </footer> </div> </body></html> <script type="module">document.querySelectorAll(".post-container a[data-footnote-ref]").forEach(o=>{const e=o.getAttribute("href")?.slice(1);if(!e)return;const r=document.getElementById(e);if(!r)return;const t=r.textContent?.replace("↩","").trim()||"";o.setAttribute("data-tooltip",t)});document.querySelectorAll(".code-tabs").forEach(o=>{const e=Array.from(o.querySelectorAll(":scope > pre"));if(e.length<2)return;const r=o.getAttribute("data-labels")?.split(",").map(a=>a.trim()),t=document.createElement("div");t.className="code-tabs-bar",e.forEach((a,s)=>{const n=r?.[s]||a.getAttribute("data-language")||"code",c=document.createElement("button");c.textContent=n,r?.[s]&&c.classList.add("has-filename"),s===0&&c.classList.add("active"),c.addEventListener("click",()=>{t.querySelectorAll("button").forEach(l=>l.classList.remove("active")),e.forEach(l=>l.classList.remove("active")),c.classList.add("active"),e[s].classList.add("active")}),t.appendChild(c)}),e[0].classList.add("active"),o.prepend(t)});const i=document.querySelectorAll(".toc .toc-list a");if(i.length>0){const e=Array.from(i).map(t=>t.getAttribute("href")?.slice(1)).filter(Boolean).map(t=>document.getElementById(t)).filter(Boolean),r=new IntersectionObserver(t=>{for(const a of t)if(a.isIntersecting){const s=a.target.id;i.forEach(n=>{n.classList.toggle("active",n.getAttribute("href")===`#${s}`)})}},{rootMargin:"0px 0px -70% 0px",threshold:0});e.forEach(t=>r.observe(t))}</script>