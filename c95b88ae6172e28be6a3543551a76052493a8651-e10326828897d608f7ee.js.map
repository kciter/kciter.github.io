{"version":3,"file":"c95b88ae6172e28be6a3543551a76052493a8651-e10326828897d608f7ee.js","mappings":"8MA0EA,MA5DcA,IASK,IATJ,IACbC,EAAG,QACHC,EAAO,MACPC,EAAK,WACLC,EAAU,SACVC,EAAQ,SACRC,EAAQ,MACRC,EAAK,KACLC,GACWR,EACX,MAAM,EAACS,EAAW,EAACC,IAAkBC,EAAAA,EAAAA,WAAS,GAE9C,OACEC,EAAAA,EAAAA,IAAA,UAAAC,SAAA,EACEC,EAAAA,EAAAA,GAAA,SACEb,IAAKA,EACLE,MAAOA,EACPY,MAAO,CAAEC,OAAQZ,EAAa,UAAY,WAC1Ca,QAASb,EAAa,IAAMM,GAAe,QAAQQ,EACnDb,SAAUA,EACVC,SAAUA,EACVC,MAAOA,EACPC,KAAMA,IAEPN,IAAWY,EAAAA,EAAAA,GAAA,cAAYK,wBAAyB,CAAEC,OAAQlB,KAC1DO,GACCY,EAAAA,cACEP,EAAAA,EAAAA,GAAA,OACEC,MAAO,CACLO,SAAU,QACVC,IAAK,EACLC,KAAM,EACNrB,MAAO,OACPsB,OAAQ,OACRT,OAAQ,WACRU,gBAAiB,sBAEnBT,QAASA,IAAMP,GAAe,GAAOG,UAErCC,EAAAA,EAAAA,GAAA,OACEC,MAAO,CACLY,aAAc,EACdC,SAAU,KACVzB,MAAO,MACPmB,SAAU,QACVC,IAAK,MACLC,KAAM,MACNK,UAAW,wBACXH,gBAAiB,SACjBb,UAEFC,EAAAA,EAAAA,GAAA,OAAKb,IAAKA,EAAKE,MAAM,aAGzB2B,SAASC,QAEN,EClEb,IAAIC,EAAI,EACNC,EAAI,EACJC,EAAI,EAEFC,EAAY,GACZC,EAAU,IAAIC,MAAMlC,MAAgBmC,KAAK,GACzCC,EAAS,IAAIF,MAAMlC,MAAgBmC,KAAK,KAI5C,IAAIE,EAAGC,EAAGC,EACNC,EACAC,EAAIC,EACJC,EA0BJ,SAASC,EAAoBC,EAAeC,EAAeC,EAAeC,GAxB1E,IAAoBC,EAAWC,EAAWC,EAAtBF,EAyBHJ,EAzByBM,EAyBXJ,EAA7BV,GAzB6Ba,EAyBPJ,GAvBhBM,KAAKC,IAAIxB,GAAKuB,KAAKC,IAAIvB,GAAKsB,KAAKE,IAAIvB,GACzCoB,EAAIC,KAAKE,IAAIzB,GAAKuB,KAAKC,IAAIvB,GAAKsB,KAAKE,IAAIvB,GACzCmB,EAAIE,KAAKE,IAAIzB,GAAKuB,KAAKC,IAAItB,GAC3BoB,EAAIC,KAAKC,IAAIxB,GAAKuB,KAAKC,IAAItB,GAC3BkB,EAAIG,KAAKE,IAAIxB,GAAKsB,KAAKE,IAAIvB,GAoB7BO,EAhBF,SAAoBW,EAAWC,EAAWC,GACxC,OACED,EAAIE,KAAKE,IAAIzB,GAAKuB,KAAKE,IAAIvB,GAC3BoB,EAAIC,KAAKC,IAAIxB,GAAKuB,KAAKE,IAAIvB,GAC3BmB,EAAIE,KAAKC,IAAIxB,GAAKuB,KAAKC,IAAIvB,GAAKsB,KAAKC,IAAItB,GACzCoB,EAAIC,KAAKE,IAAIzB,GAAKuB,KAAKC,IAAIvB,GAAKsB,KAAKC,IAAItB,GACzCkB,EAAIG,KAAKE,IAAIxB,GAAKsB,KAAKC,IAAItB,EAE/B,CAQMwB,CAAWV,EAAOC,EAAOC,GAC7BR,EAPF,SAAoBU,EAAWC,EAAWC,GACxC,OAAOA,EAAIC,KAAKE,IAAIzB,GAAKuB,KAAKE,IAAIxB,GAAKoB,EAAIE,KAAKC,IAAIxB,GAAKuB,KAAKE,IAAIxB,GAAKmB,EAAIG,KAAKC,IAAIvB,EACtF,CAKM0B,CAAWX,EAAOC,EAAOC,GAnCP,IAqCtBP,EAAM,EAAID,EAEVE,EAAKW,KAAKK,MAAMzD,GAtCP,GAsCwBwC,EAAMH,EAAI,GAC3CK,EAAKU,KAAKK,MAAMnC,GAvCP,GAuCyBkB,EAAMF,GAExCK,EAAMF,EAnDM,GAmDDC,EACPC,GAAO,GAAKA,EAAM3C,MAChBwC,EAAMP,EAAQU,KAChBV,EAAQU,GAAOH,EACfJ,EAAOO,GAAOK,EAGpB,CAEO,MAAMU,EAAeA,KAAO,IAADC,EAAAC,EAChC,MAAMC,GAAMC,EAAAA,EAAAA,QAAuB,OAC5BC,EAAQC,GAAaC,EAAAA,SAAe,IA+C3C,OA7CAA,EAAAA,WAAgB,KACd,IAEIC,EADAC,EAAOC,KAAKC,MAsChB,OAnCA,SAASC,IACP,MAAMD,EAAMD,KAAKC,MACXE,EAAUF,EAAMF,EAEtB,GAAII,EARY,GAQW,CACzBJ,EAAOE,EAAOE,EATA,GAWdnC,EAAOD,KAAK,KACZF,EAAQE,KAAK,GACbH,EAAY,GAGZ,IAAK,IAAIa,GAASb,EAAWa,EAAQb,EAAWa,GAAS,GACvD,IAAK,IAAIC,GAASd,EAAWc,EAAQd,EAAWc,GAAS,GACvDF,EAAoBC,EAAOC,GAAQd,EAAW,KAC9CY,EAAoBZ,EAAWc,EAAOD,EAAO,KAC7CD,GAAqBZ,EAAWc,GAAQD,EAAO,KAC/CD,GAAqBC,EAAOC,EAAOd,EAAW,KAC9CY,EAAoBC,GAAQb,GAAYc,EAAO,KAC/CF,EAAoBC,EAAOb,EAAWc,EAAO,KAIjDkB,EAAU5B,EAAOoC,KAAK,IAAIC,QAAQ,SAAU,YAAYA,QAAQ,MAAO,WAEvE5C,GAAK,IACLC,GAAK,IACLC,GAAK,GACP,CAEAmC,EAAWQ,sBAAsBJ,EACnC,CAEAA,GAEO,KACLK,qBAAqBT,EAAS,CAC/B,GACA,KAGDvD,EAAAA,EAAAA,GAAA,OACEkD,IAAKA,EACLjD,MAAO,CACLgE,WAAY,YACZC,WAAuB,QAAXlB,EAAAE,EAAIiB,eAAO,IAAAnB,OAAA,EAAXA,EAAaoB,cAAe,GAAK,IAAO,GACpDC,aAAwB,QAAXpB,EAAAC,EAAIiB,eAAO,IAAAlB,OAAA,EAAXA,EAAamB,cAAe,GAAK,IAAM,IAAM,IAC1DE,UAAW,UAEbjE,wBAAyB,CAAEC,OAAQ8C,IACnC,ECxHN,IAAIlC,EAAIqD,OAAOC,eAGXC,EAAIA,CAAC9C,EAAG+C,EAAGC,KAFPC,EAACjD,EAAG+C,EAAGC,KACbD,KAAK/C,EAAIT,EAAES,EAAG+C,EAAG,CAAEG,YAAY,EAAIC,cAAc,EAAIC,UAAU,EAAIC,MAAOL,IAAQhD,EAAE+C,GAAKC,CAAE,EACvEC,CAAEjD,EAAe,iBAAL+C,EAAgBA,EAAI,GAAKA,EAAGC,GAAIA,GAAG,IAC/D/C,EAAC,WACL,SAAAA,EAAY8C,EAAGC,GACbF,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACPA,KAAKvD,EAAIgD,EAAKO,KAAKtD,EAAIgD,CAC1B,CAAC,IAAAO,EAAAtD,EAAAuD,UAgBA,OAhBAD,EACDE,IAAA,SAAIV,GACF,OAAO,IAAI9C,EAAEqD,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EACxC,EAACuD,EACDG,SAAA,SAASX,GACP,OAAO,IAAI9C,EAAEqD,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EACxC,EAACuD,EACDI,SAAA,SAASZ,GACP,OAAO,IAAI9C,EAAEqD,KAAKvD,EAAIgD,EAAGO,KAAKtD,EAAI+C,EACpC,EAACQ,EACDK,OAAA,WACE,OAAO9C,KAAK+C,KAAKP,KAAKvD,EAAIuD,KAAKvD,EAAIuD,KAAKtD,EAAIsD,KAAKtD,EACnD,EAACuD,EACDO,UAAA,WACE,MAAMf,EAAIO,KAAKM,SACf,OAAO,IAAI3D,EAAEqD,KAAKvD,EAAIgD,EAAGO,KAAKtD,EAAI+C,EACpC,EAAC9C,CAAA,CArBI,GAuBD8D,EAAC,WACL,SAAAA,EAAYhB,EAAGC,EAAGgB,GAChBlB,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACPA,KAAKvD,EAAIgD,EAAKO,KAAKtD,EAAIgD,EAAKM,KAAKrD,EAAI+D,CACxC,CAACD,EACME,KAAP,WACE,OAAO,IAAIF,EAAE,EAAG,EAAG,EACrB,EAAC,IAAAG,EAAAH,EAAAP,UA+CA,OA/CAU,EACDT,IAAA,SAAIV,GACF,OAAO,IAAIgB,EAAET,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EAAGsD,KAAKrD,EAAI8C,EAAE9C,EACtD,EAACiE,EACDR,SAAA,SAASX,GACP,OAAO,IAAIgB,EAAET,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EAAGsD,KAAKrD,EAAI8C,EAAE9C,EACtD,EAACiE,EACDP,SAAA,SAASZ,GACP,OAAO,IAAIgB,EAAET,KAAKvD,EAAIgD,EAAGO,KAAKtD,EAAI+C,EAAGO,KAAKrD,EAAI8C,EAChD,EAACmB,EACDC,QAAA,SAAQpB,GACN,OAAO,IAAIgB,EACTT,KAAKvD,EACLuD,KAAKtD,EAAIc,KAAKE,IAAI+B,GAAKO,KAAKrD,EAAIa,KAAKC,IAAIgC,GACzCO,KAAKtD,EAAIc,KAAKC,IAAIgC,GAAKO,KAAKrD,EAAIa,KAAKE,IAAI+B,GAE7C,EAACmB,EACDE,QAAA,SAAQrB,GACN,OAAO,IAAIgB,EACTT,KAAKvD,EAAIe,KAAKE,IAAI+B,GAAKO,KAAKrD,GAAKa,KAAKC,IAAIgC,GAC1CO,KAAKtD,EACLsD,KAAKvD,EAAIe,KAAKC,IAAIgC,GAAKO,KAAKrD,EAAIa,KAAKE,IAAI+B,GAE7C,EAACmB,EACDG,QAAA,SAAQtB,GACN,OAAO,IAAIgB,EACTT,KAAKvD,EAAIe,KAAKE,IAAI+B,GAAKO,KAAKtD,EAAIc,KAAKC,IAAIgC,GACzCO,KAAKvD,EAAIe,KAAKC,IAAIgC,GAAKO,KAAKtD,EAAIc,KAAKE,IAAI+B,GACzCO,KAAKrD,EAET,EAACiE,EACDN,OAAA,WACE,OAAO9C,KAAK+C,KAAKP,KAAKvD,EAAIuD,KAAKvD,EAAIuD,KAAKtD,EAAIsD,KAAKtD,EAAIsD,KAAKrD,EAAIqD,KAAKrD,EACrE,EAACiE,EACDI,MAAA,SAAMvB,GACJ,OAAO,IAAIgB,EACTT,KAAKtD,EAAI+C,EAAE9C,EAAIqD,KAAKrD,EAAI8C,EAAE/C,EAC1BsD,KAAKrD,EAAI8C,EAAEhD,EAAIuD,KAAKvD,EAAIgD,EAAE9C,EAC1BqD,KAAKvD,EAAIgD,EAAE/C,EAAIsD,KAAKtD,EAAI+C,EAAEhD,EAE9B,EAACmE,EACDJ,UAAA,WACE,MAAMf,EAAIO,KAAKM,SACf,OAAO,IAAIG,EAAET,KAAKvD,EAAIgD,EAAGO,KAAKtD,EAAI+C,EAAGO,KAAKrD,EAAI8C,EAChD,EAACmB,EACDK,IAAA,SAAIxB,GACF,OAAOO,KAAKvD,EAAIgD,EAAEhD,EAAIuD,KAAKtD,EAAI+C,EAAE/C,EAAIsD,KAAKrD,EAAI8C,EAAE9C,CAClD,EAAC8D,CAAA,CAxDI,GA0DDS,EAAC,WACL,SAAAA,EAAYzB,EAAGC,EAAGgB,EAAGS,GACnB3B,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACRR,EAAEQ,KAAM,KACPA,KAAKvD,EAAIgD,EAAKO,KAAKtD,EAAIgD,EAAKM,KAAKrD,EAAI+D,EAAKV,KAAKkB,EAAIC,CACtD,CAAC,IAAAC,EAAAF,EAAAhB,UAqBA,OArBAkB,EACDjB,IAAA,SAAIV,GACF,OAAO,IAAIyB,EAAElB,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EAAGsD,KAAKrD,EAAI8C,EAAE9C,EAAGqD,KAAKkB,EAAIzB,EAAEyB,EACpE,EAACE,EACDhB,SAAA,SAASX,GACP,OAAO,IAAIyB,EAAElB,KAAKvD,EAAIgD,EAAEhD,EAAGuD,KAAKtD,EAAI+C,EAAE/C,EAAGsD,KAAKrD,EAAI8C,EAAE9C,EAAGqD,KAAKkB,EAAIzB,EAAEyB,EACpE,EAACE,EACDf,SAAA,SAASZ,GACP,OAAO,IAAIyB,EAAElB,KAAKvD,EAAIgD,EAAGO,KAAKtD,EAAI+C,EAAGO,KAAKrD,EAAI8C,EAAGO,KAAKkB,EAAIzB,EAC5D,EAAC2B,EACDtF,UAAA,SAAU2D,GACR,MAAMC,EAAIM,KAAKvD,EACbiE,EAAIV,KAAKtD,EACTyE,EAAInB,KAAKrD,EACTU,EAAI2C,KAAKkB,EACX,OAAO,IAAIA,EACTzB,EAAE4B,IAAM3B,EAAID,EAAE6B,IAAMZ,EAAIjB,EAAE8B,IAAMJ,EAAI1B,EAAE+B,IAAMnE,EAC5CoC,EAAEgC,IAAM/B,EAAID,EAAEiC,IAAMhB,EAAIjB,EAAEkC,IAAMR,EAAI1B,EAAEmC,IAAMvE,EAC5CoC,EAAEoC,IAAMnC,EAAID,EAAEqC,IAAMpB,EAAIjB,EAAEsC,IAAMZ,EAAI1B,EAAEuC,IAAM3E,EAC5CoC,EAAEwC,IAAMvC,EAAID,EAAEyC,IAAMxB,EAAIjB,EAAE0C,IAAMhB,EAAI1B,EAAE2C,IAAM/E,EAEhD,EAAC6D,CAAA,CA5BI,GA8BDmB,EAAC,WACL,SAAAA,EAAY5C,EAAGC,EAAGgB,EAAGS,EAAG9D,EAAGiF,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAG1G,EAAG2G,EAAGC,EAAGC,GACvDvD,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,OACPA,KAAKqB,IAAM5B,EACTO,KAAKyB,IAAM/B,EACXM,KAAK6B,IAAMnB,EACXV,KAAKiC,IAAMd,EACXnB,KAAKsB,IAAMjE,EACX2C,KAAK0B,IAAMY,EACXtC,KAAK8B,IAAMS,EACXvC,KAAKkC,IAAMM,EACXxC,KAAKuB,IAAMkB,EACXzC,KAAK2B,IAAMe,EACX1C,KAAK+B,IAAMY,EACX3C,KAAKmC,IAAMS,EACX5C,KAAKwB,IAAMtF,EACX8D,KAAK4B,IAAMiB,EACX7C,KAAKgC,IAAMc,EACX9C,KAAKoC,IAAMW,CAChB,CAACV,EACM1B,KAAP,WACE,OAAO,IAAI0B,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC5D,EAACA,EACMW,SAAP,WACE,OAAO,IAAIX,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC5D,EAAC,IAAAY,EAAAZ,EAAAnC,UAmGA,OAnGA+C,EACD9C,IAAA,SAAIV,GACF,OAAO,IAAI4C,EACTrC,KAAKqB,IAAM5B,EAAE4B,IACbrB,KAAKyB,IAAMhC,EAAEgC,IACbzB,KAAK6B,IAAMpC,EAAEoC,IACb7B,KAAKiC,IAAMxC,EAAEwC,IACbjC,KAAKsB,IAAM7B,EAAE6B,IACbtB,KAAK0B,IAAMjC,EAAEiC,IACb1B,KAAK8B,IAAMrC,EAAEqC,IACb9B,KAAKkC,IAAMzC,EAAEyC,IACblC,KAAKuB,IAAM9B,EAAE8B,IACbvB,KAAK2B,IAAMlC,EAAEkC,IACb3B,KAAK+B,IAAMtC,EAAEsC,IACb/B,KAAKmC,IAAM1C,EAAE0C,IACbnC,KAAKwB,IAAM/B,EAAE+B,IACbxB,KAAK4B,IAAMnC,EAAEmC,IACb5B,KAAKgC,IAAMvC,EAAEuC,IACbhC,KAAKoC,IAAM3C,EAAE2C,IAEjB,EAACa,EACD7C,SAAA,SAASX,GACP,OAAO,IAAI4C,EACTrC,KAAKqB,IAAM5B,EAAE4B,IACbrB,KAAKyB,IAAMhC,EAAEgC,IACbzB,KAAK6B,IAAMpC,EAAEoC,IACb7B,KAAKiC,IAAMxC,EAAEwC,IACbjC,KAAKsB,IAAM7B,EAAE6B,IACbtB,KAAK0B,IAAMjC,EAAEiC,IACb1B,KAAK8B,IAAMrC,EAAEqC,IACb9B,KAAKkC,IAAMzC,EAAEyC,IACblC,KAAKuB,IAAM9B,EAAE8B,IACbvB,KAAK2B,IAAMlC,EAAEkC,IACb3B,KAAK+B,IAAMtC,EAAEsC,IACb/B,KAAKmC,IAAM1C,EAAE0C,IACbnC,KAAKwB,IAAM/B,EAAE+B,IACbxB,KAAK4B,IAAMnC,EAAEmC,IACb5B,KAAKgC,IAAMvC,EAAEuC,IACbhC,KAAKoC,IAAM3C,EAAE2C,IAEjB,EAACa,EACD5C,SAAA,SAASZ,GACP,OAAO,IAAI4C,EACTrC,KAAKqB,IAAM5B,EAAE4B,IAAMrB,KAAKyB,IAAMhC,EAAE6B,IAAMtB,KAAK6B,IAAMpC,EAAE8B,IAAMvB,KAAKiC,IAAMxC,EAAE+B,IACtExB,KAAKqB,IAAM5B,EAAEgC,IAAMzB,KAAKyB,IAAMhC,EAAEiC,IAAM1B,KAAK6B,IAAMpC,EAAEkC,IAAM3B,KAAKiC,IAAMxC,EAAEmC,IACtE5B,KAAKqB,IAAM5B,EAAEoC,IAAM7B,KAAKyB,IAAMhC,EAAEqC,IAAM9B,KAAK6B,IAAMpC,EAAEsC,IAAM/B,KAAKiC,IAAMxC,EAAEuC,IACtEhC,KAAKqB,IAAM5B,EAAEwC,IAAMjC,KAAKyB,IAAMhC,EAAEyC,IAAMlC,KAAK6B,IAAMpC,EAAE0C,IAAMnC,KAAKiC,IAAMxC,EAAE2C,IACtEpC,KAAKsB,IAAM7B,EAAE4B,IAAMrB,KAAK0B,IAAMjC,EAAE6B,IAAMtB,KAAK8B,IAAMrC,EAAE8B,IAAMvB,KAAKkC,IAAMzC,EAAE+B,IACtExB,KAAKsB,IAAM7B,EAAEgC,IAAMzB,KAAK0B,IAAMjC,EAAEiC,IAAM1B,KAAK8B,IAAMrC,EAAEkC,IAAM3B,KAAKkC,IAAMzC,EAAEmC,IACtE5B,KAAKsB,IAAM7B,EAAEoC,IAAM7B,KAAK0B,IAAMjC,EAAEqC,IAAM9B,KAAK8B,IAAMrC,EAAEsC,IAAM/B,KAAKkC,IAAMzC,EAAEuC,IACtEhC,KAAKsB,IAAM7B,EAAEwC,IAAMjC,KAAK0B,IAAMjC,EAAEyC,IAAMlC,KAAK8B,IAAMrC,EAAE0C,IAAMnC,KAAKkC,IAAMzC,EAAE2C,IACtEpC,KAAKuB,IAAM9B,EAAE4B,IAAMrB,KAAK2B,IAAMlC,EAAE6B,IAAMtB,KAAK+B,IAAMtC,EAAE8B,IAAMvB,KAAKmC,IAAM1C,EAAE+B,IACtExB,KAAKuB,IAAM9B,EAAEgC,IAAMzB,KAAK2B,IAAMlC,EAAEiC,IAAM1B,KAAK+B,IAAMtC,EAAEkC,IAAM3B,KAAKmC,IAAM1C,EAAEmC,IACtE5B,KAAKuB,IAAM9B,EAAEoC,IAAM7B,KAAK2B,IAAMlC,EAAEqC,IAAM9B,KAAK+B,IAAMtC,EAAEsC,IAAM/B,KAAKmC,IAAM1C,EAAEuC,IACtEhC,KAAKuB,IAAM9B,EAAEwC,IAAMjC,KAAK2B,IAAMlC,EAAEyC,IAAMlC,KAAK+B,IAAMtC,EAAE0C,IAAMnC,KAAKmC,IAAM1C,EAAE2C,IACtEpC,KAAKwB,IAAM/B,EAAE4B,IAAMrB,KAAK4B,IAAMnC,EAAE6B,IAAMtB,KAAKgC,IAAMvC,EAAE8B,IAAMvB,KAAKoC,IAAM3C,EAAE+B,IACtExB,KAAKwB,IAAM/B,EAAEgC,IAAMzB,KAAK4B,IAAMnC,EAAEiC,IAAM1B,KAAKgC,IAAMvC,EAAEkC,IAAM3B,KAAKoC,IAAM3C,EAAEmC,IACtE5B,KAAKwB,IAAM/B,EAAEoC,IAAM7B,KAAK4B,IAAMnC,EAAEqC,IAAM9B,KAAKgC,IAAMvC,EAAEsC,IAAM/B,KAAKoC,IAAM3C,EAAEuC,IACtEhC,KAAKwB,IAAM/B,EAAEwC,IAAMjC,KAAK4B,IAAMnC,EAAEyC,IAAMlC,KAAKgC,IAAMvC,EAAE0C,IAAMnC,KAAKoC,IAAM3C,EAAE2C,IAE1E,EAACC,EACMa,MAAP,SAAazD,GACX,OAAO,IAAI4C,EAAE5C,EAAEhD,EAAG,EAAG,EAAG,EAAG,EAAGgD,EAAE/C,EAAG,EAAG,EAAG,EAAG,EAAG+C,EAAE9C,EAAG,EAAG,EAAG,EAAG,EAAG,EAClE,EAAC0F,EACMc,UAAP,SAAiB1D,GACf,OAAO,IAAI4C,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG5C,EAAEhD,EAAGgD,EAAE/C,EAAG+C,EAAE9C,EAAG,EAClE,EAAC0F,EACMxB,QAAP,SAAepB,GACb,MAAMC,EAAIlC,KAAKE,IAAI+B,GACjBiB,EAAIlD,KAAKC,IAAIgC,GACf,OAAO,IAAI4C,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG3C,GAAIgB,EAAG,EAAG,EAAGA,EAAGhB,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7D,EAAC2C,EACMvB,QAAP,SAAerB,GACb,MAAMC,EAAIlC,KAAKE,IAAI+B,GACjBiB,EAAIlD,KAAKC,IAAIgC,GACf,OAAO,IAAI4C,EAAE3C,EAAG,GAAIgB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAGA,EAAG,EAAGhB,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7D,EAAC2C,EACMtB,QAAP,SAAetB,GACb,MAAMC,EAAIlC,KAAKE,IAAI+B,GACjBiB,EAAIlD,KAAKC,IAAIgC,GACf,OAAO,IAAI4C,EAAE3C,GAAIgB,EAAG,EAAG,EAAGA,EAAGhB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7D,EAACuD,EACDG,YAAA,WACGpD,KAAKqB,IAAM,EACTrB,KAAKyB,IAAM,EACXzB,KAAK6B,IAAM,EACX7B,KAAKiC,IAAM,EACXjC,KAAKsB,IAAM,EACXtB,KAAK0B,IAAM,EACX1B,KAAK8B,IAAM,EACX9B,KAAKkC,IAAM,EACXlC,KAAKuB,IAAM,EACXvB,KAAK2B,IAAM,EACX3B,KAAK+B,IAAM,EACX/B,KAAKmC,IAAM,EACXnC,KAAKwB,IAAM,EACXxB,KAAK4B,IAAM,EACX5B,KAAKgC,IAAM,EACXhC,KAAKoC,IAAM,CAChB,EAACC,CAAA,CA3II,GA6IDgB,EACJ,SAAY5D,GACVD,EAAEQ,KAAM,YACRA,KAAKsD,SAAW7D,CAClB,EAEI8D,EAAC,WACL,SAAAA,IACE/D,EAAEQ,KAAM,OACRR,EAAEQ,KAAM,QACRR,EAAEQ,KAAM,MACRR,EAAEQ,KAAM,YACRR,EAAEQ,KAAM,cACPA,KAAKwD,IAAM,IAAI/C,EAAE,EAAG,EAAG,GACrBT,KAAKyD,KAAO,IAAIhD,EAAE,EAAG,EAAG,GACxBT,KAAK0D,GAAK,IAAIjD,EAAE,EAAG,EAAG,GACtBT,KAAK2D,SAAW,IAAIlD,EAAE,EAAG,EAAG,GAC5BT,KAAK4D,WAAavB,EAAEW,UACzB,CAAC,IAAAa,EAAAN,EAAArD,UA6CA,OA7CA2D,EACD/H,UAAA,SAAU2D,GACR,OAAOA,EAAE3D,UAAUkE,KAAK4D,WAC1B,EAACC,EACDC,oBAAA,WACE,MAAMpE,EAAIM,KAAKyD,KACV5C,QAAQb,KAAK2D,SAASlH,GACtBqE,QAAQd,KAAK2D,SAASjH,GACtBqE,QAAQf,KAAK2D,SAAShH,GACtBwD,IAAIH,KAAKwD,KACTpD,SAASJ,KAAKwD,KACdhD,YACHE,EAAIhB,EAAEW,SAASL,KAAK0D,GAAGzC,IAAIvB,IAC3ByB,EAAInB,KAAK0D,GAAGtD,SAASM,GAAGF,YACxBnD,EAAI8D,EAAEH,MAAMtB,GACdM,KAAK4D,WAAa,IAAIvB,EACpBhF,EAAEZ,EACFY,EAAEX,EACFW,EAAEV,EACF,EACAwE,EAAE1E,EACF0E,EAAEzE,EACFyE,EAAExE,EACF,EACA+C,EAAEjD,EACFiD,EAAEhD,EACFgD,EAAE/C,EACF,EACAqD,KAAKwD,IAAI/G,EACTuD,KAAKwD,IAAI9G,EACTsD,KAAKwD,IAAI7G,EACT,EAEJ,EAACkH,EACDE,2BAAA,SAA2BtE,EAAGC,EAAGgB,EAAGS,GAClC,MAAM9D,EAAIgF,EAAEW,WACVV,EAAI9E,KAAKwG,IAAKvE,EAAI,GAAM,SAAW,MACrC,OACGpC,EAAEgE,IAAM,EAAIiB,EAAI5C,EAChBrC,EAAEqE,IAAM,EAAIY,EACZjF,EAAE0E,KAAQ,EAAIrB,GAAMS,EAAIT,GAAK,EAC7BrD,EAAE8E,KAAO,EACT9E,EAAE2E,KAAQb,GAAKT,GAAMS,EAAIT,GAC1BrD,CAEJ,EAACkG,CAAA,CAzDI,GA2DDU,EAAC,oBAAAA,IAAA,CA+BJ,OA/BIA,EACEC,aAAP,SAAoBzE,GAClB,OAAO,IAAI0E,SAAQ,CAACzE,EAAGgB,KACrB,MAAMS,EAAI,IAAIiD,WACbjD,EAAEkD,OAAShH,IACV,IAAIkF,EACJ,MAAMD,EAAsB,OAAjBC,EAAIlF,EAAEiH,aAAkB,EAAS/B,EAAEpE,OAC9CmE,EAAI5C,EAAEM,KAAKuE,SAASjC,IAAM5B,EAAE,IAAI8D,MAAM,uBAAuB,EAE7DrD,EAAEsD,WAAWhF,EAAE,GAErB,EAACwE,EACMS,eAAP,SAAsBjF,GACpB,OAAOO,KAAKuE,SAAS9E,EACvB,EAACwE,EACMM,SAAP,SAAgB9E,GACd,MAAMC,EAAID,EAAEkF,MAAM,MAEhBjE,EAAI,GACJS,EAAI,GACN,IAAK,MAAM9D,KAAKqC,EAAG,CACjB,MAAM4C,EAAIjF,EACPuH,OACAD,MAAM,KACNE,QAAOtC,GAAW,KAANA,IACN,MAATD,EAAE,GACE5B,EAAEoE,KAAK,IAAIrE,EAAEsE,WAAWzC,EAAE,IAAKyC,WAAWzC,EAAE,IAAKyC,WAAWzC,EAAE,MACrD,MAATA,EAAE,IACFnB,EAAE2D,KAAK,IAAIzB,EAAE,CAAC3C,EAAEsE,SAAS1C,EAAE,IAAM,GAAI5B,EAAEsE,SAAS1C,EAAE,IAAM,GAAI5B,EAAEsE,SAAS1C,EAAE,IAAM,KACrF,CACA,OAAOnB,CACT,EAAC8C,CAAA,CA/BI,GAiCDgB,EAAC,WACL,SAAAA,IACEzF,EAAEQ,KAAM,YACRR,EAAEQ,KAAM,UACRR,EAAEQ,KAAM,SACPA,KAAKzE,SAAW,IAAIkF,EAAE,EAAG,EAAG,GAAMT,KAAKkF,OAAS,IAAIzE,EAAE,EAAG,EAAG,GAAMT,KAAKkD,MAAQ,IAAIzC,EAAE,EAAG,EAAG,EAC9F,CAAC,IAAA0E,EAAAF,EAAA/E,UAyBA,OAzBAiF,EACDrJ,UAAA,SAAU2D,GACR,MAAMC,EAAI2C,EACPW,WACA3C,SAASgC,EAAExB,QAAQb,KAAKkF,OAAOzI,IAC/B4D,SAASgC,EAAEvB,QAAQd,KAAKkF,OAAOxI,IAC/B2D,SAASgC,EAAEtB,QAAQf,KAAKkF,OAAOvI,IAC/B0D,SAASgC,EAAEa,MAAMlD,KAAKkD,QACtB7C,SAASgC,EAAEc,UAAUnD,KAAKzE,WAC7B,OAAOkE,EAAE3D,UAAU4D,EACrB,EAACyF,EACDC,aAAA,SAAa3F,GACXO,KAAKzE,SAAWkE,CAClB,EAAC0F,EACDE,SAAA,SAAS5F,GACPO,KAAKkD,MAAQzD,CACf,EAAC0F,EACDG,WAAA,SAAW7F,GACTO,KAAKkF,OAAOzI,EAAIgD,CAClB,EAAC0F,EACDI,WAAA,SAAW9F,GACTO,KAAKkF,OAAOxI,EAAI+C,CAClB,EAAC0F,EACDK,WAAA,SAAW/F,GACTO,KAAKkF,OAAOvI,EAAI8C,CAClB,EAACwF,CAAA,CA/BI,GAiCDQ,EAAC,WACL,SAAAA,EAAYhG,EAAGC,EAAGgB,GAChBlB,EAAEQ,KAAM,MACRR,EAAEQ,KAAM,SACRR,EAAEQ,KAAM,UACRR,EAAEQ,KAAM,eACRR,EAAEQ,KAAM,eACRR,EAAEQ,KAAM,OAAQ,IAChBR,EAAEQ,KAAM,UACRR,EAAEQ,KAAM,SACRR,EAAEQ,KAAM,SAERR,EAAEQ,KAAM,QAAS,WAChBA,KAAK0F,GAAKjG,EACRO,KAAK5F,MAAQsF,EACbM,KAAKtE,OAASgF,EACdV,KAAK2F,YAAc,IAAIrJ,MAAMoE,EAAI,GAAGnE,KAAK,MAAMqJ,KAAI,IAAM,IAAItJ,MAAMoD,EAAI,GAAGnD,KAAK,OAC/EyD,KAAK6F,YAAc,IAAIvJ,MAAMoE,EAAI,GAAGnE,KAAK,MAAMqJ,KAAI,IAAM,IAAItJ,MAAMoD,EAAI,GAAGnD,KAAK,OAC/EyD,KAAK8F,OAAS,IAAIvC,EAClBvD,KAAK+F,MAAQ,IAAId,EACjBjF,KAAKgG,MAAQ,CAClB,CAAC,IAAAC,EAAAR,EAAAvF,UA8GA,OA9GA+F,EACK/B,aAANgC,eAAmBzG,GACjBO,KAAKmG,WAAalC,EAAEC,aAAazE,EACnC,EAACwG,EACKvB,eAANwB,eAAqBzG,GACnBO,KAAKmG,WAAalC,EAAES,eAAejF,EACrC,EAACwG,EACDG,IAAA,WACE,MAAM1G,EAAI,mBACV,IACEyB,EACA9D,EAFEqD,EAAIlC,KAAKC,MAGb,MAAM6D,EAAIA,KACPnB,EAAI3C,KAAKC,MACPpB,EAAI8D,EAAIT,EACTrD,EAAIqC,IACAgB,EAAIS,EAAK9D,EAAIqC,EACfM,KAAKqG,SACJrG,KAAKgG,OAAS,KACfhG,KAAKgG,OAAS,OAAahG,KAAKgG,OAAS,OAC3ClH,sBAAsBwD,EAAE,EAE5BxD,sBAAsBwD,EACxB,EAAC2D,EACDI,OAAA,WACErG,KAAKsG,mBAAoBtG,KAAKuG,UAAWvG,KAAKwG,iBAChD,EAACP,EACDM,QAAA,WACGvG,KAAK8F,OAAOtC,IAAM,IAAI/C,EAAE,EAAG,GAAI,GAAKT,KAAK8F,OAAOhC,sBACjD,MAAMrE,EAAIO,KAAK8F,OAAO/B,2BAA2B,GAAI/D,KAAK5F,MAAQ,EAAI4F,KAAKtE,OAAQ,GAAK,KACxFsE,KAAK+F,MAAMT,WAAWtF,KAAKgG,OACzBhG,KAAK+F,MAAMR,WAAWvF,KAAKgG,OAC3BhG,KAAK+F,MAAMP,WAAWxF,KAAKgG,OAC3BhG,KAAK+F,MAAMX,aAAa,IAAI3E,EAAE,EAAG,EAAG,IACpCT,KAAKmG,KAAKM,SAAQ/G,IAChB,IAAIgB,EAAI,IAAIQ,EAAExB,EAAE4D,SAAS,GAAG7G,EAAGiD,EAAE4D,SAAS,GAAG5G,EAAGgD,EAAE4D,SAAS,GAAG3G,EAAG,GAC/DwE,EAAI,IAAID,EAAExB,EAAE4D,SAAS,GAAG7G,EAAGiD,EAAE4D,SAAS,GAAG5G,EAAGgD,EAAE4D,SAAS,GAAG3G,EAAG,GAC7DU,EAAI,IAAI6D,EAAExB,EAAE4D,SAAS,GAAG7G,EAAGiD,EAAE4D,SAAS,GAAG5G,EAAGgD,EAAE4D,SAAS,GAAG3G,EAAG,GAC9D+D,EAAIV,KAAK+F,MAAMjK,UAAU4E,GACvBS,EAAInB,KAAK+F,MAAMjK,UAAUqF,GACzB9D,EAAI2C,KAAK+F,MAAMjK,UAAUuB,GACzBqD,EAAIV,KAAK8F,OAAOhK,UAAU4E,GAC1BS,EAAInB,KAAK8F,OAAOhK,UAAUqF,GAC1B9D,EAAI2C,KAAK8F,OAAOhK,UAAUuB,GAC7B,MAAMiF,EAAI,IAAI7B,EAAEC,EAAEjE,EAAGiE,EAAEhE,EAAGgE,EAAE/D,GAAGyD,SAAS,IAAIK,EAAEU,EAAE1E,EAAG0E,EAAEzE,EAAGyE,EAAExE,IACxD4F,EAAI,IAAI9B,EAAEC,EAAEjE,EAAGiE,EAAEhE,EAAGgE,EAAE/D,GAAGyD,SAAS,IAAIK,EAAEpD,EAAEZ,EAAGY,EAAEX,EAAGW,EAAEV,IACpD6F,EAAIF,EAAEtB,MAAMuB,GAAG/B,YACfiC,EAAI,IAAIhC,EAAEC,EAAEjE,EAAGiE,EAAEhE,EAAGgE,EAAE/D,GAAGwD,IAAIH,KAAK8F,OAAOtC,KAC3C,GAAIhB,EAAEvB,IAAIwB,IAAM,EAAG,OAClB/B,EAAIV,KAAK0G,gBAAgBhG,EAAGjB,GAC1B0B,EAAInB,KAAK0G,gBAAgBvF,EAAG1B,GAC5BpC,EAAI2C,KAAK0G,gBAAgBrJ,EAAGoC,GAC/B,MAAMiD,EAAI,IAAIjC,EAAE,EAAG,EAAG,GAAGD,YACvBmC,EAAInF,KAAKmJ,IAAI,EAAGnE,EAAEvB,IAAIyB,IACxB1C,KAAK4G,UACH,IAAI1F,EAAER,EAAEjE,EAAGiE,EAAEhE,EAAGgE,EAAE/D,EAAG+D,EAAEQ,GACvB,IAAIA,EAAEC,EAAE1E,EAAG0E,EAAEzE,EAAGyE,EAAExE,EAAGwE,EAAED,GACvB,IAAIA,EAAE7D,EAAEZ,EAAGY,EAAEX,EAAGW,EAAEV,EAAGU,EAAE6D,GACvByB,EACD,GAEP,EAACsD,EACDS,gBAAA,SAAgBjH,EAAGC,GACjB,MAAMgB,EAAIjB,EAAE3D,UAAU4D,GACtB,OAAQgB,EAAEjE,GAAKiE,EAAEQ,EAAKR,EAAEhE,GAAKgE,EAAEQ,EAAKR,EAAE/D,GAAK+D,EAAEQ,EAAIR,CACnD,EAACuF,EACDW,UAAA,SAAUnH,EAAGC,EAAGgB,EAAGS,GACjB,MAAM9D,EAAI2C,KAAK5F,MAAQ,EACrBkI,EAAItC,KAAKtE,OAAS,EAClB6G,EAAI,IAAI5F,EAAE8C,EAAEhD,EAAIY,EAAIA,GAAIoC,EAAE/C,EAAI4F,EAAIA,GAClCE,EAAI,IAAI7F,EAAE+C,EAAEjD,EAAIY,EAAIA,GAAIqC,EAAEhD,EAAI4F,EAAIA,GAClCG,EAAI,IAAI9F,EAAE+D,EAAEjE,EAAIY,EAAIA,GAAIqD,EAAEhE,EAAI4F,EAAIA,GAClCI,EAAIlF,KAAKK,MAAML,KAAKmJ,IAAI,EAAGnJ,KAAKqJ,IAAItE,EAAE9F,EAAGe,KAAKqJ,IAAIrE,EAAE/F,EAAGgG,EAAEhG,MACzDkG,EAAInF,KAAKK,MAAML,KAAKmJ,IAAI,EAAGnJ,KAAKqJ,IAAItE,EAAE7F,EAAGc,KAAKqJ,IAAIrE,EAAE9F,EAAG+F,EAAE/F,MACzDkG,EAAIpF,KAAKK,MAAML,KAAKqJ,IAAI7G,KAAK5F,MAAOoD,KAAKmJ,IAAIpE,EAAE9F,EAAGe,KAAKmJ,IAAInE,EAAE/F,EAAGgG,EAAEhG,IAAM,IACxEP,EAAIsB,KAAKK,MAAML,KAAKqJ,IAAI7G,KAAKtE,OAAQ8B,KAAKmJ,IAAIpE,EAAE7F,EAAGc,KAAKmJ,IAAInE,EAAE9F,EAAG+F,EAAE/F,IAAM,IAC3E,IAAK,IAAImG,EAAIF,EAAGE,EAAI3G,EAAG2G,IACrB,IAAK,IAAIC,EAAIJ,EAAGI,EAAIF,EAAGE,IACrB,GAAI9C,KAAK8G,kBAAkBhE,EAAGD,EAAGN,EAAGC,EAAGC,GAAI,CACzC,MAAMM,EAAIF,EAAI7C,KAAK5F,MAAQ0I,EAC3B,GAAIC,EAAI/C,KAAKtE,OAASsE,KAAK5F,OAAS2I,EAAI,EAAG,UAC1CtD,EAAEyB,EAAIxB,EAAEwB,EAAIR,EAAEQ,GAAK,GAAKlB,KAAK6F,YAAYhD,GAAGC,KACzC9C,KAAK2F,YAAY9C,GAAGC,GAAK9C,KAAK+G,MAAMvJ,KAAKwJ,OAAOhH,KAAK+G,MAAMzG,OAAS,GAAKa,IAC1EnB,KAAK6F,YAAYhD,GAAGC,IAAMrD,EAAEyB,EAAIxB,EAAEwB,EAAIR,EAAEQ,GAAK,EAClD,CACN,EAAC+E,EACDa,kBAAA,SAAkBrH,EAAGC,EAAGgB,EAAGS,EAAG9D,GAC5B,MAAMiF,IACAnB,EAAEzE,EAAIW,EAAEX,IAAM+C,EAAIpC,EAAEZ,IAAMY,EAAEZ,EAAI0E,EAAE1E,IAAMiD,EAAIrC,EAAEX,MAC9CyE,EAAEzE,EAAIW,EAAEX,IAAMgE,EAAEjE,EAAIY,EAAEZ,IAAMY,EAAEZ,EAAI0E,EAAE1E,IAAMiE,EAAEhE,EAAIW,EAAEX,IACtD6F,IACIlF,EAAEX,EAAIgE,EAAEhE,IAAM+C,EAAIpC,EAAEZ,IAAMiE,EAAEjE,EAAIY,EAAEZ,IAAMiD,EAAIrC,EAAEX,MAC9CyE,EAAEzE,EAAIW,EAAEX,IAAMgE,EAAEjE,EAAIY,EAAEZ,IAAMY,EAAEZ,EAAI0E,EAAE1E,IAAMiE,EAAEhE,EAAIW,EAAEX,IAGtDgG,EAAIH,GAAK,KAEX,OAHMD,GAAK,MAGCI,GAAKA,GAJX,EAAIJ,EAAIC,GAGH,IAEb,EAAC0D,EACDO,gBAAA,WACE,MAAM/G,EAAIO,KAAK2F,YAAYC,KAAIlG,GAAKA,EAAEd,KAAK,IAAIC,QAAQ,MAAO,YAAWD,KAAK,UAC9EoB,KAAK0F,GAAGuB,UAAYxH,CACtB,EAACwG,EACDK,iBAAA,WACGtG,KAAK2F,YAAc,IAAIrJ,MAAM0D,KAAKtE,OAAS,GACzCa,KAAK,MACLqJ,KAAI,IAAM,IAAItJ,MAAM0D,KAAK5F,MAAQ,GAAGmC,KAAK,OACzCyD,KAAK6F,YAAc,IAAIvJ,MAAM0D,KAAKtE,OAAS,GACzCa,KAAK,MACLqJ,KAAI,IAAM,IAAItJ,MAAM0D,KAAK5F,MAAQ,GAAGmC,KAAK,MAChD,EAACkJ,CAAA,CAnII,GCjYA,MAAMyB,EAAkBA,KAAO,IAADnJ,EACnC,MAAME,GAAMC,EAAAA,EAAAA,QAAuB,MAQnC,OANAiJ,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAW,IAAIC,EAASpJ,EAAIiB,QAAS,GAAI,IAC/CkI,EAAS1C,eAAeyB,GACxBiB,EAAShB,KAAK,GACb,KAGDrL,EAAAA,EAAAA,GAAA,OACEkD,IAAKA,EACLjD,MAAO,CACLiE,WAAuB,QAAXlB,EAAAE,EAAIiB,eAAO,IAAAnB,OAAA,EAAXA,EAAaoB,cAAe,GAAK,IAAO,GACpDC,WAAY,EACZhF,MAAO,OACP4E,WAAY,cAEd,EAIAmH,EAAI,+aCHV,SAASmB,EAAkBC,GACzB,MAAMC,EAAclI,OAAOmI,OAAO,CAChC9E,EAAG,IACHJ,EAAG,IACHmF,OAAQ,SACRC,KAAM,OACNC,GAAI,KACJC,IAAK,MACLC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,QAAS,YACRC,EAAAA,EAAAA,KAAsBb,EAAMc,YAC/B,OAAOxN,EAAAA,EAAAA,IAAMyN,EAAAA,GAAW,CACtBxN,SAAU,EAACD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC9B7H,SAAU,CAAC,sFAAsFC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACnHgG,KAAM,4CACNC,IAAK,+BACL1N,SAAU,aACR,sEAAsEC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5FgG,KAAM,8CACNC,IAAK,+BACL1N,SAAU,WACR,wBAAwBC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACnD5M,SAAU,4BACR,kCACF,MAAMD,EAAAA,EAAAA,IAAM,SAAU,CACxBC,SAAU,EAACC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACrBvO,IAAK,mDACLE,MAAO,SACLW,EAAAA,EAAAA,GAAK,aAAc,CACrBD,SAAU,kBAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,kDAAkDC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAClFvM,wBAAyB,CACvBC,OAAQ,mFAER,qCAAqCN,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC3DgG,KAAM,iDACNC,IAAK,+BACL1N,SAAU,OACR,gBACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYI,GAAI,CAC7Bc,GAAI,yBACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,0BACNzN,SAAU,8BAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,kLAAkLC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACpN5M,SAAU,QACR,qEAAqED,EAAAA,EAAAA,IAAM2M,EAAYE,OAAQ,CACjG5M,SAAU,CAAC,KAAKC,EAAAA,EAAAA,GAAKyM,EAAYK,IAAK,CACpC/M,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,qBACNG,GAAI,uBACJ,qBAAqB,EACrB,mBAAoB,iBACpB5N,SAAU,QAEV,UACF,WACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,uDACLC,QAAS,0BACP,MAAMU,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,gCAAgCC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAClE5M,SAAU,yBACR,8BAA8BC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACpDgG,KAAM,4DACNC,IAAK,+BACL1N,SAAU,QACR,iCACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,kDACLC,QAAS,2BACTC,MAAO,QACL,MAAMS,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,mCAAmCC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACrE5M,SAAU,8BACR,wCACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,sDAAsDC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACxF5M,SAAU,+BACR,6BACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,sDACH,MAAMa,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,mHACR,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,qDACLC,QAAS,0BACTC,MAAO,QACL,MAAMS,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,uDAAuDC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACzF5M,SAAU,6DACR,kCACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,mDACH,MAAMa,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,qFACR,MAAMC,EAAAA,EAAAA,GAAK,MAAO,CACpBC,MAAO,CACL2N,UAAW,qCACX/M,aAAc,EACdgN,QAAS,GACTxO,MAAO,MACPyO,OAAQ,mBAEV/N,UAAUC,EAAAA,EAAAA,GAAK+C,EAAc,CAAC,KAC5B,MAAM/C,EAAAA,EAAAA,GAAK,aAAc,CAC3BD,SAAU,wBACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,yFAAyFC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC3H5M,SAAU,QACR,4CACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYI,GAAI,CAC7Bc,GAAI,gBACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,iBACNzN,SAAU,oBAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,qEAAqEC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACvG5M,SAAU,2CACR,2BAA2BC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACtD5M,SAAU,cACR,aACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,8DACLC,QAAS,cACP,MAAMY,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,iJACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,+BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,yBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,mCACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,oBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,SACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,UACNzN,SAAU,aAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,qBAAqBC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACvD5M,SAAU,aACR,sBAAsBC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACjD5M,SAAU,aACR,qBAAqBC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC9CvM,wBAAyB,CACvBC,OAAQ,kDAER,6DACF,MAAMN,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,uEACLC,QAAS,WACTC,MAAO,QACL,MAAMS,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,gBAAgBC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAClD5M,SAAU,SACRC,EAAAA,EAAAA,GAAK,MAAO,CACdD,SAAU,WACR,+FAA+FC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC1H5M,SAAU,SACRC,EAAAA,EAAAA,GAAK,MAAO,CACdD,SAAU,YACR,2BAA2BC,EAAAA,EAAAA,GAAKyM,EAAYK,IAAK,CACnD/M,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,qBACNG,GAAI,uBACJ,qBAAqB,EACrB,mBAAoB,iBACpB5N,SAAU,QAEV,0FACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,wDACLC,QAAS,sCACP,MAAMU,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,+BAA+BC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACjE5M,SAAU,YACRC,EAAAA,EAAAA,GAAK,MAAO,CACdD,SAAU,iBACR,8IAA8IC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACzK5M,SAAU,YACRC,EAAAA,EAAAA,GAAK,MAAO,CACdD,SAAU,sBACR,aACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,2EAA2EC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC7G5M,SAAU,2BACR,uCACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,4BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,0BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,iCACR,QACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC5C5M,SAAU,QACRC,EAAAA,EAAAA,GAAK,MAAO,CACdD,SAAU,WACR,oCACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYS,GAAI,CAC7BS,GAAI,QACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,SACNzN,SAAU,YAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,WAAWC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC7C5M,SAAU,+CACR,qIACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,4DACLC,QAAS,4BACP,MAAMU,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,sKAAsKC,EAAAA,EAAAA,GAAKyM,EAAYK,IAAK,CACrM/M,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,qBACNG,GAAI,uBACJ,qBAAqB,EACrB,mBAAoB,iBACpB5N,SAAU,WAGZ,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,4DACLC,QAAS,yCACTC,MAAO,QACL,MAAMS,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,mEAAmEC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACrG5M,SAAU,kDACR,yDACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYS,GAAI,CAC7BS,GAAI,OACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,QACNzN,SAAU,WAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,uEAAuEC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACzG5M,SAAU,8BACR,4LACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,2BACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,iBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,kBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,kBACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,oMACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,iCAAiCC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACnE5M,SAAU,4BACR,0GACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYS,GAAI,CAC7BS,GAAI,QACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,SACNzN,SAAU,YAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,kGAAkGC,EAAAA,EAAAA,GAAKyM,EAAYK,IAAK,CACjI/M,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,qBACNG,GAAI,uBACJ,qBAAqB,EACrB,mBAAoB,iBACpB5N,SAAU,QAEV,qCACF,MAAMC,EAAAA,EAAAA,GAAK0N,EAAAA,EAAO,CACpBvO,IAAK,mEACLC,QAAS,QACTC,MAAO,QACL,MAAMW,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,iCACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,wBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,uBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,wBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,qBACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,4IACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,+BAA+BC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CACjE5M,SAAU,UACR,uGACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,8FACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,OACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,QACNzN,SAAU,WAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,yCAAyCC,EAAAA,EAAAA,GAAKyM,EAAYE,OAAQ,CAC3E5M,SAAU,kCACR,mCACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,mBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,kCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,8BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,gCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,2BACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,kDACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,+GACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,8DACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,4FACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,0EACR,MAAMC,EAAAA,EAAAA,GAAK+N,EAAO,CACpB5O,IAAK,qDACLE,MAAO,MACPD,QAAS,SACTG,UAAU,EACVE,OAAO,EACPC,MAAM,IACJ,MAAMM,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,WACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,YACNzN,SAAU,eAEV,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,qFACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,iCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,6BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,4BACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,kHACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,0KACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYI,GAAI,CAC7Bc,GAAI,OACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,QACNzN,SAAU,WAEV,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,QACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,SACNzN,SAAU,YAEV,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,+GACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYU,GAAI,CAC9BpN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,yBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,kBACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,wKACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,8BACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,qBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,iBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,qCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,sCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,0BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,2BACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,sCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,w9BAER,MAAMN,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,6IACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,qiBAER,MAAMN,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,wDACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,WACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,YACNzN,SAAU,eAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,sDAAsDC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACnFgG,KAAM,oDACNC,IAAK,+BACL1N,SAAU,QACR,yBACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,ifAER,MAAMR,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,EAACC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAChCvM,wBAAyB,CACvBC,OAAQ,4CAER,wBAAwBN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CACjDvM,wBAAyB,CACvBC,OAAQ,0CAER,gBAAgBN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CACzCvM,wBAAyB,CACvBC,OAAQ,0CAER,oEACF,MAAMN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,k+PAER,MAAMR,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC1CvM,wBAAyB,CACvBC,OAAQ,4CAER,sIACF,MAAMN,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC7BU,GAAI,SACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,UACNzN,SAAU,aAEV,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,qDACR,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYM,GAAI,CAC9BhN,SAAU,CAAC,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CACpCjN,SAAU,qBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,iBACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,qCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,sCACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,0BACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYO,GAAI,CAC7BjN,SAAU,2BACR,QACF,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,8+bAER,MAAMR,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CAC7B7H,SAAU,CAAC,eAAeC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/CvM,wBAAyB,CACvBC,OAAQ,4CAER,wBAAwBN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CACjDvM,wBAAyB,CACvBC,OAAQ,4CAER,4CAA4CN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CACrEvM,wBAAyB,CACvBC,OAAQ,kDAER,kBACF,MAAMN,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,2pTAER,MAAMN,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,6FACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYG,KAAM,CAC/BvM,wBAAyB,CACvBC,OAAQ,yiHAER,MAAMN,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,iEACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,qFACR,MAAMC,EAAAA,EAAAA,GAAK,MAAO,CACpBC,MAAO,CACL2N,UAAW,qCACX/M,aAAc,EACdgN,QAAS,GACTxO,MAAO,MACPyO,OAAQ,mBAEV/N,UAAUC,EAAAA,EAAAA,GAAKmM,EAAiB,CAAC,KAC/B,MAAMnM,EAAAA,EAAAA,GAAK,aAAc,CAC3BD,SAAU,eACR,MAAMC,EAAAA,EAAAA,GAAKyM,EAAYI,GAAI,CAC7Bc,GAAI,MACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,OACNzN,SAAU,UAEV,MAAMC,EAAAA,EAAAA,GAAKyM,EAAY7E,EAAG,CAC5B7H,SAAU,8QACR,KAAM,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYW,QAAS,CACzC,kBAAkB,EAClBY,UAAW,YACXjO,SAAU,EAACC,EAAAA,EAAAA,GAAKyM,EAAYQ,GAAI,CAC9Be,UAAW,UACXL,GAAI,iBACJ5N,UAAUC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC5BgG,KAAM,kBACNzN,SAAU,gBAEV,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYU,GAAI,CAC9BpN,SAAU,CAAC,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYO,GAAI,CACrCW,GAAI,oBACJ5N,SAAU,CAAC,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CACpC7H,SAAU,CAAC,4EAA4EC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACzGgG,KAAM,wBACN,yBAAyB,EACzBQ,UAAW,wBACX,aAAc,kBACdjO,SAAU,SAEV,QACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYO,GAAI,CAC9BW,GAAI,oBACJ5N,SAAU,CAAC,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CACpC7H,SAAU,CAAC,mEAAmEC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAChGgG,KAAM,wBACN,yBAAyB,EACzBQ,UAAW,wBACX,aAAc,kBACdjO,SAAU,SAEV,QACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYO,GAAI,CAC9BW,GAAI,oBACJ5N,SAAU,CAAC,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CACpC7H,SAAU,CAAC,OAAOC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACpCgG,KAAM,qEACNC,IAAK,+BACL1N,SAAU,SACR,uGAAuGC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CAC7HgG,KAAM,wBACN,yBAAyB,EACzBQ,UAAW,wBACX,aAAc,kBACdjO,SAAU,SAEV,QACF,MAAMD,EAAAA,EAAAA,IAAM2M,EAAYO,GAAI,CAC9BW,GAAI,oBACJ5N,SAAU,CAAC,MAAMD,EAAAA,EAAAA,IAAM2M,EAAY7E,EAAG,CACpC7H,SAAU,CAAC,0CAA0CC,EAAAA,EAAAA,GAAKyM,EAAYjF,EAAG,CACvEgG,KAAM,wBACN,yBAAyB,EACzBQ,UAAW,wBACX,aAAc,kBACdjO,SAAU,SAEV,QACF,QACF,UAGV,CAOA,MANA,SAAoByM,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAOyB,QAASC,GAAa3J,OAAOmI,OAAO,CAAC,GAAGW,EAAAA,EAAAA,KAAsBb,EAAMc,YAC3E,OAAOY,GAAYlO,EAAAA,EAAAA,GAAKkO,EAAW3J,OAAOmI,OAAO,CAAC,EAAGF,EAAO,CAC1DzM,UAAUC,EAAAA,EAAAA,GAAKuM,EAAmBC,MAC9BD,EAAkBC,EAC1B,C,yDC1jBA,IA/CctN,IAAsD,IAArD,IAAEC,EAAG,QAAEC,EAAO,MAAEC,EAAK,WAAEC,GAAwBJ,EAC5D,MAAM,EAACS,EAAW,EAACC,IAAkBC,EAAAA,EAAAA,WAAS,GAE9C,OACEC,EAAAA,EAAAA,IAAA,UAAAC,SAAA,EACEC,EAAAA,EAAAA,GAAA,OACEb,IAAKA,EACLE,MAAOA,EACPY,MAAO,CAAEC,OAAQZ,EAAa,UAAY,WAC1Ca,QAASb,EAAa,IAAMM,GAAe,QAAQQ,IAEpDhB,IAAWY,EAAAA,EAAAA,GAAA,cAAYK,wBAAyB,CAAEC,OAAQlB,KAC1DO,GACCY,EAAAA,cACEP,EAAAA,EAAAA,GAAA,OACEC,MAAO,CACLO,SAAU,QACVC,IAAK,EACLC,KAAM,EACNrB,MAAO,OACPsB,OAAQ,OACRT,OAAQ,WACRU,gBAAiB,sBAEnBT,QAASA,IAAMP,GAAe,GAAOG,UAErCC,EAAAA,EAAAA,GAAA,OACEC,MAAO,CACLY,aAAc,EACdC,SAAU,KACVzB,MAAO,MACPmB,SAAU,QACVC,IAAK,MACLC,KAAM,MACNK,UAAW,wBACXH,gBAAiB,SACjBb,UAEFC,EAAAA,EAAAA,GAAA,OAAKb,IAAKA,EAAKE,MAAM,aAGzB2B,SAASC,QAEN,C","sources":["webpack://kciter.so/./src/components/Video/index.tsx","webpack://kciter.so/./src/materials/ascii-3d-renderer/SpinningCube.tsx","webpack://kciter.so/./src/materials/ascii-3d-renderer/renderer.ts","webpack://kciter.so/./src/materials/ascii-3d-renderer/ASCII3DRenderer.tsx","webpack://kciter.so/./src/posts/2024-03-03-ascii-3d-renderer.mdx","webpack://kciter.so/./src/components/Image/index.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\ninterface ImageProps {\n  src: string;\n  caption?: string;\n  width?: number;\n  expandable?: boolean;\n  autoPlay?: boolean;\n  controls?: boolean;\n  muted?: boolean;\n  loop?: boolean;\n}\n\nconst Video = ({\n  src,\n  caption,\n  width,\n  expandable,\n  autoPlay,\n  controls,\n  muted,\n  loop\n}: ImageProps) => {\n  const [isExpanded, toggleExpanded] = useState(false);\n\n  return (\n    <figure>\n      <video\n        src={src}\n        width={width}\n        style={{ cursor: expandable ? 'zoom-in' : 'default' }}\n        onClick={expandable ? () => toggleExpanded(true) : undefined}\n        autoPlay={autoPlay}\n        controls={controls}\n        muted={muted}\n        loop={loop}\n      />\n      {caption && <figcaption dangerouslySetInnerHTML={{ __html: caption }} />}\n      {isExpanded &&\n        ReactDOM.createPortal(\n          <div\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              cursor: 'zoom-out',\n              backgroundColor: 'rgba(0, 0, 0, 0.7)'\n            }}\n            onClick={() => toggleExpanded(false)}\n          >\n            <div\n              style={{\n                borderRadius: 8,\n                maxWidth: 1200,\n                width: '80%',\n                position: 'fixed',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                backgroundColor: 'white'\n              }}\n            >\n              <img src={src} width=\"100%\" />\n            </div>\n          </div>,\n          document.body\n        )}\n    </figure>\n  );\n};\n\nexport default Video;\n","import React, { useRef } from 'react';\n\nconst width = 60;\nconst height = 22;\nlet A = 0,\n  B = 0,\n  C = 0;\n\nlet cubeWidth = 20;\nlet zBuffer = new Array(width * height).fill(0);\nlet buffer = new Array(width * height).fill(' ');\nconst distanceFromCam = 100;\nconst K1 = 40;\n\nlet x, y, z;\nlet ooz;\nlet xp, yp;\nlet idx;\n\nfunction calculateX(i: number, j: number, k: number) {\n  return (\n    j * Math.sin(A) * Math.sin(B) * Math.cos(C) -\n    k * Math.cos(A) * Math.sin(B) * Math.cos(C) +\n    j * Math.cos(A) * Math.sin(C) +\n    k * Math.sin(A) * Math.sin(C) +\n    i * Math.cos(B) * Math.cos(C)\n  );\n}\n\nfunction calculateY(i: number, j: number, k: number) {\n  return (\n    j * Math.cos(A) * Math.cos(C) +\n    k * Math.sin(A) * Math.cos(C) -\n    j * Math.sin(A) * Math.sin(B) * Math.sin(C) +\n    k * Math.cos(A) * Math.sin(B) * Math.sin(C) -\n    i * Math.cos(B) * Math.sin(C)\n  );\n}\n\nfunction calculateZ(i: number, j: number, k: number) {\n  return k * Math.cos(A) * Math.cos(B) - j * Math.sin(A) * Math.cos(B) + i * Math.sin(B);\n}\n\nfunction calculateForSurface(cubeX: number, cubeY: number, cubeZ: number, ch: string) {\n  x = calculateX(cubeX, cubeY, cubeZ);\n  y = calculateY(cubeX, cubeY, cubeZ);\n  z = calculateZ(cubeX, cubeY, cubeZ) + distanceFromCam;\n\n  ooz = 1 / z;\n\n  xp = Math.floor(width / 2 + K1 * ooz * x * 2);\n  yp = Math.floor(height / 2 + K1 * ooz * y);\n\n  idx = xp + yp * width;\n  if (idx >= 0 && idx < width * height) {\n    if (ooz > zBuffer[idx]) {\n      zBuffer[idx] = ooz;\n      buffer[idx] = ch;\n    }\n  }\n}\n\nexport const SpinningCube = () => {\n  const ref = useRef<HTMLDivElement>(null);\n  const [result, setResult] = React.useState('');\n\n  React.useEffect(() => {\n    let fpsInterval = 24;\n    let then = Date.now();\n    let handleId: number;\n\n    function animate() {\n      const now = Date.now();\n      const elapsed = now - then;\n\n      if (elapsed > fpsInterval) {\n        then = now - (elapsed % fpsInterval);\n\n        buffer.fill('.');\n        zBuffer.fill(0);\n        cubeWidth = 12;\n\n        // First cube\n        for (let cubeX = -cubeWidth; cubeX < cubeWidth; cubeX += 0.6) {\n          for (let cubeY = -cubeWidth; cubeY < cubeWidth; cubeY += 0.6) {\n            calculateForSurface(cubeX, cubeY, -cubeWidth, '@');\n            calculateForSurface(cubeWidth, cubeY, cubeX, '$');\n            calculateForSurface(-cubeWidth, cubeY, -cubeX, '%');\n            calculateForSurface(-cubeX, cubeY, cubeWidth, '#');\n            calculateForSurface(cubeX, -cubeWidth, -cubeY, ';');\n            calculateForSurface(cubeX, cubeWidth, cubeY, '+');\n          }\n        }\n\n        setResult(buffer.join('').replace(/.{60}/g, '$&<br />').replace(/\\./g, '&nbsp;'));\n\n        A += 0.05;\n        B += 0.05;\n        C += 0.01;\n      }\n\n      handleId = requestAnimationFrame(animate);\n    }\n\n    animate();\n\n    return () => {\n      cancelAnimationFrame(handleId);\n    };\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        fontFamily: 'monospace',\n        fontSize: ((ref.current?.clientWidth || 0) / 700) * 14,\n        lineHeight: (ref.current?.clientWidth || 0) < 500 ? 1.8 : 1.4,\n        textAlign: 'center'\n      }}\n      dangerouslySetInnerHTML={{ __html: result }}\n    />\n  );\n};\n","// @ts-nocheck\nvar A = Object.defineProperty;\nvar b = (y, t, h) =>\n  t in y ? A(y, t, { enumerable: !0, configurable: !0, writable: !0, value: h }) : (y[t] = h);\nvar n = (y, t, h) => (b(y, typeof t != 'symbol' ? t + '' : t, h), h);\nclass z {\n  constructor(t, h) {\n    n(this, 'x');\n    n(this, 'y');\n    (this.x = t), (this.y = h);\n  }\n  add(t) {\n    return new z(this.x + t.x, this.y + t.y);\n  }\n  subtract(t) {\n    return new z(this.x - t.x, this.y - t.y);\n  }\n  multiply(t) {\n    return new z(this.x * t, this.y * t);\n  }\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n  normalize() {\n    const t = this.length();\n    return new z(this.x / t, this.y / t);\n  }\n}\nclass r {\n  constructor(t, h, s) {\n    n(this, 'x');\n    n(this, 'y');\n    n(this, 'z');\n    (this.x = t), (this.y = h), (this.z = s);\n  }\n  static zero() {\n    return new r(0, 0, 0);\n  }\n  add(t) {\n    return new r(this.x + t.x, this.y + t.y, this.z + t.z);\n  }\n  subtract(t) {\n    return new r(this.x - t.x, this.y - t.y, this.z - t.z);\n  }\n  multiply(t) {\n    return new r(this.x * t, this.y * t, this.z * t);\n  }\n  rotateX(t) {\n    return new r(\n      this.x,\n      this.y * Math.cos(t) - this.z * Math.sin(t),\n      this.y * Math.sin(t) + this.z * Math.cos(t)\n    );\n  }\n  rotateY(t) {\n    return new r(\n      this.x * Math.cos(t) + this.z * -Math.sin(t),\n      this.y,\n      this.x * Math.sin(t) + this.z * Math.cos(t)\n    );\n  }\n  rotateZ(t) {\n    return new r(\n      this.x * Math.cos(t) - this.y * Math.sin(t),\n      this.x * Math.sin(t) + this.y * Math.cos(t),\n      this.z\n    );\n  }\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }\n  cross(t) {\n    return new r(\n      this.y * t.z - this.z * t.y,\n      this.z * t.x - this.x * t.z,\n      this.x * t.y - this.y * t.x\n    );\n  }\n  normalize() {\n    const t = this.length();\n    return new r(this.x / t, this.y / t, this.z / t);\n  }\n  dot(t) {\n    return this.x * t.x + this.y * t.y + this.z * t.z;\n  }\n}\nclass w {\n  constructor(t, h, s, e) {\n    n(this, 'x');\n    n(this, 'y');\n    n(this, 'z');\n    n(this, 'w');\n    (this.x = t), (this.y = h), (this.z = s), (this.w = e);\n  }\n  add(t) {\n    return new w(this.x + t.x, this.y + t.y, this.z + t.z, this.w + t.w);\n  }\n  subtract(t) {\n    return new w(this.x - t.x, this.y - t.y, this.z - t.z, this.w - t.w);\n  }\n  multiply(t) {\n    return new w(this.x * t, this.y * t, this.z * t, this.w * t);\n  }\n  transform(t) {\n    const h = this.x,\n      s = this.y,\n      e = this.z,\n      i = this.w;\n    return new w(\n      t.m00 * h + t.m10 * s + t.m20 * e + t.m30 * i,\n      t.m01 * h + t.m11 * s + t.m21 * e + t.m31 * i,\n      t.m02 * h + t.m12 * s + t.m22 * e + t.m32 * i,\n      t.m03 * h + t.m13 * s + t.m23 * e + t.m33 * i\n    );\n  }\n}\nclass o {\n  constructor(t, h, s, e, i, m, a, c, l, d, p, F, B, u, f, M) {\n    n(this, 'm00');\n    n(this, 'm01');\n    n(this, 'm02');\n    n(this, 'm03');\n    n(this, 'm10');\n    n(this, 'm11');\n    n(this, 'm12');\n    n(this, 'm13');\n    n(this, 'm20');\n    n(this, 'm21');\n    n(this, 'm22');\n    n(this, 'm23');\n    n(this, 'm30');\n    n(this, 'm31');\n    n(this, 'm32');\n    n(this, 'm33');\n    (this.m00 = t),\n      (this.m01 = h),\n      (this.m02 = s),\n      (this.m03 = e),\n      (this.m10 = i),\n      (this.m11 = m),\n      (this.m12 = a),\n      (this.m13 = c),\n      (this.m20 = l),\n      (this.m21 = d),\n      (this.m22 = p),\n      (this.m23 = F),\n      (this.m30 = B),\n      (this.m31 = u),\n      (this.m32 = f),\n      (this.m33 = M);\n  }\n  static zero() {\n    return new o(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n  }\n  static identity() {\n    return new o(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n  add(t) {\n    return new o(\n      this.m00 + t.m00,\n      this.m01 + t.m01,\n      this.m02 + t.m02,\n      this.m03 + t.m03,\n      this.m10 + t.m10,\n      this.m11 + t.m11,\n      this.m12 + t.m12,\n      this.m13 + t.m13,\n      this.m20 + t.m20,\n      this.m21 + t.m21,\n      this.m22 + t.m22,\n      this.m23 + t.m23,\n      this.m30 + t.m30,\n      this.m31 + t.m31,\n      this.m32 + t.m32,\n      this.m33 + t.m33\n    );\n  }\n  subtract(t) {\n    return new o(\n      this.m00 - t.m00,\n      this.m01 - t.m01,\n      this.m02 - t.m02,\n      this.m03 - t.m03,\n      this.m10 - t.m10,\n      this.m11 - t.m11,\n      this.m12 - t.m12,\n      this.m13 - t.m13,\n      this.m20 - t.m20,\n      this.m21 - t.m21,\n      this.m22 - t.m22,\n      this.m23 - t.m23,\n      this.m30 - t.m30,\n      this.m31 - t.m31,\n      this.m32 - t.m32,\n      this.m33 - t.m33\n    );\n  }\n  multiply(t) {\n    return new o(\n      this.m00 * t.m00 + this.m01 * t.m10 + this.m02 * t.m20 + this.m03 * t.m30,\n      this.m00 * t.m01 + this.m01 * t.m11 + this.m02 * t.m21 + this.m03 * t.m31,\n      this.m00 * t.m02 + this.m01 * t.m12 + this.m02 * t.m22 + this.m03 * t.m32,\n      this.m00 * t.m03 + this.m01 * t.m13 + this.m02 * t.m23 + this.m03 * t.m33,\n      this.m10 * t.m00 + this.m11 * t.m10 + this.m12 * t.m20 + this.m13 * t.m30,\n      this.m10 * t.m01 + this.m11 * t.m11 + this.m12 * t.m21 + this.m13 * t.m31,\n      this.m10 * t.m02 + this.m11 * t.m12 + this.m12 * t.m22 + this.m13 * t.m32,\n      this.m10 * t.m03 + this.m11 * t.m13 + this.m12 * t.m23 + this.m13 * t.m33,\n      this.m20 * t.m00 + this.m21 * t.m10 + this.m22 * t.m20 + this.m23 * t.m30,\n      this.m20 * t.m01 + this.m21 * t.m11 + this.m22 * t.m21 + this.m23 * t.m31,\n      this.m20 * t.m02 + this.m21 * t.m12 + this.m22 * t.m22 + this.m23 * t.m32,\n      this.m20 * t.m03 + this.m21 * t.m13 + this.m22 * t.m23 + this.m23 * t.m33,\n      this.m30 * t.m00 + this.m31 * t.m10 + this.m32 * t.m20 + this.m33 * t.m30,\n      this.m30 * t.m01 + this.m31 * t.m11 + this.m32 * t.m21 + this.m33 * t.m31,\n      this.m30 * t.m02 + this.m31 * t.m12 + this.m32 * t.m22 + this.m33 * t.m32,\n      this.m30 * t.m03 + this.m31 * t.m13 + this.m32 * t.m23 + this.m33 * t.m33\n    );\n  }\n  static scale(t) {\n    return new o(t.x, 0, 0, 0, 0, t.y, 0, 0, 0, 0, t.z, 0, 0, 0, 0, 1);\n  }\n  static translate(t) {\n    return new o(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, t.x, t.y, t.z, 1);\n  }\n  static rotateX(t) {\n    const h = Math.cos(t),\n      s = Math.sin(t);\n    return new o(1, 0, 0, 0, 0, h, -s, 0, 0, s, h, 0, 0, 0, 0, 1);\n  }\n  static rotateY(t) {\n    const h = Math.cos(t),\n      s = Math.sin(t);\n    return new o(h, 0, -s, 0, 0, 1, 0, 0, s, 0, h, 0, 0, 0, 0, 1);\n  }\n  static rotateZ(t) {\n    const h = Math.cos(t),\n      s = Math.sin(t);\n    return new o(h, -s, 0, 0, s, h, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n  setIdentity() {\n    (this.m00 = 1),\n      (this.m01 = 0),\n      (this.m02 = 0),\n      (this.m03 = 0),\n      (this.m10 = 0),\n      (this.m11 = 1),\n      (this.m12 = 0),\n      (this.m13 = 0),\n      (this.m20 = 0),\n      (this.m21 = 0),\n      (this.m22 = 1),\n      (this.m23 = 0),\n      (this.m30 = 0),\n      (this.m31 = 0),\n      (this.m32 = 0),\n      (this.m33 = 1);\n  }\n}\nclass R {\n  constructor(t) {\n    n(this, 'vertices');\n    this.vertices = t;\n  }\n}\nclass I {\n  constructor() {\n    n(this, 'eye');\n    n(this, 'look');\n    n(this, 'up');\n    n(this, 'rotation');\n    n(this, 'viewMatrix');\n    (this.eye = new r(0, 0, 0)),\n      (this.look = new r(0, 0, 1)),\n      (this.up = new r(0, 1, 0)),\n      (this.rotation = new r(0, 0, 0)),\n      (this.viewMatrix = o.identity());\n  }\n  transform(t) {\n    return t.transform(this.viewMatrix);\n  }\n  calculateViewMatrix() {\n    const h = this.look\n        .rotateX(this.rotation.x)\n        .rotateY(this.rotation.y)\n        .rotateZ(this.rotation.z)\n        .add(this.eye)\n        .subtract(this.eye)\n        .normalize(),\n      s = h.multiply(this.up.dot(h)),\n      e = this.up.subtract(s).normalize(),\n      i = e.cross(h);\n    this.viewMatrix = new o(\n      i.x,\n      i.y,\n      i.z,\n      0,\n      e.x,\n      e.y,\n      e.z,\n      0,\n      h.x,\n      h.y,\n      h.z,\n      0,\n      this.eye.x,\n      this.eye.y,\n      this.eye.z,\n      1\n    );\n  }\n  calculatePerspectiveMatrix(t, h, s, e) {\n    const i = o.identity(),\n      m = Math.tan((t / 2) * (3.141592 / 180));\n    return (\n      (i.m00 = 1 / m / h),\n      (i.m11 = 1 / m),\n      (i.m22 = (-2 * s) / (e - s) - 1),\n      (i.m23 = -1),\n      (i.m32 = -(e * -s) / (e - s)),\n      i\n    );\n  }\n}\nclass g {\n  static loadFromFile(t) {\n    return new Promise((h, s) => {\n      const e = new FileReader();\n      (e.onload = i => {\n        var a;\n        const m = (a = i.target) == null ? void 0 : a.result;\n        m ? h(this.parseOBJ(m)) : s(new Error('Failed to load file'));\n      }),\n        e.readAsText(t);\n    });\n  }\n  static loadFromString(t) {\n    return this.parseOBJ(t);\n  }\n  static parseOBJ(t) {\n    const h = t.split(`\n`),\n      s = [],\n      e = [];\n    for (const i of h) {\n      const m = i\n        .trim()\n        .split(' ')\n        .filter(a => a !== '');\n      m[0] === 'v'\n        ? s.push(new r(parseFloat(m[1]), parseFloat(m[2]), parseFloat(m[3])))\n        : m[0] === 'f' &&\n          e.push(new R([s[parseInt(m[1]) - 1], s[parseInt(m[2]) - 1], s[parseInt(m[3]) - 1]]));\n    }\n    return e;\n  }\n}\nclass S {\n  constructor() {\n    n(this, 'position');\n    n(this, 'rotate');\n    n(this, 'scale');\n    (this.position = new r(0, 0, 0)), (this.rotate = new r(0, 0, 0)), (this.scale = new r(1, 1, 1));\n  }\n  transform(t) {\n    const h = o\n      .identity()\n      .multiply(o.rotateX(this.rotate.x))\n      .multiply(o.rotateY(this.rotate.y))\n      .multiply(o.rotateZ(this.rotate.z))\n      .multiply(o.scale(this.scale))\n      .multiply(o.translate(this.position));\n    return t.transform(h);\n  }\n  setTranslate(t) {\n    this.position = t;\n  }\n  setScale(t) {\n    this.scale = t;\n  }\n  setRotateX(t) {\n    this.rotate.x = t;\n  }\n  setRotateY(t) {\n    this.rotate.y = t;\n  }\n  setRotateZ(t) {\n    this.rotate.z = t;\n  }\n}\nclass Y {\n  constructor(t, h, s) {\n    n(this, 'el');\n    n(this, 'width');\n    n(this, 'height');\n    n(this, 'frameBuffer');\n    n(this, 'depthBuffer');\n    n(this, 'mesh', []);\n    n(this, 'camera');\n    n(this, 'world');\n    n(this, 'angle');\n    // private Shade = '.;ox%@';\n    n(this, 'Shade', '');\n    (this.el = t),\n      (this.width = h),\n      (this.height = s),\n      (this.frameBuffer = new Array(s + 1).fill(null).map(() => new Array(h + 1).fill(' '))),\n      (this.depthBuffer = new Array(s + 1).fill(null).map(() => new Array(h + 1).fill(255))),\n      (this.camera = new I()),\n      (this.world = new S()),\n      (this.angle = 0);\n  }\n  async loadFromFile(t) {\n    this.mesh = await g.loadFromFile(t);\n  }\n  async loadFromString(t) {\n    this.mesh = await g.loadFromString(t);\n  }\n  run() {\n    const h = 16.666666666666668;\n    let s = Date.now(),\n      e,\n      i;\n    const m = () => {\n      (e = Date.now()),\n        (i = e - s),\n        i > h &&\n          ((s = e - (i % h)),\n          this.render(),\n          (this.angle += 7e-3),\n          this.angle >= 2 * 3.14 && (this.angle -= 2 * 3.14)),\n        requestAnimationFrame(m);\n    };\n    requestAnimationFrame(m);\n  }\n  render() {\n    this.clearFrameBuffer(), this.process(), this.drawFrameBuffer();\n  }\n  process() {\n    (this.camera.eye = new r(0, 0, -5)), this.camera.calculateViewMatrix();\n    const t = this.camera.calculatePerspectiveMatrix(70, this.width / 2 / this.height, 0.1, 1e3);\n    this.world.setRotateX(this.angle),\n      this.world.setRotateY(this.angle),\n      this.world.setRotateZ(this.angle),\n      this.world.setTranslate(new r(0, 0, 0)),\n      this.mesh.forEach(h => {\n        let s = new w(h.vertices[0].x, h.vertices[0].y, h.vertices[0].z, 1),\n          e = new w(h.vertices[1].x, h.vertices[1].y, h.vertices[1].z, 1),\n          i = new w(h.vertices[2].x, h.vertices[2].y, h.vertices[2].z, 1);\n        (s = this.world.transform(s)),\n          (e = this.world.transform(e)),\n          (i = this.world.transform(i)),\n          (s = this.camera.transform(s)),\n          (e = this.camera.transform(e)),\n          (i = this.camera.transform(i));\n        const m = new r(s.x, s.y, s.z).subtract(new r(e.x, e.y, e.z)),\n          a = new r(s.x, s.y, s.z).subtract(new r(i.x, i.y, i.z)),\n          c = m.cross(a).normalize(),\n          l = new r(s.x, s.y, s.z).add(this.camera.eye);\n        if (c.dot(l) >= 0) return;\n        (s = this.transformVertex(s, t)),\n          (e = this.transformVertex(e, t)),\n          (i = this.transformVertex(i, t));\n        const d = new r(0, 0, 1).normalize(),\n          p = Math.max(0, c.dot(d));\n        this.rasterize(\n          new w(s.x, s.y, s.z, s.w),\n          new w(e.x, e.y, e.z, e.w),\n          new w(i.x, i.y, i.z, i.w),\n          p\n        );\n      });\n  }\n  transformVertex(t, h) {\n    const s = t.transform(h);\n    return (s.x /= s.w), (s.y /= s.w), (s.z /= s.w), s;\n  }\n  rasterize(t, h, s, e) {\n    const i = this.width / 2,\n      m = this.height / 2,\n      a = new z(t.x * i + i, -t.y * m + m),\n      c = new z(h.x * i + i, -h.y * m + m),\n      l = new z(s.x * i + i, -s.y * m + m),\n      d = Math.floor(Math.max(0, Math.min(a.x, Math.min(c.x, l.x)))),\n      p = Math.floor(Math.max(0, Math.min(a.y, Math.min(c.y, l.y)))),\n      F = Math.floor(Math.min(this.width, Math.max(a.x, Math.max(c.x, l.x)) + 1)),\n      B = Math.floor(Math.min(this.height, Math.max(a.y, Math.max(c.y, l.y)) + 1));\n    for (let u = p; u < B; u++)\n      for (let f = d; f < F; f++)\n        if (this.isPointInTriangle(f, u, a, c, l)) {\n          const M = u * this.width + f;\n          if (M > this.height * this.width || M < 0) continue;\n          (t.w + h.w + s.w) / 3 <= this.depthBuffer[u][f] &&\n            ((this.frameBuffer[u][f] = this.Shade[Math.round((this.Shade.length - 1) * e)]),\n            (this.depthBuffer[u][f] = (t.w + h.w + s.w) / 3));\n        }\n  }\n  isPointInTriangle(t, h, s, e, i) {\n    const m =\n        ((e.y - i.y) * (t - i.x) + (i.x - e.x) * (h - i.y)) /\n        ((e.y - i.y) * (s.x - i.x) + (i.x - e.x) * (s.y - i.y)),\n      a =\n        ((i.y - s.y) * (t - i.x) + (s.x - i.x) * (h - i.y)) /\n        ((e.y - i.y) * (s.x - i.x) + (i.x - e.x) * (s.y - i.y)),\n      c = 1 - m - a,\n      l = m < -1e-3,\n      d = a < -1e-3,\n      p = c < -1e-3;\n    return l == d && d == p;\n  }\n  drawFrameBuffer() {\n    const t = this.frameBuffer.map(h => h.join('').replace(/\\ /g, '&nbsp;')).join('<br />');\n    this.el.innerHTML = t;\n  }\n  clearFrameBuffer() {\n    (this.frameBuffer = new Array(this.height + 1)\n      .fill(null)\n      .map(() => new Array(this.width + 1).fill(' '))),\n      (this.depthBuffer = new Array(this.height + 1)\n        .fill(null)\n        .map(() => new Array(this.width + 1).fill(255)));\n  }\n}\nexport { Y as ASCII3DRenderer };\n","import React, { useEffect, useRef } from 'react';\nimport { ASCII3DRenderer as Renderer } from './renderer';\n\nexport const ASCII3DRenderer = () => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const renderer = new Renderer(ref.current, 80, 40);\n    renderer.loadFromString(mesh);\n    renderer.run();\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        fontSize: ((ref.current?.clientWidth || 0) / 700) * 14,\n        lineHeight: 1,\n        width: '100%',\n        fontFamily: 'monospace'\n      }}\n    />\n  );\n};\n\nconst mesh = `\n# Blender v2.90.1 OBJ File: ''\n# www.blender.org\no Cube\nv -1.000000 1.000000 1.000000\nv -1.000000 -1.000000 1.000000\nv -1.000000 1.000000 -1.000000\nv -1.000000 -1.000000 -1.000000\nv 1.000000 1.000000 1.000000\nv 1.000000 -1.000000 1.000000\nv 1.000000 1.000000 -1.000000\nv 1.000000 -1.000000 -1.000000\ns off\nf 5 3 1\nf 3 8 4\nf 7 6 8\nf 2 8 6\nf 1 4 2\nf 5 2 6\nf 5 7 3\nf 3 7 8\nf 7 5 6\nf 2 4 8\nf 1 3 4\nf 5 1 2\n`;\n","/*@jsxRuntime automatic @jsxImportSource @emotion/react*/\n/*\n\n       .      .  , ,             .           .     .\n\n```\nA = [a, b]  B = [e, f]\n[c, d]      [g, h]\n```\n\n  A B 2x2     A B    .\n\n```\nA * B = [a * e + b * g, a * f + b * h]\n[c * e + d * g, c * f + d * h]\n``` -->\n*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"@emotion/react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport Image from '@components/Image';\nimport Video from '@components/Video';\nimport {SpinningCube, ASCII3DRenderer} from '@materials/ascii-3d-renderer';\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    p: \"p\",\n    a: \"a\",\n    strong: \"strong\",\n    span: \"span\",\n    h1: \"h1\",\n    sup: \"sup\",\n    ul: \"ul\",\n    li: \"li\",\n    h2: \"h2\",\n    h3: \"h3\",\n    ol: \"ol\",\n    section: \"section\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.p, {\n      children: [\"       .           \", _jsx(_components.a, {\n        href: \"https://kciter.so/posts/crafting-esolang/\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"Jazzlang\"\n      }), \"       .           \", _jsx(_components.a, {\n        href: \"https://www.youtube.com/watch?v=p09i_hoFdd0\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \" \"\n      }), \"   .  \", _jsx(_components.strong, {\n        children: \"CLI    \"\n      }), \"      .\"]\n    }), \"\\n\", _jsxs(\"figure\", {\n      children: [_jsx(Image, {\n        src: \"/images/2024-03-03-ascii-3d-renderer/youtube.gif\",\n        width: \"80%\"\n      }), _jsx(\"figcaption\", {\n        children: \"   \"\n      })]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"     .      \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">  CLI    3D     ?</code>\"\n        }\n      }), \"    .    \", _jsx(_components.a, {\n        href: \"https://github.com/kciter/ascii-3d-renderer.js\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"\"\n      }), \"   .\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      id: \"-ascii-3d--\",\n      children: _jsx(_components.a, {\n        href: \"#-ascii-3d--\",\n        children: \" ASCII 3D  ?\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"3D   , , ,  ,        .    3D            .         ?  .   \", _jsx(_components.strong, {\n        children: \"\"\n      }), \"  .        CLI      \", _jsxs(_components.strong, {\n        children: [\"\", _jsx(_components.sup, {\n          children: _jsx(_components.a, {\n            href: \"#user-content-fn-1\",\n            id: \"user-content-fnref-1\",\n            \"data-footnote-ref\": true,\n            \"aria-describedby\": \"footnote-label\",\n            children: \"1\"\n          })\n        }), \" \"]\n      }), \" .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/perspective.png\",\n      caption: \"       \"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"     . \", _jsx(_components.strong, {\n        children: \"     \"\n      }), \"    .    \", _jsx(_components.a, {\n        href: \"https://ko.wikipedia.org/wiki/%EC%86%8C%EC%8B%A4%EC%A0%90\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"\"\n      }), \" .      .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/shade.jpeg\",\n      caption: \"      \",\n      width: \"70%\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"      . \", _jsx(_components.strong, {\n        children: \"   ,    \"\n      }), \"  .       .\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\" ASCII  ,    ?    \", _jsx(_components.strong, {\n        children: \"ASCII      \"\n      }), \"  .   .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/pixelate.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"    Pixelate   . ASCII             .    .\"\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/ascii-art.png\",\n      caption: \"    \",\n      width: \"80%\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"            .  \", _jsx(_components.strong, {\n        children: \"               \"\n      }), \"      .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/shade.png\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"        .          .\"\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        boxShadow: '1px 1px 2px 2px rgba(0, 0, 0, 0.1)',\n        borderRadius: 4,\n        padding: 16,\n        width: '80%',\n        margin: '0 auto 8px auto'\n      },\n      children: _jsx(SpinningCube, {})\n    }), \"\\n\", _jsx(\"figcaption\", {\n      children: \"    \"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"            .          \", _jsx(_components.strong, {\n        children: \"\"\n      }), \"   .       .\"]\n    }), \"\\n\", _jsx(_components.h1, {\n      id: \"3d--2d-\",\n      children: _jsx(_components.a, {\n        href: \"#3d--2d-\",\n        children: \"3D  2D \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"    3D     2D .     \", _jsx(_components.strong, {\n        children: \"  3D    2D   \"\n      }), \"  .    \", _jsx(_components.strong, {\n        children: \" \"\n      }), \" .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/rendering-pipeline.png\",\n      caption: \" \"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"   ASCII  3D         .          .       .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"  (Vertex processing)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \" (Rasterization)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Fragment processing)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"   .\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"3D    \", _jsx(_components.strong, {\n        children: \"3D  \"\n      }), \" . 3D   \", _jsx(_components.strong, {\n        children: \" \"\n      }), \"   3  \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">(x, y, z)</code>\"\n        }\n      }), \"  .     3     .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/cartesian-coordinate-system.png\",\n      caption: \" \",\n      width: \"50%\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"   \", _jsx(_components.strong, {\n        children: \"\"\n      }), _jsx(\"sup\", {\n        children: \"Vertex\"\n      }), \"  3D   '' .          .      \", _jsx(_components.strong, {\n        children: \"\"\n      }), _jsx(\"sup\", {\n        children: \"Polygon\"\n      }), \" .    \", _jsx(_components.sup, {\n        children: _jsx(_components.a, {\n          href: \"#user-content-fn-2\",\n          id: \"user-content-fnref-2\",\n          \"data-footnote-ref\": true,\n          \"aria-describedby\": \"footnote-label\",\n          children: \"2\"\n        })\n      }), \"  3    .            .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/low-polygon.jpeg\",\n      caption: \"      /  \"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"      \", _jsx(_components.strong, {\n        children: \" \"\n      }), _jsx(\"sup\", {\n        children: \"Polygon mesh\"\n      }), \" .     3D      . 3D        .       .      \", _jsx(_components.strong, {\n        children: \" \"\n      }), _jsx(\"sup\", {\n        children: \"Vertex processing\"\n      }), \" .\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"               .    \", _jsx(_components.strong, {\n        children: \"3D  2D   \"\n      }), \".        .\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"  (World transform)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (View transform)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Projection transform)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"  \", _jsx(_components.strong, {\n        children: \"\"\n      }), _jsx(\"sup\", {\n        children: \"Matrix\"\n      }), \"  .     .\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"  \", _jsx(_components.strong, {\n        children: \"3D       3D   \"\n      }), \". 3D           ,        .           .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/world-transform.jpeg\",\n      caption: \"     \"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"       .      3    4x4  .    3x3     , ,      4x4   .\", _jsx(_components.sup, {\n        children: _jsx(_components.a, {\n          href: \"#user-content-fn-3\",\n          id: \"user-content-fnref-3\",\n          \"data-footnote-ref\": true,\n          \"aria-describedby\": \"footnote-label\",\n          children: \"3\"\n        })\n      })]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/transform-matrix.png\",\n      caption: \"  44        \",\n      width: \"70%\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\", ,            .  \", _jsx(_components.strong, {\n        children: \"   (14 )       \"\n      }), \".            .\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"            .    \", _jsx(_components.strong, {\n        children: \"     \"\n      }), \"  .                .             .    .          .\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"     .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"  (Eye)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Look)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"   (Up)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       .        .          .       .        .    .\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"        \", _jsx(_components.strong, {\n        children: \"     \"\n      }), \" .        .         .      .\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"        .                \", _jsx(_components.sup, {\n        children: _jsx(_components.a, {\n          href: \"#user-content-fn-4\",\n          id: \"user-content-fnref-4\",\n          \"data-footnote-ref\": true,\n          \"aria-describedby\": \"footnote-label\",\n          children: \"4\"\n        })\n      }), \"  3D     .\"]\n    }), \"\\n\", _jsx(Image, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/perspective-projection.jpeg\",\n      caption: \" \",\n      width: \"60%\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \" (Field of view)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \" (Aspect ratio)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Near plane)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Far plane)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       .       .          .        .\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"         \", _jsx(_components.strong, {\n        children: \" \"\n      }), \"   .   4x4           2D     .     .\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"     3D   2D      .    2D      .\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"\",\n      children: _jsx(_components.a, {\n        href: \"#\",\n        children: \"\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"   3D   2D     \", _jsx(_components.strong, {\n        children: \"2D       \"\n      }), \" .     .\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \" (Clipping)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Perspective division)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Back-face culling)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Viewport transform)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Scan transform)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"    2D       .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"     2D       .       4   4   3  .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"      .       .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"  2D       .     2D   CLI     .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"           .      .\"\n    }), \"\\n\", _jsx(Video, {\n      src: \"/images/2024-03-03-ascii-3d-renderer/rasterize.mp4\",\n      width: \"80%\",\n      caption: \"  \",\n      autoPlay: true,\n      muted: true,\n      loop: true\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"        .      .      .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"  (Lighting calculation)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Texture mapping)\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  (Alpha blending)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \" ASCII                .       .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       .         .       .    .          .\"\n    }), \"\\n\", _jsx(_components.h1, {\n      id: \"\",\n      children: _jsx(_components.a, {\n        href: \"#\",\n        children: \"\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"     ASCII 3D       .  CLI  ASCII       .\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"     .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"   .\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"    CLI            .        .               .    .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"      .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"   .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"3D  .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"   ,  ,   .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  CLI     .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"    .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  ASCII  .\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"        .\"\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Matrix44</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Vector2</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Vector3</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Vector4</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"                 ,  ,       .   .     .\"\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Mesh</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Camera</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token comment\\\">/* ... */</span> <span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"             .\"\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"--\",\n      children: _jsx(_components.a, {\n        href: \"#--\",\n        children: \"  \"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"  3D        .  \", _jsx(_components.a, {\n        href: \"https://en.wikipedia.org/wiki/Wavefront_.obj_file\",\n        rel: \"nofollow noopener noreferrer\",\n        children: \"obj\"\n      }), \"    .\"]\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\"><pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">o Cube\\nv -1.000000 1.000000 1.000000\\nv -1.000000 -1.000000 1.000000\\nv -1.000000 1.000000 -1.000000\\nv -1.000000 -1.000000 -1.000000\\nv 1.000000 1.000000 1.000000\\nv 1.000000 -1.000000 1.000000\\nv 1.000000 1.000000 -1.000000\\nv 1.000000 -1.000000 -1.000000\\nf 5 3 1\\nf 3 8 4\\nf 7 6 8\\nf 2 8 6\\nf 1 4 2\\nf 5 2 6\\nf 5 7 3\\nf 3 7 8\\nf 7 5 6\\nf 2 4 8\\nf 1 3 4\\nf 5 1 2</code></pre></div>\"\n      }\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">obj</code>\"\n        }\n      }), \"      \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">v</code>\"\n        }\n      }), \"   \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">f</code>\"\n        }\n      }), \" Face element      .     .\"]\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Loader</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">static</span> <span class=\\\"token function\\\">loadFromFile</span><span class=\\\"token punctuation\\\">(</span>file<span class=\\\"token operator\\\">:</span> File<span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Promise</span><span class=\\\"token operator\\\">&lt;</span>Polygon<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/* ... */</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">static</span> <span class=\\\"token function\\\">loadFromString</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token builtin\\\">string</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> Polygon<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">parseOBJ</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token function\\\">parseOBJ</span><span class=\\\"token punctuation\\\">(</span>data<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> Polygon<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> lines <span class=\\\"token operator\\\">=</span> data<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\\n\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">const</span> vertices<span class=\\\"token operator\\\">:</span> Vector3<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> polygons<span class=\\\"token operator\\\">:</span> Polygon<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">const</span> line <span class=\\\"token keyword\\\">of</span> lines<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> parts <span class=\\\"token operator\\\">=</span> line<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">trim</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">split</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\" \\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">\\\"v\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        vertices<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>\\n          <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Vector3</span><span class=\\\"token punctuation\\\">(</span>\\n            <span class=\\\"token function\\\">parseFloat</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n            <span class=\\\"token function\\\">parseFloat</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n            <span class=\\\"token function\\\">parseFloat</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">3</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">===</span> <span class=\\\"token string\\\">\\\"f\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        polygons<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">push</span><span class=\\\"token punctuation\\\">(</span>\\n          <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Polygon</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>\\n            vertices<span class=\\\"token punctuation\\\">[</span><span class=\\\"token function\\\">parseInt</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n            vertices<span class=\\\"token punctuation\\\">[</span><span class=\\\"token function\\\">parseInt</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n            vertices<span class=\\\"token punctuation\\\">[</span><span class=\\\"token function\\\">parseInt</span><span class=\\\"token punctuation\\\">(</span>parts<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">3</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token keyword\\\">return</span> polygons<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"  \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">obj</code>\"\n        }\n      }), \"       .    .  whitespace      .         .\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"-\",\n      children: _jsx(_components.a, {\n        href: \"#-\",\n        children: \" \"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"  .        .\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"   .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"3D  .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"   ,  ,   .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  CLI     .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"    .\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"  ASCII  .\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Renderer</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">private</span> el<span class=\\\"token operator\\\">:</span> HTMLElement<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> width<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> height<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> camera<span class=\\\"token operator\\\">:</span> Camera<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> frameBuffer<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> mesh<span class=\\\"token operator\\\">:</span> Mesh<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token function\\\">constructor</span><span class=\\\"token punctuation\\\">(</span>el<span class=\\\"token operator\\\">:</span> HTMLElement<span class=\\\"token punctuation\\\">,</span> width<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">number</span><span class=\\\"token punctuation\\\">,</span> height<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">number</span><span class=\\\"token punctuation\\\">,</span> objString<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">string</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>el <span class=\\\"token operator\\\">=</span> el<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>width <span class=\\\"token operator\\\">=</span> width<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>height <span class=\\\"token operator\\\">=</span> height<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh <span class=\\\"token operator\\\">=</span> Loader<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">loadFromString</span><span class=\\\"token punctuation\\\">(</span>objString<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>camera <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Camera</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">run</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> fps <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">60</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">const</span> interval <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">1000</span> <span class=\\\"token operator\\\">/</span> fps<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> then <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> now<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">let</span> delta<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">const</span> <span class=\\\"token function-variable function\\\">renderFrame</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n      now <span class=\\\"token operator\\\">=</span> Date<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      delta <span class=\\\"token operator\\\">=</span> now <span class=\\\"token operator\\\">-</span> then<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>delta <span class=\\\"token operator\\\">></span> interval<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        then <span class=\\\"token operator\\\">=</span> now <span class=\\\"token operator\\\">-</span> <span class=\\\"token punctuation\\\">(</span>delta <span class=\\\"token operator\\\">%</span> interval<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">+=</span> <span class=\\\"token number\\\">0.01</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">>=</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">3.14</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">-=</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">3.14</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token function\\\">requestAnimationFrame</span><span class=\\\"token punctuation\\\">(</span>renderFrame<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token function\\\">requestAnimationFrame</span><span class=\\\"token punctuation\\\">(</span>renderFrame<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clearFrameBuffer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">process</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">drawFrameBuffer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">clearFrameBuffer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>frameBuffer <span class=\\\"token operator\\\">=</span> <span class=\\\"token builtin\\\">Array</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">from</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> length<span class=\\\"token operator\\\">:</span> height <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span>\\n      <span class=\\\"token builtin\\\">Array</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">from</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span> length<span class=\\\"token operator\\\">:</span> width <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token string\\\">\\\" \\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">process</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> polygons <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh<span class=\\\"token punctuation\\\">.</span>polygons<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">const</span> polygon <span class=\\\"token keyword\\\">of</span> polygons<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">const</span> vertices <span class=\\\"token operator\\\">=</span> polygon<span class=\\\"token punctuation\\\">.</span>vertices<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>vertex<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">let</span> v <span class=\\\"token operator\\\">=</span> vertex<span class=\\\"token punctuation\\\">;</span>\\n        v <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">transform</span><span class=\\\"token punctuation\\\">(</span>v<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        v <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>camera<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">transform</span><span class=\\\"token punctuation\\\">(</span>v<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        v <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>camera<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">project</span><span class=\\\"token punctuation\\\">(</span>v<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">return</span> v<span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rasterize</span><span class=\\\"token punctuation\\\">(</span>vertices<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">rasterize</span><span class=\\\"token punctuation\\\">(</span>vertices<span class=\\\"token operator\\\">:</span> Vector2<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">/* ... */</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">drawFrameBuffer</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">const</span> ascii <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>frameBuffer\\n      <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>row<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> row<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">join</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">join</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"&lt;br />\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>el<span class=\\\"token punctuation\\\">.</span>innerHTML <span class=\\\"token operator\\\">=</span> ascii<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"    \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">run</code>\"\n        }\n      }), \"    . \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">run</code>\"\n        }\n      }), \"  60     .  \", _jsx(_components.span, {\n        dangerouslySetInnerHTML: {\n          __html: \"<code class=\\\"language-text\\\">rasterize</code>\"\n        }\n      }), \"  .\"]\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">rasterize</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token constant\\\">V1</span><span class=\\\"token operator\\\">:</span> Vector3<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token constant\\\">V2</span><span class=\\\"token operator\\\">:</span> Vector3<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token constant\\\">V3</span><span class=\\\"token operator\\\">:</span> Vector3<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> halfWidth <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>width <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> halfHeight <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>height <span class=\\\"token operator\\\">/</span> <span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">const</span> v1 <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Vector2</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token constant\\\">V1</span><span class=\\\"token punctuation\\\">.</span>x <span class=\\\"token operator\\\">*</span> halfWidth <span class=\\\"token operator\\\">+</span> halfWidth<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token constant\\\">V1</span><span class=\\\"token punctuation\\\">.</span>y <span class=\\\"token operator\\\">*</span> halfHeight <span class=\\\"token operator\\\">+</span> halfHeight<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> v2 <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Vector2</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token constant\\\">V2</span><span class=\\\"token punctuation\\\">.</span>x <span class=\\\"token operator\\\">*</span> halfWidth <span class=\\\"token operator\\\">+</span> halfWidth<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token constant\\\">V2</span><span class=\\\"token punctuation\\\">.</span>y <span class=\\\"token operator\\\">*</span> halfHeight <span class=\\\"token operator\\\">+</span> halfHeight<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> v3 <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Vector2</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token constant\\\">V3</span><span class=\\\"token punctuation\\\">.</span>x <span class=\\\"token operator\\\">*</span> halfWidth <span class=\\\"token operator\\\">+</span> halfWidth<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token constant\\\">V3</span><span class=\\\"token punctuation\\\">.</span>y <span class=\\\"token operator\\\">*</span> halfHeight <span class=\\\"token operator\\\">+</span> halfHeight<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">const</span> minX <span class=\\\"token operator\\\">=</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">floor</span><span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span>v1<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span>v2<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">,</span> v3<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> minY <span class=\\\"token operator\\\">=</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">floor</span><span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span>v1<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span>v2<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">,</span> v3<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">const</span> maxX <span class=\\\"token operator\\\">=</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">floor</span><span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>width<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span>v1<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span>v2<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">,</span> v3<span class=\\\"token punctuation\\\">.</span>x<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">const</span> maxY <span class=\\\"token operator\\\">=</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">floor</span><span class=\\\"token punctuation\\\">(</span>Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">min</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>height<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span>v1<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">,</span> Math<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">max</span><span class=\\\"token punctuation\\\">(</span>v2<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">,</span> v3<span class=\\\"token punctuation\\\">.</span>y<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">let</span> i <span class=\\\"token operator\\\">=</span> minY<span class=\\\"token punctuation\\\">;</span> i <span class=\\\"token operator\\\">&lt;</span> maxY<span class=\\\"token punctuation\\\">;</span> i<span class=\\\"token operator\\\">++</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">let</span> j <span class=\\\"token operator\\\">=</span> minX<span class=\\\"token punctuation\\\">;</span> j <span class=\\\"token operator\\\">&lt;</span> maxX<span class=\\\"token punctuation\\\">;</span> j<span class=\\\"token operator\\\">++</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isPointInTriangle</span><span class=\\\"token punctuation\\\">(</span>j<span class=\\\"token punctuation\\\">,</span> i<span class=\\\"token punctuation\\\">,</span> v1<span class=\\\"token punctuation\\\">,</span> v2<span class=\\\"token punctuation\\\">,</span> v3<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>frameBuffer<span class=\\\"token punctuation\\\">[</span>i<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">[</span>j<span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">'#'</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       ASCII    .     3D     .\"\n    }), \"\\n\", _jsx(_components.span, {\n      dangerouslySetInnerHTML: {\n        __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"ts\\\"><pre class=\\\"language-ts\\\"><code class=\\\"language-ts\\\"><span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Renderer</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">private</span> angle<span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token function\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">// ...</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">=</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token comment\\\">// ...</span>\\n\\n  <span class=\\\"token function\\\">render</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">+=</span> <span class=\\\"token number\\\">0.01</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">>=</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">3.14</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle <span class=\\\"token operator\\\">-=</span> <span class=\\\"token number\\\">2</span> <span class=\\\"token operator\\\">*</span> <span class=\\\"token number\\\">3.14</span><span class=\\\"token punctuation\\\">;</span> <span class=\\\"token comment\\\">//    0</span>\\n    <span class=\\\"token comment\\\">// ...</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token function\\\">process</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token comment\\\">//  .</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rotateX</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rotateY</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>mesh<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rotateZ</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>angle<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// ...</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n      }\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"     3D    .     .\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"JavaScript(TypeScript )     .        .\"\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        boxShadow: '1px 1px 2px 2px rgba(0, 0, 0, 0.1)',\n        borderRadius: 4,\n        padding: 16,\n        width: '80%',\n        margin: '0 auto 8px auto'\n      },\n      children: _jsx(ASCII3DRenderer, {})\n    }), \"\\n\", _jsx(\"figcaption\", {\n      children: \"  \"\n    }), \"\\n\", _jsx(_components.h1, {\n      id: \"\",\n      children: _jsx(_components.a, {\n        href: \"#\",\n        children: \"\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"       .               10 .          .           ,           .          .\"\n    }), \"\\n\", \"\\n\", _jsxs(_components.section, {\n      \"data-footnotes\": true,\n      className: \"footnotes\",\n      children: [_jsx(_components.h2, {\n        className: \"sr-only\",\n        id: \"footnote-label\",\n        children: _jsx(_components.a, {\n          href: \"#footnote-label\",\n          children: \"Footnotes\"\n        })\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          id: \"user-content-fn-1\",\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [\"   .        ASCII     . \", _jsx(_components.a, {\n              href: \"#user-content-fnref-1\",\n              \"data-footnote-backref\": true,\n              className: \"data-footnote-backref\",\n              \"aria-label\": \"Back to content\",\n              children: \"\"\n            })]\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          id: \"user-content-fn-2\",\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [\"3D        .      . \", _jsx(_components.a, {\n              href: \"#user-content-fnref-2\",\n              \"data-footnote-backref\": true,\n              className: \"data-footnote-backref\",\n              \"aria-label\": \"Back to content\",\n              children: \"\"\n            })]\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          id: \"user-content-fn-3\",\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [\" \", _jsx(_components.a, {\n              href: \"https://ko.wikipedia.org/wiki/%EB%8F%99%EC%B0%A8%EC%A2%8C%ED%91%9C\",\n              rel: \"nofollow noopener noreferrer\",\n              children: \"\"\n            }), \"  .    3    4   3  , ,       . \", _jsx(_components.a, {\n              href: \"#user-content-fnref-3\",\n              \"data-footnote-backref\": true,\n              className: \"data-footnote-backref\",\n              \"aria-label\": \"Back to content\",\n              children: \"\"\n            })]\n          }), \"\\n\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          id: \"user-content-fn-4\",\n          children: [\"\\n\", _jsxs(_components.p, {\n            children: [\"     UI    . \", _jsx(_components.a, {\n              href: \"#user-content-fnref-4\",\n              \"data-footnote-backref\": true,\n              className: \"data-footnote-backref\",\n              \"aria-label\": \"Back to content\",\n              children: \"\"\n            })]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import React, { useCallback, useState } from 'react';\nimport ReactDOM from 'react-dom';\n\ninterface ImageProps {\n  src: string;\n  caption?: string;\n  width?: number;\n  expandable?: boolean;\n}\n\nconst Image = ({ src, caption, width, expandable }: ImageProps) => {\n  const [isExpanded, toggleExpanded] = useState(false);\n\n  return (\n    <figure>\n      <img\n        src={src}\n        width={width}\n        style={{ cursor: expandable ? 'zoom-in' : 'default' }}\n        onClick={expandable ? () => toggleExpanded(true) : undefined}\n      />\n      {caption && <figcaption dangerouslySetInnerHTML={{ __html: caption }} />}\n      {isExpanded &&\n        ReactDOM.createPortal(\n          <div\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              cursor: 'zoom-out',\n              backgroundColor: 'rgba(0, 0, 0, 0.7)'\n            }}\n            onClick={() => toggleExpanded(false)}\n          >\n            <div\n              style={{\n                borderRadius: 8,\n                maxWidth: 1200,\n                width: '80%',\n                position: 'fixed',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                backgroundColor: 'white'\n              }}\n            >\n              <img src={src} width=\"100%\" />\n            </div>\n          </div>,\n          document.body\n        )}\n    </figure>\n  );\n};\n\nexport default Image;\n"],"names":["_ref","src","caption","width","expandable","autoPlay","controls","muted","loop","isExpanded","toggleExpanded","useState","_jsxs","children","_jsx","style","cursor","onClick","undefined","dangerouslySetInnerHTML","__html","ReactDOM","position","top","left","height","backgroundColor","borderRadius","maxWidth","transform","document","body","A","B","C","cubeWidth","zBuffer","Array","fill","buffer","x","y","z","ooz","xp","yp","idx","calculateForSurface","cubeX","cubeY","cubeZ","ch","i","j","k","Math","sin","cos","calculateY","calculateZ","floor","SpinningCube","_ref$current","_ref$current2","ref","useRef","result","setResult","React","handleId","then","Date","now","animate","elapsed","join","replace","requestAnimationFrame","cancelAnimationFrame","fontFamily","fontSize","current","clientWidth","lineHeight","textAlign","Object","defineProperty","n","t","h","b","enumerable","configurable","writable","value","this","_proto","prototype","add","subtract","multiply","length","sqrt","normalize","r","s","zero","_proto2","rotateX","rotateY","rotateZ","cross","dot","w","e","_proto3","m00","m10","m20","m30","m01","m11","m21","m31","m02","m12","m22","m32","m03","m13","m23","m33","o","m","a","c","l","d","p","F","u","f","M","identity","_proto4","scale","translate","setIdentity","R","vertices","I","eye","look","up","rotation","viewMatrix","_proto5","calculateViewMatrix","calculatePerspectiveMatrix","tan","g","loadFromFile","Promise","FileReader","onload","target","parseOBJ","Error","readAsText","loadFromString","split","trim","filter","push","parseFloat","parseInt","S","rotate","_proto6","setTranslate","setScale","setRotateX","setRotateY","setRotateZ","Y","el","frameBuffer","map","depthBuffer","camera","world","angle","_proto7","async","mesh","run","render","clearFrameBuffer","process","drawFrameBuffer","forEach","transformVertex","max","rasterize","min","isPointInTriangle","Shade","round","innerHTML","ASCII3DRenderer","useEffect","renderer","Renderer","_createMdxContent","props","_components","assign","strong","span","h1","sup","ul","li","h2","h3","ol","section","_provideComponents","components","_Fragment","href","rel","Image","id","boxShadow","padding","margin","Video","className","wrapper","MDXLayout"],"sourceRoot":""}