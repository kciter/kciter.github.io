---
title: "IoC와 DI를 이용한 Spring 멀티 모듈 아키텍처"
categories: dev
tags: [Spring, 아키텍처]
image: /images/2022-11-21-spring-multi-module-architecture/thumbnail.png
comments: true
draft: true
---

import Image from '@components/Image';

아키텍처란 개발자들에게 영원히 흥미로운 주제다. 대게 완벽한 아키텍처가 나온다면 무엇이든 만들 수 있는 은총알이 될 수 있지 않을까?라는 생각을 하다가 어느정도 고연차가 되면 **은총알은 없다**로 그 마음을 접게 된다. 하지만 미련을 버리지 못한 개발자에게 아키텍처는 영원한 과제이자 로망이된다.

물론 훌륭한 아키텍처는 개발자와 소프트웨어 품질에 많은 도움을 준다. 이것을 아는 개발자는 훌륭한 아키텍처를 만들기 위해 노력하지만 때때로 너무 과하게 고민할 때가 많다. 그러다보면 가끔 개발자끼리 아키텍처에 대해 논의하며 싸울 때도 많다.

사실, 중요한 일이지만 싸울만한 일은 아니다. 아키텍처로 갑론을박하는 것은 서로의 목적을 이해하지 못한 상태로 논의했기 때문이다.

나는 아키텍처란 그저 `우리가 일을 하는 방법`이라고 생각한다. 방법에는 규칙과 제약이 포함되어 있다. 일을 하는 방법은 매우 중요하지만 그것이 우선시 되어서는 안된다. 다시 `일을 하는 방법`이란 말에 대해 생각해보자. 일은 그냥 하면 되는데 왜 방법을 만드는 걸까?

답은 `목표를 효과적으로 이루기 위해`서다. 그래서 우리는 `목표`를 정하고 그에 맞춰 방법을 정한다. 아직 감이 안온다면 예시를 들어보자.

> WIP

소프트웨어도 마찬가지다. 회사의 규모, 고객의 요구사항, 환경 등에 따라 목표가 달라지고 그에 맞춰 아키텍처는 달라진다.

이제 막 시작한 스타트업을 생각해보자. 스타트업은 빠르게 제품을 개발하여 시장에 진입하고 테스트하고 싶을 것이다. 그래서 스타트업은 `빠르게 개발`하는 것이 목표가 될 것이다. 그러면 MVP를 빠르게 달성할 수 있는 아키텍처를 선택할 것이다. Ruby on Rails나 Nest.js와 같이 Scaffolding이 가능한 프레임워크와 모놀리스 아키텍처를 선택하는 이유는 그 때문이다.

반면 어느정도 제품이 안정적으로 돌아가는 회사라면 `안정성`과 `유지보수`가 목표가 될 것이다. 그러면 문제가 발생했을 때 빠르게 솔루션을 찾을 수 있고 유지보수 인력을 채용하기 쉬운 아키텍처를 선택할 것이다. 그래서 Spring과 같은 프레임워크를 선택하는 이유도 그 때문이다. 그리고 Microservice 아키텍처처럼 여러 팀이 각각 서비스에 대한 책임을 가질 수 있도록 아키텍처를 구성하는 것도 그 때문이다.

규모가 아닌 다른 예시를 들어보자. 만약 게임 서버를 작성한다면 성능이 매우 중요할 것이다.

그래서 아키텍처는 회사마다, 프로젝트마다, 팀마다 다르다. 그리고 그것이 옳다. 그리고 아키텍처는 언제든지 바뀌는 것이라고 생각하는 것이 마음이 편하다.

서론이 길었다. 지금부터 포스팅에서 설명할 아키텍처의 목표는 확장가능성과 독립성이다.

# Gradle 멀티 모듈

# 의존성 역전(IoC)이란?