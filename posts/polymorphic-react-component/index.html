<!DOCTYPE html><html lang="ko"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="color-scheme" content="light"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="alternate" type="application/rss+xml" title="kciter.so" href="/feed.xml"><title>Polymorphic한 React 컴포넌트 만들기 | kciter.so</title><meta name="description" content="들어가기에 앞서 Polymorphism은 한국어로 다형성이라고 부르는데, 여러 개의 형태를 가진다라는 의미를 가진 그리스어에서 유래된 단어다. 그럼 이 글의 제목에 포함된 Polymorphic은 다형의 혹은 다양한 형태의 등으로 표현할 수 있을…"><meta name="author" content="Lee Sun-Hyoup"><!-- Open Graph --><meta property="og:title" content="Polymorphic한 React 컴포넌트 만들기 | kciter.so"><meta property="og:description" content="들어가기에 앞서 Polymorphism은 한국어로 다형성이라고 부르는데, 여러 개의 형태를 가진다라는 의미를 가진 그리스어에서 유래된 단어다. 그럼 이 글의 제목에 포함된 Polymorphic은 다형의 혹은 다양한 형태의 등으로 표현할 수 있을…"><meta property="og:type" content="website"><meta property="og:site_name" content="kciter.so"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png"><meta property="og:url" content="https://kciter.so/posts/polymorphic-react-component/"><link rel="canonical" href="https://kciter.so/posts/polymorphic-react-component/"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="Sunhyoup Lee"><meta name="twitter:title" content="Polymorphic한 React 컴포넌트 만들기 | kciter.so"><meta name="twitter:description" content="들어가기에 앞서 Polymorphism은 한국어로 다형성이라고 부르는데, 여러 개의 형태를 가진다라는 의미를 가진 그리스어에서 유래된 단어다. 그럼 이 글의 제목에 포함된 Polymorphic은 다형의 혹은 다양한 형태의 등으로 표현할 수 있을…"><meta name="twitter:image" content="https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png"><!-- Additional meta from props --><meta name="article:published_time" content="2022-08-16T00:00:00+09:00"><meta name="image" content="https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png"><meta property="og:image" content="https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png"><meta property="og:image:secure_url" content="https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=PT+Sans:wght@400&family=Source+Code+Pro&family=Quattrocento+Sans&display=swap"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8K7EBEDX"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-7M8K7EBEDX');
    </script> <script type="application/ld+json">{"headline":"Polymorphic한 React 컴포넌트 만들기","dateModified":"2022-08-16T00:00:00+09:00","datePublished":"2022-08-16T00:00:00+09:00","image":"https://kciter.so/images/2022-08-16-polymorphic-react-component/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kciter.so/posts/polymorphic-react-component/"},"author":{"@type":"Person","name":"Lee Sun-Hyoup"},"description":"들어가기에 앞서 Polymorphism은 한국어로 다형성이라고 부르는데, 여러 개의 형태를 가진다라는 의미를 가진 그리스어에서 유래된 단어다. 그럼 이 글의 제목에 포함된 Polymorphic은 다형의 혹은 다양한 형태의 등으로 표현할 수 있을…","url":"https://kciter.so/posts/polymorphic-react-component/","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="stylesheet" href="/_astro/_slug_.CNFATi3L.css">
<style>.name-gradient[data-astro-cid-k7qsseos]{background:linear-gradient(to right,#191335,#191335 33.33333%,#00ab6c 66.66666%,#00cb8c);background-clip:text;-webkit-text-fill-color:transparent;transition:all .3s ease;background-size:300% 100%;background-position:top left}.name-gradient[data-astro-cid-k7qsseos]:hover{background-position:top left 100%}@media(max-width:30rem){.sponsors[data-astro-cid-4kgnabjz] a:not(:first-of-type){margin-left:-16px}}.related-post[data-astro-cid-llggujpl]{position:relative;transform:scaleZ(1)}.related-post[data-astro-cid-llggujpl]:after{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px;transform:scale(1.06);transition:opacity 2s cubic-bezier(.165,.84,.44,1);box-shadow:0 8px 17px #0003,0 6px 20px #00000026;content:"";opacity:0;z-index:-1}.related-post[data-astro-cid-llggujpl]:hover{transform:scale3d(1.006,1.006,1)}.related-post[data-astro-cid-llggujpl]:hover:after{opacity:1}
</style></head> <body> <div class="mx-auto w-[715px] pt-4 max-md:w-[90vw]"> <div class="relative z-10 mb-10 -mx-4 rounded-xl bg-white/40 px-4 py-2.5 font-['Quattrocento_Sans',sans-serif] backdrop-blur-[44px] max-md:-mx-4 max-md:-mt-4 max-md:mb-8 max-md:rounded-none max-md:bg-transparent max-md:backdrop-blur-none" data-astro-cid-3ef6ksr2> <div class="mt-2 w-full" data-astro-cid-3ef6ksr2> <a href="/" class="site-title text-[32px] font-black" style="line-height: 1.15; text-decoration: none; margin-right: 5px;" data-astro-cid-3ef6ksr2>kciter.so</a> <small class="text-[#999]" data-astro-cid-3ef6ksr2>devlog</small> </div> <nav class="flex w-full justify-between pt-2" data-astro-cid-3ef6ksr2> <div class="flex items-center" data-astro-cid-3ef6ksr2> <a href="/timeline/" class="menu-item updated" data-astro-cid-3ef6ksr2>
Timeline
</a> <div class="dropdown" data-astro-cid-3ef6ksr2> <span class="menu-item dropdown-trigger" id="posts-trigger" data-astro-cid-3ef6ksr2>
Posts <span class="chevron" data-astro-cid-3ef6ksr2>&#9662;</span> </span> <div class="dropdown-menu" data-astro-cid-3ef6ksr2> <a href="/articles/" class="dropdown-item" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="dropdown-item" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="dropdown-item" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <a href="https://kciter.so/talks/" class="menu-item" data-astro-cid-3ef6ksr2>Talks</a> <a href="/about/" class="menu-item" data-astro-cid-3ef6ksr2>About</a> </div> <div class="flex items-center gap-3" data-astro-cid-3ef6ksr2> <button id="search-btn" class="search-btn" aria-label="Search" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> </button> <div class="max-md:hidden" data-astro-cid-3ef6ksr2> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </nav> <!-- Mobile sub-tab (hidden by default) --> <div class="mobile-tabs" id="mobile-tabs" data-astro-cid-3ef6ksr2> <a href="/articles/" class="mobile-tab" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="mobile-tab" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="mobile-tab" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <!-- Search Modal --> <div id="search-modal" class="search-modal" data-astro-cid-3ef6ksr2> <div class="search-backdrop" data-astro-cid-3ef6ksr2></div> <div class="search-container" data-astro-cid-3ef6ksr2> <div class="search-input-wrap" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> <input id="search-input" type="text" placeholder="Search posts..." autocomplete="off" data-astro-cid-3ef6ksr2> <kbd class="search-kbd" data-astro-cid-3ef6ksr2>ESC</kbd> </div> <div id="search-results" class="search-results" data-astro-cid-3ef6ksr2></div> </div> </div>  <script type="module">const o=document.getElementById("posts-trigger"),l=document.getElementById("mobile-tabs");if(o&&l){const e=o.querySelector(".chevron");o.addEventListener("click",t=>{window.innerWidth<=768&&(t.preventDefault(),l.classList.toggle("open"),e?.classList.toggle("open"))});const i=window.location.pathname;l.querySelectorAll(".mobile-tab").forEach(t=>{i.startsWith(t.getAttribute("href")||"")&&t.classList.add("active")})}let s=null;async function m(){if(s)return s;try{s=await import(new URL("/pagefind/pagefind.js",window.location.origin).href),await s.init()}catch{console.warn("Pagefind not available (run build first)")}return s}const c=document.getElementById("search-modal"),r=document.getElementById("search-input"),a=document.getElementById("search-results"),p=document.getElementById("search-btn"),v=c.querySelector(".search-backdrop");function f(){c.classList.add("open"),r.value="",a.innerHTML="",setTimeout(()=>r.focus(),50),m()}function d(){c.classList.remove("open")}p.addEventListener("click",f);v.addEventListener("click",d);document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),c.classList.contains("open")?d():f()),e.key==="Escape"&&d()});let u;r.addEventListener("input",()=>{clearTimeout(u),u=setTimeout(()=>g(r.value),200)});async function g(e){if(!e.trim()){a.innerHTML="";return}const i=await m();if(!i){a.innerHTML='<div class="search-no-results">Search is not available in dev mode.</div>';return}const t=await i.search(e);if(t.results.length===0){a.innerHTML='<div class="search-no-results">No results found.</div>';return}const h=await Promise.all(t.results.slice(0,10).map(n=>n.data()));a.innerHTML=h.map(n=>`
        <a href="${n.url}" class="search-result-item">
          <div class="search-result-title">${n.meta?.title||n.url}</div>
          <div class="search-result-excerpt">${n.excerpt}</div>
        </a>
      `).join("")}</script> <div class="post-container">   <h1 class="post-title">Polymorphic한 React 컴포넌트 만들기</h1> <span class="post-date">Written on August 16, 2022</span> <img src="/images/2022-08-16-polymorphic-react-component/thumbnail.png" alt="Polymorphic한 React 컴포넌트 만들기" style="width: 100%;"><div class="toc" data-margin-top="50"><ul class="toc-list"><li><a href="#문제-인식하기">문제 인식하기</a></li><li><a href="#javascript에서-구현하기">JavaScript에서 구현하기</a></li><li><a href="#typescript에서-구현하기">TypeScript에서 구현하기</a><ul class="toc-list"><li><a href="#요소와-속성-표현하기">요소와 속성 표현하기</a></li><li><a href="#ref-받아오기">ref 받아오기</a></li><li><a href="#범용성-있게-사용하기">범용성 있게 사용하기</a></li></ul></li><li><a href="#마치며">마치며</a><ul class="toc-list"><li><a href="#footnote-label">Footnotes</a></li></ul></li></ul></div><div class="mt-2 box-border w-full rounded-lg bg-[#f8f9fa] p-4"> <div class="mb-2 text-xl font-bold">리액트 컴포넌트 시리즈</div> <ul style="margin: 0; padding: 0; padding-left: 24px;"> <li style="color: #00a962;"> <a href="/posts/polymorphic-react-component/" style="text-decoration: none; color: #333; font-weight: bold;"> Polymorphic한 React 컴포넌트 만들기 </a> </li><li style> <a href="/posts/render-delegation-react-component/" style="text-decoration: none; color: #333;"> Render Delegation하는 React 컴포넌트 만들기 </a> </li> </ul> </div><div class="post-content" data-pagefind-body>  <p>들어가기에 앞서 <strong>Polymorphism</strong>은 한국어로 다형성이라고 부르는데, <code>여러 개의 형태를 가진다</code>라는 의미를 가진 그리스어에서 유래된 단어다. 그럼 이 글의 제목에 포함된 <strong>Polymorphic</strong>은 <code>다형의</code> 혹은 <code>다양한 형태의</code> 등으로 표현할 수 있을 것이다. 컴퓨터 과학에서 다형성은 프로그래밍적인 요소가 여러 형태로 표현 될 수 있는 것을 의미하는데 보통은 객체가 여러 자료형으로 나타날 수 있음을 표현할 때 사용한다.</p>
<p>그럼 Polymorphic한 UI 컴포넌트는 <code>다양한 형태의 UI 컴포넌트</code>라고 바꿔 말할 수 있을 것이다. 필자는 이 말이 다음과 같은 내용을 담고 있다고 생각한다.</p>
<ul>
<li>다양한 Semantic을 표현할 수 있는 UI 컴포넌트</li>
<li>다양한 속성을 가질 수 있는 UI 컴포넌트</li>
<li>다양한 스타일을 가질 수 있는 UI 컴포넌트</li>
</ul>
<p>좀 더 풀어서 설명하자면 웹 프론트엔드에서의 Polymorphic 컴포넌트는 코드에 따라 어떠한 요소(Element)도 될 수 있고 그에 따른 속성(Attribute)도 사용할 수 있다. 즉, 상황에 맞는 Semantic을 사용할 수 있고 앵커 태그처럼 특수한 용도로 사용되는 컴포넌트가 될 수도 있다. 결국 <strong>無의 형태</strong>에서 <strong>무엇이든지 될 수 있는 컴포넌트</strong>가 되는 것이 Polymorphic 컴포넌트고 가장 추상화된 형태의 컴포넌트라고 볼 수 있다.</p>
<figure><img src="/images/2022-08-16-polymorphic-react-component/step.png" alt="최종적으로 사용자에게 보이는 컴포넌트는 이러한 구현 과정을 거친다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>최종적으로 사용자에게 보이는 컴포넌트는 이러한 구현 과정을 거친다</figcaption></figure>
<p>그래서 Polymorphic 컴포넌트는 React와 관련된 UIKit을 뜯어보면 높은 확률로 사용되고 있는 패턴이다. 예를 들면, MUI의 <a href="https://mui.com/material-ui/react-box/" rel="noopener noreferrer" target="_blank">Box</a> 컴포넌트나 Mantine의 <a href="https://mantine.dev/core/box/" rel="noopener noreferrer" target="_blank">Box</a> 컴포넌트를 예시로 들 수 있다. 두 UI 라이브러리는 Box라는 Polymorphic한 컴포넌트를 이용하여 재사용성을 높이고 다양한 컴포넌트를 확장성 있게 구현하고 있다. 굉장히 유용한 컴포넌트기 때문에 필자가 재직 중인 회사에서 만들고 사용하는 <a href="https://github.com/cobaltinc/co-design" rel="noopener noreferrer" target="_blank">디자인 시스템</a>에도 View 컴포넌트를 구현하여 비슷하게 사용하고 있다.</p>
<p>아쉽게도 Polymorphic 컴포넌트와 관련된 자료는 한국어로 작성된 자료가 거의 없고 영문으로도 구체적인 설명한 자료는 찾기 힘들어 이번 기회에 관련된 내용을 포스팅 해보기로 했다.</p>
<h1 id="문제-인식하기"><a href="#문제-인식하기">문제 인식하기</a></h1>
<p>실제 사례를 보지 않는다면 이 컴포넌트가 왜 필요한지 모를 수 있다. 다음 코드를 살펴보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Button.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> Button</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ({ </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">button</span><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#6F42C1">      style</span><span style="color:#D73A49">=</span><span style="color:#24292E">{{ backgroundColor: </span><span style="color:#032F62">&#39;black&#39;</span><span style="color:#24292E">, color: </span><span style="color:#032F62">&#39;white&#39;</span><span style="color:#24292E"> }} </span></span>
<span class="line"><span style="color:#24292E">      {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} </span></span>
<span class="line"><span style="color:#24292E">    /&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * App.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { Button } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./Button&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">Button</span><span style="color:#6F42C1"> onClick</span><span style="color:#D73A49">=</span><span style="color:#24292E">{() </span><span style="color:#D73A49">=&gt;</span><span style="color:#6F42C1"> alert</span><span style="color:#24292E">(</span><span style="color:#032F62">&#39;Good!&#39;</span><span style="color:#24292E">)}&gt;Click Me!&lt;/</span><span style="color:#005CC5">Button</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>설명이 필요 없을 정도로 간단한 코드다. 단순하게 표현했지만 위 코드처럼 스타일만 적용한 컴포넌트는 실제로도 많이 사용된다. Button 컴포넌트는 prop으로 넘기는 값을 button 태그의 속성으로 전부 넘기기 때문에 꽤 확장성 있게 사용할 수 있는 컴포넌트라고 생각할 수 있다. 그런데 만약 버튼에 페이지 링크를 추가하고 싶다면 어떻게 해야 할까?</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { Button } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./Button&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#22863A">a</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">        &lt;</span><span style="color:#005CC5">Button</span><span style="color:#24292E">&gt;Click Me!&lt;/</span><span style="color:#005CC5">Button</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;/</span><span style="color:#22863A">a</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>위 처럼 작성할 수도 있겠지만 재사용성 측면에선 그다지 좋은 방법은 아니다. 추후 재사용을 고려하여 새로운 컴포넌트를 만들 수도 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Button.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> Button</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ({ </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">button</span><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#6F42C1">      style</span><span style="color:#D73A49">=</span><span style="color:#24292E">{{ backgroundColor: </span><span style="color:#032F62">&#39;black&#39;</span><span style="color:#24292E">, color: </span><span style="color:#032F62">&#39;white&#39;</span><span style="color:#24292E"> }} </span></span>
<span class="line"><span style="color:#24292E">      {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} </span></span>
<span class="line"><span style="color:#24292E">    /&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * LinkButton.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { Button } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./Button&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> LinkButton</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ({ </span><span style="color:#E36209">href</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">a</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#24292E">{href}&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">Button</span><span style="color:#24292E"> {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">a</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * App.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { LinkButton } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./LinkButton&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">LinkButton</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;Click Me!&lt;/</span><span style="color:#005CC5">LinkButton</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>위와 같이 작성할 수도 있지만 이 경우 a 태그가 확장되지 않는다는 문제점이 있고 컴포넌트의 의존 관계가 새롭게 추가된다는 문제점이 있다. 그리고 만약 react-router나 Next.js를 사용하여 SPA를 위한 Link 컴포넌트를 사용한다면 또 새로운 컴포넌트를 만들어줄 수 밖에 없다. 이 문제의 해결법으로 Polymorphic 컴포넌트를 사용할 수 있다.</p>
<h1 id="javascript에서-구현하기"><a href="#javascript에서-구현하기">JavaScript에서 구현하기</a></h1>
<p>사실 JavaScript에선 Type-safe에 자유롭기 때문에 Polymorphic 컴포넌트를 구현하는 것이 어렵지 않다. 이런 부분은 JavaScript 약점이지만 한편으로는 구현의 편리함으로서 강점이 될 수도 있다. 다음과 같이 아주 간단하게 Polymorphic한 컴포넌트를 만들 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> View</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> forwardRef</span><span style="color:#24292E">(({ </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }, </span><span style="color:#E36209">ref</span><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#6F42C1"> ref</span><span style="color:#D73A49">=</span><span style="color:#24292E">{ref} {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">});</span></span></code></pre>
<p>여기서 구현한 View 컴포넌트는 React에서 가장 추상적인 컴포넌트다. <code>as</code>를 통해 기본 내장된 컴포넌트를 포함하여 어떠한 컴포넌트로도 될 수 있다. 만약 생략한다면 기본적으로 <code>div</code>를 사용하게 된다. 이때, 필요한 속성이 있다면 자유롭게 넘길 수 있도록 컴포넌트를 작성하고 <code>forwardRef</code>를 통해 부모 컴포넌트에서 요소에 접근할 수 있도록 만들었다. 이 컴포넌트는 다음과 같이 사용할 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { View } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./View&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">View</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;a&quot;</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;Click Me!&lt;/</span><span style="color:#005CC5">View</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>코드를 살펴보면 <code>as</code>를 통해 View 컴포넌트에 사용되는 요소를 a 태그로 변경하고 <code>href</code> 속성을 사용한 것을 볼 수 있다. 그럼 이 코드를 실행하면 <a href="https://kciter.so" rel="noopener noreferrer" target="_blank">Click Me!</a>라는 링크가 보이게 된다. 사실 이렇게만 사용하면 왜 사용하는지 이해가 안가는 것이 당연하다. 그냥 바로 a 태그를 쓰면 되니 번거롭게 컴포넌트를 만들 필요가 없기 때문이다. 그렇지만 위 코드를 응용하여 다음과 같이 사용하는 것도 가능하다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="jsx"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Button.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> View </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./View&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> Button</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ({ </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#6A737D">    // 위에서 만들어둔 View 컴포넌트를 이용했다.</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#005CC5">View</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#24292E">{</span><span style="color:#D73A49">as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &#39;button&#39;</span><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#6F42C1">      style</span><span style="color:#D73A49">=</span><span style="color:#24292E">{{ backgroundColor: </span><span style="color:#032F62">&#39;black&#39;</span><span style="color:#24292E">, color: </span><span style="color:#032F62">&#39;white&#39;</span><span style="color:#24292E"> }} </span></span>
<span class="line"><span style="color:#24292E">      {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} </span></span>
<span class="line"><span style="color:#24292E">    /&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 혹은 다음과 같이 작성할 수 있다.</span></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> Button</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ({ </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &#39;button&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#005CC5">Element</span></span>
<span class="line"><span style="color:#6F42C1">      style</span><span style="color:#D73A49">=</span><span style="color:#24292E">{{ backgroundColor: </span><span style="color:#032F62">&#39;black&#39;</span><span style="color:#24292E">, color: </span><span style="color:#032F62">&#39;white&#39;</span><span style="color:#24292E"> }} </span></span>
<span class="line"><span style="color:#24292E">      {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} </span></span>
<span class="line"><span style="color:#24292E">    /&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * App.jsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { Button } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &#39;./Button&#39;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      // 마치 앵커 태그처럼 사용할 수 있다.</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">Button</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;a&quot;</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;Click Me!&lt;/</span><span style="color:#005CC5">Button</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#22863A">div</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>다시 <a href="#%EB%AC%B8%EC%A0%9C-%EC%9D%B8%EC%8B%9D%ED%95%98%EA%B8%B0">문제 인식하기</a> 부분을 살펴보면 이때는 <code>LinkButton</code>이라는 컴포넌트를 만드는 것으로 요구사항을 충족했었다. 만약 위 코드처럼 Polymorphic 하도록 컴포넌트를 작성한다면 중복 코드를 제거하고 조금 더 유연하게 컴포넌트를 사용할 수 있게 된다. 생각보다 이런 사례가 많고 구현이 간단하기 때문에 좋은 컴포넌트 설계라고 볼 수 있다.</p>
<h1 id="typescript에서-구현하기"><a href="#typescript에서-구현하기">TypeScript에서 구현하기</a></h1>
<p>JavaScript를 쓸 때 아쉬운 점은 IntelliSense<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref aria-describedby="footnote-label">1</a></sup>를 사용할 수 없다는 점이다. 어느 정도 자동 완성을 해주긴 하지만 TypeScript의 강력함에 비하면 좀 아쉽다. 위 코드도 <code>as</code>를 통해 다른 요소를 사용하도록 변경했지만 어떤 속성을 넘길 수 있을지는 개발자가 잘 판단하여야 한다. 혹은 개발자가 오타를 내어 잘못된 값을 <code>as</code>로 전달할 수도 있다. 이런 문제점은 TypeScript를 통해 Type-safe한 Polymorphic 컴포넌트를 구현하면 해결할 수 있다.</p>
<h2 id="요소와-속성-표현하기"><a href="#요소와-속성-표현하기">요소와 속성 표현하기</a></h2>
<p>JavaScript에서 사용한 코드와 똑같이 사용할 수 있도록 만들면서 자동 완성 기능까지 사용하려면 타입 정의가 필요하다. 우선 다음 코드를 확인해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * View.tsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> View</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">&gt;({</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  ...</span><span style="color:#E36209">props</span></span>
<span class="line"><span style="color:#24292E">}</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#24292E"> {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * App.tsx</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> { View } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./components/View&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#6A737D">    // 컴포넌트 부분에 에러가 발생한다.</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#005CC5">View</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;a&quot;</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      Link</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#005CC5">View</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> default</span><span style="color:#24292E"> App;</span></span></code></pre>
<p><code>React.ElementType</code>은 JSX 내장 컴포넌트 또는 사용자 정의 컴포넌트를 둘 다 받을 수 있는 타입으로 <code>string | React.ComponentType&lt;any&gt;</code>로 정의되어있다. 이 타입과 제네릭을 사용하면 위 JavaScript 코드에서 했던 것처럼 <code>as</code>를 통해 사용하려는 요소를 바꿀 수 있게 된다.</p>
<p>하지만 위와 같이 View 컴포넌트를 작성하면 <code>as</code>를 통해 사용하려한 요소가 어떤 것인지 알 수가 없다. 따라서 다음과 같은 에러가 발생하게 된다.</p>
<figure><img src="/images/2022-08-16-polymorphic-react-component/error-message-1.png" alt="" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/></figure>
<p>에러 메시지를 살펴보면 prop으로 넘긴 값들이 타입에 맞지 않는다는 것을 알 수 있다. 이를 위해 다음과 같이 View 컴포넌트를 수정할 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">} </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithoutRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#6F42C1"> View</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">&gt;({</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  ...</span><span style="color:#E36209">props</span></span>
<span class="line"><span style="color:#24292E">}</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#24292E"> {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p><code>React.ComponentPropsWithoutRef</code>은 <code>ref</code>를 제외한 나머지 속성을 정의할 수 있게 해주는 타입이다. 이 타입을 이용하면 제네릭을 통해 나머지 속성에 대한 것을 알 수 있게 된다. 하지만 아직 <code>ref</code>는 받아올 수 없다.</p>
<h2 id="ref-받아오기"><a href="#ref-받아오기">ref 받아오기</a></h2>
<p>여기까지는 이해하는 것이 어렵지는 않았을 것이다. 코드 양이 많은 것도 아니기 때문에 생각보다 쉽게 구현할 수 있다. 그렇지만 <code>ref</code>까지 사용하게 된다면 조금 복잡해진다. 일단 다음 코드를 살펴보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">} </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithoutRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> View</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> forwardRef</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">  &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">&gt;(</span></span>
<span class="line"><span style="color:#24292E">    { </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;,</span></span>
<span class="line"><span style="color:#E36209">    ref</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;[</span><span style="color:#032F62">&quot;ref&quot;</span><span style="color:#24292E">] </span><span style="color:#6A737D">// ref만 받아오도록</span></span>
<span class="line"><span style="color:#24292E">  ) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#6F42C1"> ref</span><span style="color:#D73A49">=</span><span style="color:#24292E">{ref} {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre>
<p>만약 위에와 같이 이미 제공되는 <code>React.ComponentPropsWithRef</code> 타입을 사용하면 쉽게 해결됐다고 생각할 수 있겠지만 다음과 같이 <code>unknown</code>으로 타입을 알 수 없다는 것을 알 수 있다. 이러면 제대로된 타입이 아니어도 에러가 발생하지 않는다.</p>
<figure><img src="/images/2022-08-16-polymorphic-react-component/ref-unknown-type.png" alt="잘못된 타입인 ref가 들어갔음에도 에러가 발생하지 않는다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>잘못된 타입인 ref가 들어갔음에도 에러가 발생하지 않는다</figcaption></figure>
<p>이런 일이 발생한 이유는 아직 <code>forwardRef</code>에 대한 타입이 모호하기 때문이다. 제대로 정의된 것 처럼 보이지만 제네릭은 함수 파라메터에만 적용되었을 뿐 함수 자체엔 적용되지 않았다. 따라서 <code>forwardRef</code>에 대한 제네릭 타입 정의가 필요하다. 타입 정의를 위해 <code>forwardRef</code> 함수가 어떻게 정의되었는지 확인해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> forwardRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">, </span><span style="color:#6F42C1">P</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {}&gt;(</span><span style="color:#E36209">render</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ForwardRefRenderFunction</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">, </span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt;)</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ForwardRefExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">PropsWithoutRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> RefAttributes</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> ForwardRefExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">extends</span><span style="color:#6F42C1"> NamedExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#E36209">  defaultProps</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> Partial</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">|</span><span style="color:#005CC5"> undefined</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#E36209">  propTypes</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> WeakValidationMap</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">|</span><span style="color:#005CC5"> undefined</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> NamedExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {}&gt; </span><span style="color:#D73A49">extends</span><span style="color:#6F42C1"> ExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#E36209">  displayName</span><span style="color:#D73A49">?:</span><span style="color:#005CC5"> string</span><span style="color:#D73A49"> |</span><span style="color:#005CC5"> undefined</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> ExoticComponent</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">P</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {}&gt; {</span></span>
<span class="line"><span style="color:#24292E">  (</span><span style="color:#E36209">props</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> P</span><span style="color:#24292E">)</span><span style="color:#D73A49">:</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">ReactElement</span><span style="color:#D73A49">|</span><span style="color:#005CC5">null</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">  readonly</span><span style="color:#E36209"> $$typeof</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> symbol</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>여기서 <code>forwardRef</code> 함수의 반환 타입을 살펴보면 <code>ForwardRefExoticComponent&lt;PropsWithoutRef&lt;P&gt; &amp; RefAttributes&lt;T&gt;&gt;</code>으로 되어있다. <code>ForwardRefExoticComponent</code>는 최종적으로 <code>ExoticComponent</code> 인터페이스를 상속받는데 내용을 살펴보면 결국 함수 컴포넌트의 형태가 되는 것을 알 수 있다.</p>
<p>따라서 <code>PropsWithoutRef&lt;P&gt; &amp; RefAttributes&lt;T&gt;</code>를 View 컴포넌트의 타입으로 만들어주면 된다. <code>RefAttributes</code>는 다음과 같이 정의되어 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> RefAttributes</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">extends</span><span style="color:#6F42C1"> Attributes</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  ref</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> Ref</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">|</span><span style="color:#005CC5"> undefined</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p><code>ComponentPropsWithRef</code>에는 이미 <code>RefAttributes</code>이 결합되어 있기 때문에 다음과 같이 선언하여 View 컴포넌트를 완성할 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">} </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithoutRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ViewComponent</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> &lt;</span><span style="color:#6F42C1">C</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">&gt;(</span></span>
<span class="line"><span style="color:#E36209">  props</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">C</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">&amp;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">    ref</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">C</span><span style="color:#24292E">&gt;[</span><span style="color:#032F62">&quot;ref&quot;</span><span style="color:#24292E">];</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ReactElement</span><span style="color:#D73A49"> |</span><span style="color:#005CC5"> null</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> View</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewComponent</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> forwardRef</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">  &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">&gt;(</span></span>
<span class="line"><span style="color:#24292E">    { </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> ViewProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;,</span></span>
<span class="line"><span style="color:#E36209">    ref</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;[</span><span style="color:#032F62">&quot;ref&quot;</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">  ) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;div&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#6F42C1"> ref</span><span style="color:#D73A49">=</span><span style="color:#24292E">{ref} {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre>
<p>위 코드를 반영하고나서 다시 App 컴포넌트를 확인하면 ref의 타입을 <code>HTMLDivElement</code>로 사용하여 컴포넌트 타입과 일치하지 않기 때문에 에러가 발생하는 것을 확인할 수 있다.</p>
<figure><img src="/images/2022-08-16-polymorphic-react-component/error-message-2.png" alt="잘못된 ref가 들어가 에러가 발생한다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>잘못된 ref가 들어가 에러가 발생한다</figcaption></figure>
<p>이제 <code>useRef</code>의 제네릭 타입을 <code>HTMLAnchorElement</code>로 변경해주면 정상적으로 실행되는 것을 볼 수 있다.</p>
<h2 id="범용성-있게-사용하기"><a href="#범용성-있게-사용하기">범용성 있게 사용하기</a></h2>
<p>여기까지 왔으면 대체로 복잡한 내용은 끝난 셈이다. 지금까지는 View 컴포넌트만을 위하여 타입을 정의했는데 타입을 한 단계 더 추상화하여 조금 더 범용적으로 쓸 수 있게 만들어보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="ts"><code><span class="line"><span style="color:#6A737D">// 기존 작성한 ViewProps에서 as를 분리한다.</span></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> AsProp</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  as</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> T</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 직관적인 이름을 붙여서 타입으로 만들어준다.</span></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> PolymorphicRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span></span>
<span class="line"><span style="color:#6F42C1">  React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;[</span><span style="color:#032F62">&quot;ref&quot;</span><span style="color:#24292E">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 결합 타입을 만든다.</span></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> PolymorphicComponentProps</span><span style="color:#24292E">&lt;</span></span>
<span class="line"><span style="color:#6F42C1">  T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#6F42C1">  Props</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {}</span></span>
<span class="line"><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> AsProp</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ComponentPropsWithoutRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">&amp;</span><span style="color:#6F42C1"> Props</span><span style="color:#D73A49"> &amp;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  ref</span><span style="color:#D73A49">?:</span><span style="color:#6F42C1"> PolymorphicRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p>기존 <code>ViewProps</code> 타입을 분해하고 <code>PolymorphicComponentProps</code>라는 제네릭 타입을 만들어서 필요한 속성을 추가할 수 있도록 만들었다. 이렇게 만든 타입을 통해 새로운 컴포넌트를 만들어보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> _TextProps</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#E36209">  size</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> number</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#E36209">  color</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> TextProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#24292E">&gt; </span><span style="color:#D73A49">=</span><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#6F42C1">  PolymorphicComponentProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">, </span><span style="color:#6F42C1">_TextProps</span><span style="color:#24292E">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> TextComponent</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;span&quot;</span><span style="color:#24292E">&gt;(</span></span>
<span class="line"><span style="color:#E36209">  props</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> TextProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">) </span><span style="color:#D73A49">=&gt;</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ReactElement</span><span style="color:#D73A49"> |</span><span style="color:#005CC5"> null</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> Text</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> TextComponent</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> forwardRef</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">  &lt;</span><span style="color:#6F42C1">T</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> React</span><span style="color:#24292E">.</span><span style="color:#6F42C1">ElementType</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;span&quot;</span><span style="color:#24292E">&gt;(</span></span>
<span class="line"><span style="color:#24292E">    { </span><span style="color:#E36209">as</span><span style="color:#24292E">, </span><span style="color:#E36209">size</span><span style="color:#24292E">, </span><span style="color:#E36209">color</span><span style="color:#24292E">, </span><span style="color:#D73A49">...</span><span style="color:#E36209">props</span><span style="color:#24292E"> }</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> TextProps</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;,</span></span>
<span class="line"><span style="color:#E36209">    ref</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> PolymorphicRef</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">T</span><span style="color:#24292E">&gt;[</span><span style="color:#032F62">&quot;ref&quot;</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">  ) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    const</span><span style="color:#005CC5"> Element</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> as</span><span style="color:#D73A49"> ||</span><span style="color:#032F62"> &quot;span&quot;</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#6A737D">    // size와 color를 style로 적용</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> &lt;</span><span style="color:#005CC5">Element</span><span style="color:#6F42C1"> ref</span><span style="color:#D73A49">=</span><span style="color:#24292E">{ref} {</span><span style="color:#D73A49">...</span><span style="color:#24292E">props} </span><span style="color:#6F42C1">style</span><span style="color:#D73A49">=</span><span style="color:#24292E">{{ fontSize: size, color }} /&gt;;</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre>
<p><code>PolymorphicComponentProps</code>를 통해 속성 확장 가능한 Polymorphic 컴포넌트를 아주 쉽게 만들어냈다. 여기서는 <code>size</code>와 <code>color</code>를 새롭게 추가했다. 다음과 같이 사용할 수 있다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#D73A49">const</span><span style="color:#6F42C1"> App</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> () </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  return</span><span style="color:#24292E"> (</span></span>
<span class="line"><span style="color:#24292E">    &lt;</span><span style="color:#005CC5">View</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">View</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;a&quot;</span><span style="color:#6F42C1"> href</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;https://kciter.so&quot;</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">        Link</span></span>
<span class="line"><span style="color:#24292E">      &lt;/</span><span style="color:#005CC5">View</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">      &lt;</span><span style="color:#005CC5">Text</span><span style="color:#6F42C1"> as</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;div&quot;</span><span style="color:#6F42C1"> color</span><span style="color:#D73A49">=</span><span style="color:#032F62">&quot;red&quot;</span><span style="color:#6F42C1"> size</span><span style="color:#D73A49">=</span><span style="color:#24292E">{</span><span style="color:#005CC5">50</span><span style="color:#24292E">}&gt;</span></span>
<span class="line"><span style="color:#24292E">        Text</span></span>
<span class="line"><span style="color:#24292E">      &lt;/</span><span style="color:#005CC5">Text</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">    &lt;/</span><span style="color:#005CC5">View</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  );</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre>
<p>결과 화면을 살펴보면 다음과 같이 제대로 적용된 것을 확인할 수 있다.</p>
<figure><img src="/images/2022-08-16-polymorphic-react-component/result.png" alt="업데이트가 거슬리는 분께는 심심한 사과를 드린다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>업데이트가 거슬리는 분께는 심심한 사과를 드린다</figcaption></figure>
<h1 id="마치며"><a href="#마치며">마치며</a></h1>
<p>이렇게 꽤 다양한 곳에서 활용 가능한 Polymorphic 컴포넌트를 구현할 수 있다. 이런 컴포넌트를 만드는 패턴은 요즘 유행하는 UI 라이브러리에선 대부분 사용하고 있기 때문에 알아두면 도움이 될 것이다. 이 포스팅을 통해 만들어진 최종적인 코드는 <a href="https://github.com/kciter/polymorphic-react-component-sample" rel="noopener noreferrer" target="_blank">GitHub 저장소</a>에서 확인할 수 있다.</p>
<p>아직 글 서두에서 소개한 MUI의 <a href="https://mui.com/material-ui/react-box/" rel="noopener noreferrer" target="_blank">Box</a> 컴포넌트나 Mantine의 <a href="https://mantine.dev/core/box/" rel="noopener noreferrer" target="_blank">Box</a> 컴포넌트처럼 <strong>스타일 확장 가능한 컴포넌트</strong>까지는 다루지 못했다. 원래 이 부분까지 다루는 것이 필자의 목표였으나 너무 길어져서 완성하는데 오래걸릴 것 같아 쓰지 못했지만 빠른 시일 내에 추가로 글을 작성할 예정이다.</p>
<section data-footnotes class="footnotes"><h2 class="sr-only" id="footnote-label"><a href="#footnote-label">Footnotes</a></h2>
<ol>
<li id="user-content-fn-1">
<p>Visual Studio 계열 IDE에서 제공하는 자동 완성 기능 <a href="#user-content-fnref-1" data-footnote-backref aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </div> <div> <div class="mt-1 w-full"> <div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> react </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> ui </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> component </div><div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> frontend </div> </div> <div class="flex items-center py-6" data-astro-cid-k7qsseos> <div class="shrink-0 basis-[80px]" data-astro-cid-k7qsseos> <img class="h-[80px] w-[80px] object-cover" style="border-radius: 50%;" src="/images/about/avatar.jpg" data-astro-cid-k7qsseos> </div> <div class="ml-8 flex-1 text-base" data-astro-cid-k7qsseos> <div data-astro-cid-k7qsseos>
Written by <a href="/about/" class="name-gradient font-bold no-underline" data-astro-cid-k7qsseos>
@kciter
</a> </div> <div class="text-sm font-light leading-snug" data-astro-cid-k7qsseos>가치있는 지식이 되기를 바랍니다</div> <div class="-ml-1 [&_a]:text-sm [&_a]:text-[#888]" data-astro-cid-k7qsseos> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </div>  <div class="mb-2" data-astro-cid-4kgnabjz><div class="my-2 text-[1.3em] font-bold text-[#454f5b]" data-astro-cid-4kgnabjz>
이 글을 후원해주신 고마운 분들
</div><div class="flex" data-astro-cid-4kgnabjz><div class="sponsors flex flex-1" data-astro-cid-4kgnabjz><a href="https://github.com/ibcylon" target="_blank" class="mr-1" style="text-decoration: none;" data-astro-cid-4kgnabjz><img src="https://avatars.githubusercontent.com/u/25360781?u=2c87bc8941f9dfe019e027cb22712e124f88a709&v=4" alt="ibcylon" class="relative h-9 w-9 overflow-hidden" style="border-radius: 50%;" data-astro-cid-4kgnabjz></a><a href="https://github.com/18-12847" target="_blank" class="mr-1" style="text-decoration: none;" data-astro-cid-4kgnabjz><img src="https://avatars.githubusercontent.com/u/118495919?u=f2b649c2058f423f96879c91dd5115c90fdc3354&v=4" alt="18-12847" class="relative h-9 w-9 overflow-hidden" style="border-radius: 50%;" data-astro-cid-4kgnabjz></a><a href="https://github.com/honux77" target="_blank" class="mr-1" style="text-decoration: none;" data-astro-cid-4kgnabjz><img src="https://avatars.githubusercontent.com/u/2168702?u=52a017f8024e27c8c3b749e7daab81e1be6da93d&v=4" alt="honux77" class="relative h-9 w-9 overflow-hidden" style="border-radius: 50%;" data-astro-cid-4kgnabjz></a><a href="https://github.com/Jeewhan" target="_blank" class="mr-1" style="text-decoration: none;" data-astro-cid-4kgnabjz><img src="https://avatars.githubusercontent.com/u/14256139?u=59386eab9b64e21b89c4c587e92c969217a9c417&v=4" alt="Jeewhan" class="relative h-9 w-9 overflow-hidden" style="border-radius: 50%;" data-astro-cid-4kgnabjz></a></div><a href="https://github.com/sponsors/kciter" target="_blank" class="flex h-8 w-[120px] cursor-pointer items-center justify-center rounded-[7px] border border-[#e1e4e8] bg-[#fafbfc] text-sm transition-all hover:bg-[#f0f3f6]" style="text-decoration: none;" data-astro-cid-4kgnabjz><svg height="14" viewBox="0 0 16 16" version="1.1" width="14" class="mr-1 fill-red-500" data-astro-cid-4kgnabjz><path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z" data-astro-cid-4kgnabjz></path></svg><span data-astro-cid-4kgnabjz>Sponsor</span></a></div></div> <div id="comments"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="liNcb" prefix="r11" component-url="/_astro/Giscus.BCCeZi7E.js" component-export="default" renderer-url="/_astro/client.C9fCgUO1.js" props="{&quot;repo&quot;:[0,&quot;kciter/kciter.github.io&quot;],&quot;theme&quot;:[0,&quot;light&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Giscus&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island> </div> </div> <div class="pt-8 pb-8" data-astro-cid-llggujpl> <div class="grid grid-cols-3 gap-5 max-[30rem]:grid-cols-1" data-astro-cid-llggujpl> <a href="/posts/developers-learning-and-growth/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2023-12-24-developers-learning-and-growth/thumbnail.png" alt="개발자의 학습과 성장" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>개발자의 학습과 성장</div> <small data-astro-cid-llggujpl>2023-12-24</small> </a><a href="/posts/using-kotlin-script/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2025-01-19-using-kotlin-script/thumbnail.png" alt="Kotlin Script 활용하기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>Kotlin Script 활용하기</div> <small data-astro-cid-llggujpl>2025-01-19</small> </a><a href="/posts/music-recognition-system/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-10-27-music-recognition-system/thumbnail.png" alt="음악 검색 시스템 만들기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>음악 검색 시스템 만들기</div> <small data-astro-cid-llggujpl>2024-10-27</small> </a><a href="/posts/type-driven-development/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-01-21-type-driven-development/thumbnail.png" alt="Type-Driven Development" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>Type-Driven Development</div> <small data-astro-cid-llggujpl>2024-01-21</small> </a><a href="/posts/encrypted-vault-system/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-04-14-encrypted-vault-system/thumbnail.png" alt="비밀 관리를 위한 금고 시스템 만들기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>비밀 관리를 위한 금고 시스템 만들기</div> <small data-astro-cid-llggujpl>2024-04-14</small> </a><a href="/posts/multi-paradigm-programming-book/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2025-04-25-multi-paradigm-programming-book/thumbnail.png" alt="멀티패러다임 프로그래밍과 리스트 프로세싱" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>멀티패러다임 프로그래밍과 리스트 프로세싱</div> <small data-astro-cid-llggujpl>2025-04-25</small> </a> </div> </div>  </div> <footer class="m-8 text-center text-[#999]"> <div> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> <div class="mt-4 mb-4 font-['Quattrocento_Sans',sans-serif] text-[0.8rem] text-[#9a9a9a]"> <a href="/about/" class="p-2.5 text-[#999] hover:text-[#333]" style="text-decoration: none;">
kciter.so | devlog by Sunhyoup Lee
</a> </div> </footer> </div> </body></html> <script type="module">document.querySelectorAll(".post-container a[data-footnote-ref]").forEach(o=>{const e=o.getAttribute("href")?.slice(1);if(!e)return;const r=document.getElementById(e);if(!r)return;const t=r.textContent?.replace("↩","").trim()||"";o.setAttribute("data-tooltip",t)});document.querySelectorAll(".code-tabs").forEach(o=>{const e=Array.from(o.querySelectorAll(":scope > pre"));if(e.length<2)return;const r=o.getAttribute("data-labels")?.split(",").map(a=>a.trim()),t=document.createElement("div");t.className="code-tabs-bar",e.forEach((a,s)=>{const n=r?.[s]||a.getAttribute("data-language")||"code",c=document.createElement("button");c.textContent=n,r?.[s]&&c.classList.add("has-filename"),s===0&&c.classList.add("active"),c.addEventListener("click",()=>{t.querySelectorAll("button").forEach(l=>l.classList.remove("active")),e.forEach(l=>l.classList.remove("active")),c.classList.add("active"),e[s].classList.add("active")}),t.appendChild(c)}),e[0].classList.add("active"),o.prepend(t)});const i=document.querySelectorAll(".toc .toc-list a");if(i.length>0){const e=Array.from(i).map(t=>t.getAttribute("href")?.slice(1)).filter(Boolean).map(t=>document.getElementById(t)).filter(Boolean),r=new IntersectionObserver(t=>{for(const a of t)if(a.isIntersecting){const s=a.target.id;i.forEach(n=>{n.classList.toggle("active",n.getAttribute("href")===`#${s}`)})}},{rootMargin:"0px 0px -70% 0px",threshold:0});e.forEach(t=>r.observe(t))}</script>