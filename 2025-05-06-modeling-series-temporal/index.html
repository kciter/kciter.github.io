<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.4"/><meta name="theme-color" content="#ffffff"/><style data-href="/styles.2c8dcdcc73805e7a8bfa.css" data-identity="gatsby-global-css">.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;text-align:right;-webkit-user-select:none;user-select:none}.command-line-prompt>span:before{opacity:.7}.command-line-prompt>span[data-continuation-prompt]:before{content:attr(data-continuation-prompt)}.command-line span.token.output{opacity:.7}code[class*=language-],pre[class*=language-]{color:#5c6e74;direction:ltr;font-family:Source Code Pro,monospace;font-size:13px;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:none;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-]::mozselection,code[class*=language-]::selection,pre[class*=language-]::mozselection,pre[class*=language-]::selection{background:#b3d4fc;text-shadow:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{background:#fff;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-]{background:#f9f2f4;border-radius:3px;color:#db4c69;padding:.25em .5em;position:relative;top:-1px;white-space:normal}.namespace{opacity:.7}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#999}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[data-line]{position:relative}pre[class*=language-]>code[class*=language-]{position:relative;z-index:1}.line-highlight{background:#f7efda;box-shadow:inset 5px 0 0 #87d8ff;left:0;line-height:inherit;margin-top:1em;padding-bottom:inherit;padding-left:0;padding-right:0;padding-top:inherit;pointer-events:none;position:absolute;right:0;white-space:pre;z-index:0}.command-line-prompt>span:before{color:#999;content:" ";display:block;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}.gatsby-highlight pre{float:left;min-width:100%}.gatsby-highlight{background-color:#fff;border-radius:.3em;box-shadow:0 5px 20px rgba(0,0,0,.12);margin:32px auto;overflow:auto;padding:1em}.gatsby-highlight pre[class*=language-]{background-color:transparent;float:left;margin:0;min-width:100%;overflow:initial;padding:0}.gatsby-highlight-code-line{background:#fffbdd;border-left:.25em solid #87d8ff;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}h1{border-bottom:1px solid #eee;font-size:2rem;padding-bottom:12px}h1 a{text-decoration:none}h2{border-bottom:1px solid #eee;font-size:1.6em;padding-bottom:8px}h3{font-size:1.3em}h3,h4{margin:8px 0}h4{font-size:1.2em}h1,h2,h3,h4,h5,h6{color:#454f5b;margin-top:48px}h1 a,h2 a,h3 a,h4 a,h5 a,h6 a{color:#454f5b!important;text-decoration:none}a{color:#454f5b;text-decoration:underline}img,video{border-radius:5px;height:auto;max-width:100%}blockquote{background-color:#eee;border-left:.25em solid #ccc;color:#454f5b;line-height:1.5;margin:10px 0;padding:8px 16px}hr{border-top:1px solid #ccc}.thumbnail-container{border-radius:8px;box-shadow:0 0 10px 2px rgba(0,0,0,.05);margin-bottom:25px;max-width:100%}.thumbnail-container a,.thumbnail-container img{display:block;object-fit:cover;width:100%}.post-container{line-height:1.75rem;position:relative}.post-content a{color:#5c6ac4;text-decoration:none}.post-content a:hover{text-decoration:underline}.post-content a.footnote-ref,.post-content a[data-footnote-ref]{color:#ff6f00}.post-content>p:first-letter{margin-left:.3em}.post-content ul{word-break:break-all}@media (max-width:30em){.post-content ul{list-style-position:outside;padding-left:24px}.post-content li>ul{list-style-position:outside;padding-left:12px}}sup{font-weight:400;position:relative;top:-.5em;vertical-align:top}.post-title{border:none;line-height:1.2;margin:0;padding:0}.post-date{color:#9a9a9a;display:block;font-family:Quattrocento Sans,sans-serif;font-size:.8rem;margin-bottom:1rem;margin-top:3px}@media (max-width:30rem){.posts>h1{font-size:1.5rem}}figure{margin:24px 40px;text-align:center}@media (max-width:30em){figure{margin:24px 0}}figcaption{color:#637381;font-size:12px;text-align:center}.footnotes{border-top:1px solid #eee;font-size:12px;margin-top:48px}.footnotes ol{line-height:16px;padding-left:16px}.footnotes ol li{margin-top:8px;padding-left:4px}.footnotes ol p{margin:0}.footnotes ol li::marker{color:#ff6f00}.footnotes ol li .footnote-backref{margin-left:5px}table{border-collapse:collapse;margin-bottom:30px;width:100%}table,td,th{border:1px solid #888}td,th{padding:8px;text-align:left}.sharing-icons a{padding-right:10px}.fa-envelope{padding:5px;transition:.5s}.fa-envelope:hover{color:#f39c12}.fa-twitter{padding:5px;transition:color .5s}.fa-twitter:hover{color:#00aced}.fa-instagram{padding:5px;transition:color .5s}.fa-instagram:hover{color:#375989}.fa-github{padding:5px;transition:color .5s}.fa-github:hover{color:#343434}.fa-linkedin{padding:5px;transition:color .5s}.fa-linkedin:hover{color:#0073a4}.fa-facebook{padding:5px;transition:color .5s}.fa-facebook:hover{color:#3d5b99}.fa-google-plus{padding:5px;transition:color .5s}.fa-google-plus:hover{color:#e64a41}.fa-pinterest{padding:5px;transition:color .5s}.fa-pinterest:hover{color:#bd081c}.fa-medium{padding:5px;transition:color .5s}.fa-medium:hover{color:#00ab6c}.fa-codepen{padding:5px;transition:color .5s}.fa-codepen:hover{color:#000}.fa-rss-square{padding:5px;transition:color .5s}.fa-rss-square:hover{color:#f60}.fa-user{padding:5px;transition:color .5s}.fa-user:hover{color:#00a962}[data-tooltip]{position:relative}[data-tooltip]:after{background-color:#212b36;border-left:6px solid #ff6f00;border-radius:2px;box-shadow:1px 2px 6px rgba(0,0,0,.3);color:#fff;content:attr(data-tooltip);display:none;font-size:12px;height:auto;left:10px;line-height:16px;max-width:400px;padding:8px 10px;pointer-events:none;position:absolute;top:0;width:-webkit-max-content;width:max-content;z-index:1000}[data-tooltip]:focus:after,[data-tooltip]:hover:after{display:block}@media (max-width:30em){[data-tooltip]:focus:after,[data-tooltip]:hover:after{display:none}}.member-container{display:flex;padding:24px 0}.member-container .avatar{flex:0 1 160px}.avatar img{border-radius:50%;width:100%}.member-container .summary{flex:1 1;margin-left:32px}.member-container{display:block}.member-container .avatar{display:block;margin:0 auto;max-width:300px;width:50%}.member-container .summary{font-size:12px;margin-left:0;text-align:center}.member-container .summary .name{font-size:28px;font-weight:100;margin-top:18px}.member-container .summary .description{font-weight:100;margin-top:8px}.tiny-header{color:#212b36;font-size:16px;font-weight:700}.gatsby-highlight{padding:0;width:95%}.gatsby-highlight pre[class*=language-]{box-sizing:border-box;padding:16px}@media (max-width:30em){.gatsby-highlight{width:100%}}</style><link rel="icon" href="/favicon-32x32.png?v=8d8fa298b67e447760210d9e8b28e447" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=8d8fa298b67e447760210d9e8b28e447"/><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="dns-prefetch" href="https://www.googletagmanager.com"/><link rel="alternate" type="application/rss+xml" title="kciter.so" href="/feed.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><h1 id="들어가며"><a href="#들어가며">들어가며</a></h1>
<p>비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 &#x27;특정한 시간에 무언가를 한다&#x27;라는 중요한 계약로서 작용한다.</p>
<p>예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은 비즈니스 흐름은 모두 일종의 계약이라 할 수 있다. 이러한 계약에서 문제가 발생할 경우 사용자는 큰 실망을 하게되며 이는 손실로 이어질 수 있다.</p>
<p>따라서 소프트웨어 개발에서 시간은 조심해서 다루어야 하는 요소라고 할 수 있다. 이번 글에서는 시간을 소프트웨어 관점에서 어떻게 바라보아야 하는지, 어떻게 모델링할 수 있는지에 대해 알아볼 것이다.</p>
<h1 id="시간이란-무엇인가"><a href="#시간이란-무엇인가">시간이란 무엇인가?</a></h1>
<p>시간은 이미 추상화된 개념이다. 따라서 시간을 물리적 측정값으로서 바라볼 수도 있고 역사적, 문화적 관점에서 바라보는 등 다양한 관점에서 바라볼 수 있다. 보통 우리가 시간을 이야기할 때는 다음과 같은 관점을 고려한다.</p>
<ul>
<li><strong>물리량</strong>
<ul>
<li>시간은 물리학 관점에서 봤을 때 시각과 시각 사이의 간격을 표현하는 단위를 뜻한다.</li>
<li>ex) 지금 이 순간(Instant)은 빅뱅(Epoch) 이후 시간이 얼마나 흘렀는가?</li>
</ul>
</li>
<li><strong>위치</strong>
<ul>
<li>시간은 위치에 따라 다르게 표현될 수 있다.</li>
<li>ex) 경도 0도(UTC)가 정오일 때 동경 135도의 시각은? (경도상 위치)</li>
<li>ex) 런던이 정오일 때 프랑스의 시각은? (국가, 지역)</li>
</ul>
</li>
<li><strong>천문 현상</strong>
<ul>
<li>지구자전속도의 불규칙성, 지구의 자전주기와 공전주기 등 천문 현상으로 인해 시간은 보정이 필요하다.</li>
<li>ex) 윤초, 윤달, 윤년</li>
</ul>
</li>
<li><strong>문화</strong>
<ul>
<li>문화에 따라 시간 표현이 다를 수 있다.</li>
<li>ex) 태양력, 태음력, 이슬람력, 에티오피아력 등</li>
</ul>
</li>
<li><strong>역사</strong>
<ul>
<li>역사적 사건에 의해 시간은 다르게 표현될 수 있다.</li>
<li>ex) 1582년 10월 4일의 다음 날은?</li>
</ul>
</li>
<li><strong>사회</strong>
<ul>
<li>사회적 제도에 의해 시간은 변할 수 있다.</li>
<li>ex) 일광 시간 절약제(Summer Time)</li>
</ul>
</li>
</ul>
<p>우리는 꽤 많은 조건을 고려하여 시간을 표현한다. 현실 세계에선 서로 같은 맥락을 공유하기 때문에 의사소통에 문제가 없지만 소프트웨어 세계에선 규칙을 제공해야 한다.</p>
<p>물리량과 위치, 천문 현상을 수학식으로 계산하는 것이 가능하지만 역사적 사건이나 사회적 제도는 규칙이 존재하지 않기에 단순히 수학식으로 시간을 계산할 수 없다. 예를 들어, 1582년 10월 4일의 다음 날은 1582년 10월 15일이다. 이는 역사적 사건에 의해 결정된 것이며, 단순히 수학식으로 계산할 수 없다. 또한, 일광 시간 절약제와 같은 사회적 제도는 각 국가나 지역에 따라 다르게 적용되기 때문에 이를 고려해야 한다. 게다가 문화에 따라 시간을 표현하는 방법이 다를 수 있다는 점도 골치아프다.</p>
<p>그렇기에 통일된 시간 표기법을 위한 <a href="https://ko.wikipedia.org/wiki/%ED%98%91%EC%A0%95_%EC%84%B8%EA%B3%84%EC%8B%9C" rel="nofollow noopener noreferrer">협정 세계시</a>가 탄생했다. UTC는 <a href="https://ko.wikipedia.org/wiki/%EA%B5%AD%EC%A0%9C%EC%9B%90%EC%9E%90%EC%8B%9C" rel="nofollow noopener noreferrer">원자 시계</a>와 윤초 보정을 기반으로 표준화한 시각으로 모든 시간대는 UTC+0을 기준으로 환산한다. 예를 들어, 대한민 국의 시간은 UTC 시간에 +9를 더한 시간으로 영국 시간이 오전 1시라면 대한민국은 오전 10시<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>가 된다. UTC는 <a href="https://ko.wikipedia.org/wiki/ISO_8601" rel="nofollow noopener noreferrer">ISO 8601</a>을 따라 다음과 같은 표기법을 따른다.</p>
<span><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">// UTC+0 기준 2021년 3월 20일 9시
2021-03-20T09:00:00.000Z

// UTC+9 (한국 시간) 기준 2021년 3월 20일 9시
2021-03-20T09:00:00.000+09:00</code></pre></div></span>
<p>가운데 <span><code class="language-text">T</code></span>는 Time을 뜻하고 시간 뒤 <span><code class="language-text">Z</code></span>는 Zulu time<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup> 을 뜻한다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/utc.png" width="100%" style="cursor:default"/><figcaption>국가마다 시간대가 다르다</figcaption></figure>
<p>참고로 국가, 지역마다 경도상 시간과 국가 시간이 다를 수 있다. 아이슬란드의 경우 경도상 위치는 UTC-1이지만 UTC+0을 사용하고 있다.</p>
<h1 id="측도와-무엇이-다른가"><a href="#측도와-무엇이-다른가">측도와 무엇이 다른가?</a></h1>
<p>이전 글에서 우리는 측도 개념을 통해 여러 물리적 수량을 모델링하는 방법을 알아보았다. 단순히 년, 월, 일과 같은 것을 표현한다면 시간을 측도 모델을 통해서 표현할 수 있지만, 시간은 단순한 측도와는 다른 특성을 갖고 있다. 따라서 시간 모델링은 일반적인 측도 모델링과는 다른 접근이 필요하다.</p>
<ol>
<li>시간은 선형적인 변환이 불가능한 단위가 있다. 대부분의 측도는 단위 간 변환이 일정한 비율로  이루어진다. 예를 들어 1kg = 1000g, 1m = 100cm와 같이 명확한 변환 관계가 있다. 하지만 시간에서는 &#x27;월&#x27;과 같은 단위는 28일, 29일, 30일, 31일 등 상황에 따라 다른 길이를 갖는다.</li>
<li>시간은 다양한 캘린더 시스템과 타임존의 개념이 존재한다. 그레고리안 달력, 음력, 이슬람력 등 다양한 달력 시스템이 있으며, 각 지역별로 서로 다른 타임존이 적용된다. 이는 시간 계산을 복잡하게 만드는 요소다.</li>
<li>시간은 단순한 수량이 아닌 &#x27;시점&#x27;이라는 특별한 개념을 갖고 있다. &quot;2023년 5월 1일 오전 10시&quot;와 같은 시점은 단순한 측정값이 아니라, 시간의 흐름 속 특정 위치를 나타낸다.</li>
</ol>
<p>이러한 특성들 때문에 시간은 일반적인 측도 모델링으로는 부족하며, 더 정교한 모델링이 필요하다. 따라서 이번 글에서는 시간을 여러 관점에서 살펴보고, 각 관점에 맞는 모델링 방법을 알아볼 것이다.</p>
<h1 id="시간을-어떤-기준으로-사용해야-하는가"><a href="#시간을-어떤-기준으로-사용해야-하는가">시간을 어떤 기준으로 사용해야 하는가?</a></h1>
<p>많은 개발자가 크게 신경쓰지 않지만 시간은 소프트웨어에서 조심히 다뤄야하는 요소다. 시간은 비즈니스에서 중요한 역할을 하며, 시간에 따라 비즈니스의 흐름이 달라질 수 있다. 예를 들어, 주식 거래소는 시세가 변동하는 시간에 따라 거래가 이루어지기 때문에 시간을 정확히 기록해야 한다. 또한, 사용자가 상품을 결제할 때도 시간을 정확히 기록해야 한다. 이러한 이유로 시간은 매우 중요한 요소다.</p>
<p>이러한 시간은 사용 사례에 따라 다르게 사용해야 한다. 예를 들어, 사용자가 상품을 결제할 때는 사용자의 시간대를 고려해야 하지만, 로그를 기록할 때는 UTC를 사용하는 것이 좋다. 이러한 이유로 시간은 사용 사례에 따라 다르게 사용해야 한다.</p>
<h2 id="순수한-시간"><a href="#순수한-시간">순수한 시간</a></h2>
<p>필자의 생일은 1월 26일이다. 갑자기 생일 이야기를 한 것은 순수한 시간을 설명하기에 적합하기 때문이다. 보다시피 보통 생일은 시간대를 고려하지 않고 말한다. 만약 필자가 <strong>&quot;내가 한국에서 1월 26일에 태어났지만 미국 시간으로 따지면 1월 25일에 태어났으니 미국 생일은 1월 25일이야&quot;</strong>라고 말하고 다닌다면 정말 이상한 사람이라고 생각할 것이다.</p>
<p>이처럼 시간대와 지역, 문화, 사회를 고려하지 않고 순수한 시간과 날짜를 사용해야하는 경우가 있다. 좀 더 예를 들어보자면 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>생일</li>
<li>기업 설립일</li>
<li>기념일</li>
<li>국경일</li>
</ul>
<p>혹은 기록을 위해 시간을 사용하지 않는 경우에도 순수한 시간을 사용할 때가 있다. 보통 벤치마킹을 하기 위해 시간을 사용하거나 유니크한 값을 만들어내기 위해 사용하기도 한다. 혹은 랜덤 값 SEED 용도로 사용될 수도 있다.</p>
<h2 id="utc"><a href="#utc">UTC</a></h2>
<p>역사, 사회, 문화에 대한 맥락 없이 <strong>&#x27;사건이 발생한 시각&#x27;</strong>만을 고려할 땐 UTC를 사용하여 시간을 기록하는 것이 좋다. 가장 대표적인 예시로 <strong>로깅</strong>을 들 수 있다. 로그는 분산되어 저장될 수 있기에 발생한 순서를 쉽게 알기 위해선 UTC처럼 기준이 되는 시간대를 정하는 것이 좋다. 만약 로그가 기록된 시간에 타임존이 적용되어 발생한 곳 마다 다르게 시간이 적용된다면 큰 혼란이 생길 수 있다. 마찬가지로 자주 사용하는 <span><code class="language-text">createdAt</code></span>, <span><code class="language-text">updatedAt</code></span>도 UTC로 기록하는 것이 좋다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/stock-chart.png" width="100%" style="cursor:default"/><figcaption>주식 차트는 대표적인 시계열 데이터다</figcaption></figure>
<p>또 다른 사용 예시로 시계열 데이터를 들 수 있다. 시계열 데이터의 경우 시간에 종속된 연속적인 데이터를 말하는데 UTC처럼 시간대가 정해진 상태로 기록된게 아니라면 언제 저장된 시간인지 알 수 없어 잘못된 분석으로 이어질 수 있다. 추가로 UTC는 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>로그</li>
<li>감사</li>
<li>시계열 데이터</li>
<li><span><code class="language-text">createdAt</code></span>, <span><code class="language-text">updatedAt</code></span></li>
</ul>
<h2 id="time-zone이-적용된-시간"><a href="#time-zone이-적용된-시간">Time Zone이 적용된 시간</a></h2>
<p>반면 사용자가 이용한 시각을 정확히 알기위해 Time Zone을 사용해야 할 떄도 있다. 예를 들면, 사용자가 상품을 결제했을 때 UTC 시간만 기록했다면 사용자가 정확히 몇시 몇분 몇초에 주문했는지 알 수가 없다. 이때 정확한 시각을 알기 위해선 데이터베이스에 Zone Id도 함께 기록해야 한다. 또한, UI에 표시되는 시간을 사용자 기준으로 보여주기 위해서도 Time Zone은 필요하다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/facebook.png" width="100%" style="cursor:default"/></figure>
<p>예를 들어, 같은 페이스북 게시물을 보더라도 사는 나라가 다르다면 작성한 시간이 다를 수 있다. 필자가 3월 15일 오후 12시 31분에 작성한 게시물은 영국 사람이 보기엔 새벽 3시 31분에 작성한 것으로 보일 것이고 하와이에 사는 사람이 보기엔 3월 14일 오후 5시 31분에 작성한 것으로 보일 것이다.</p>
<p>그렇기 때문에 글로벌 서비스를 준비한다면 사용자  혹은 사용자가 포함되는 그룹 데이터에 Zone Id 정보를 추가해야 한다. 추가로 Time Zone이 적용된 시간은 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>결제 시각</li>
<li>푸시 알림 시각</li>
<li>UI 시각 표시</li>
<li>캘린더</li>
</ul>
<p>UI에 내려주는 JSON 데이터 예시는 다음과 같다.</p>
<span><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string-property property">"userId"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"이선협"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"zoneId"</span><span class="token operator">:</span> <span class="token string">"Asia/Seoul"</span><span class="token punctuation">,</span> <span class="token comment">// Time Zone을 위한 Zone Id</span>
  <span class="token string-property property">"birthdate"</span><span class="token operator">:</span> <span class="token string">"1994-01-26"</span><span class="token punctuation">,</span> <span class="token comment">// 순수한 시간</span>
  <span class="token string-property property">"createdAt"</span><span class="token operator">:</span> <span class="token string">"2021-03-20T04:59:25Z"</span><span class="token punctuation">,</span> <span class="token comment">// 기준 시간 UTC</span>
  <span class="token string-property property">"updatedAt"</span><span class="token operator">:</span> <span class="token string">"2021-03-20T05:12:38Z"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"posts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"postId"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string-property property">"publishedAt"</span><span class="token operator">:</span> <span class="token string">"2021-03-20T06:00:00Z"</span><span class="token punctuation">,</span> <span class="token comment">// 기준 시간 오전 6시에 발행됨</span>
      <span class="token comment">// publishedAt은 user의 zondId에 따라 다르게 보일 수 있다.</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div></span>
<h1 id="시간을-어떻게-모델링할-것인가"><a href="#시간을-어떻게-모델링할-것인가">시간을 어떻게 모델링할 것인가?</a></h1>
<p>시간 모델링을 고려할 때 단순히 특정 구현을 선택하는 것보다 시간이라는 도메인을 정확히 표현할 수 있는 모델을 구축하는 것이 중요하다. 앞서 살펴본 시간의 다양한 특성과 사용 사례를 효과적으로 지원하기 위해 통합된 시간 모델링 접근법을 살펴보자.</p>
<p>시간 모델링의 첫 단계는 모든 공통 기반이 되는 핵심 인터페이스를 정의하는 것이다. 다음 인터페이스는 시간 관련 모든 클래스가 공유해야 할 최소한의 기능을 제공한다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">/**
 * 모든 시간 관련 개념의 기본 인터페이스
 */</span>
<span class="token keyword">interface</span> Temporal <span class="token punctuation">{</span>
  <span class="token comment">// 다른 시간 개념으로 변환하는 메서드들</span>
  <span class="token keyword">fun</span> <span class="token function">asInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Instant
  <span class="token keyword">fun</span> <span class="token function">withZone</span><span class="token punctuation">(</span>zone<span class="token operator">:</span> ZoneId<span class="token punctuation">)</span><span class="token operator">:</span> ZonedTemporal
  
  <span class="token comment">// 비교 메서드</span>
  <span class="token keyword">fun</span> <span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Temporal<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
  <span class="token keyword">fun</span> <span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Temporal<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
  <span class="token keyword">fun</span> <span class="token function">isEqual</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Temporal<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
  
  <span class="token comment">// 포맷팅</span>
  <span class="token keyword">fun</span> <span class="token function">format</span><span class="token punctuation">(</span>pattern<span class="token operator">:</span> String<span class="token punctuation">,</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span> String
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 시간대 정보를 포함하는 시간 개념
 */</span>
<span class="token keyword">interface</span> ZonedTemporal <span class="token operator">:</span> Temporal <span class="token punctuation">{</span>
  <span class="token keyword">val</span> zone<span class="token operator">:</span> ZoneId
<span class="token punctuation">}</span></code></pre></div></span>
<p><span><code class="language-text">Temporal</code></span> 인터페이스는 모든 시간 관련 개념의 기본이 되는 메서드를 정의한다. 여기에는 Java의 <span><code class="language-text">Instant</code></span>로 변환하는 메서드, 시간대를 적용하는 메서드, 비교 메서드, 포맷팅 메서드 등이 포함된다. 이 인터페이스를 기반으로 4가지 주요 시간 패턴에 대한 인터페이스를 구현할 수 있다.</p>
<h1 id="사용-사례에-따른-시간-모델링"><a href="#사용-사례에-따른-시간-모델링">사용 사례에 따른 시간 모델링</a></h1>
<p>시간은 사용 사례에 따라 다르게 다른 모델링 접근법이 필요하다. 주요 사용 사례를 살펴보면 다음과 같다.</p>
<ul>
<li>시점(Point in Time)<br/>시점은 시간의 흐름 속 특정 순간을 나타낸다. 예를 들어 &quot;2023년 5월 1일 오전 10시&quot;는 시점이다. 시점은 달력 날짜와 시계 시간의 조합으로 표현되며, 타임존 정보를 포함할 수 있다. 시점 모델링의 핵심은 특정 순간을 정확히 식별하는 것이다.</li>
<li>기간(Duration)<br/>기간은 시간의 양을 나타낸다. &quot;3시간&quot;, &quot;2일&quot;, &quot;4주&quot; 등이 기간의 예시다. 기간은 시작점이나 끝점에 관계없이 순수한 시간의 길이를 표현한다. 기간은 측도와 가장 유사한 특성을 갖지만, 다양한 단위 간 변환이 복잡하다는 차이점이 있다.</li>
<li>시간 간격(Interval)<br/>시간 간격은 시작 시점과 끝 시점 사이의 범위를 나타낸다. &quot;2023년 5월 1일부터 2023년 5월 5일까지&quot;와 같이 표현된다. 시간 간격은 시작점과 끝점을 명확히 정의하며, 그 사이의 기간을 계산할 수 있다.</li>
<li>반복(Recurrence)<br/>반복은 일정한 패턴으로 발생하는 시간 이벤트를 나타낸다. &quot;매주 월요일 오전 10시&quot;, &quot;매월 첫째 주 토요일&quot;, &quot;2년마다 2 월 29일&quot; 등이 반복의 예시다. 반복은 복잡한 규칙을 포함할 수 있으며, 일정 관리나 스케줄링에서 중요한 개념이다.</li>
</ul>
<p>이제 각 관점에 따른 시간 모델링을 살펴보자.</p>
<h2 id="시점point-in-time"><a href="#시점point-in-time">시점(Point in Time)</a></h2>
<p>시점을 모델링하기 위해서는 날짜, 시간, 타임존 정보를 모두 고려해야 한다. 먼저 시점을 나타내는 <strong>TimePoint</strong> 클래스를 정의해보자.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Instant
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>LocalDateTime
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>ZoneId
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>ZonedDateTime
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span>DateTimeFormatter

<span class="token comment">/**
 * 시간의 특정 시점을 표현하는 클래스
 */</span>
<span class="token keyword">class</span> TimePoint <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">val</span> instant<span class="token operator">:</span> Instant<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token comment">// 현재 시점 생성</span>
    <span class="token keyword">fun</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token operator">=</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>Instant<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// Epoch 밀리초로부터 시점 생성</span>
    <span class="token keyword">fun</span> <span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>epochMilli<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token operator">=</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>Instant<span class="token punctuation">.</span><span class="token function">ofEpochMilli</span><span class="token punctuation">(</span>epochMilli<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// ISO 8601 문자열로부터 시점 생성</span>
    <span class="token keyword">fun</span> <span class="token function">fromIsoString</span><span class="token punctuation">(</span>isoString<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token operator">=</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>Instant<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>isoString<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 날짜/시간 컴포넌트로부터 시점 생성</span>
    <span class="token keyword">fun</span> <span class="token function">of</span><span class="token punctuation">(</span>year<span class="token operator">:</span> Int<span class="token punctuation">,</span> month<span class="token operator">:</span> Int<span class="token punctuation">,</span> day<span class="token operator">:</span> Int<span class="token punctuation">,</span> hour<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> minute<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> 
            second<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> nanoOfSecond<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token punctuation">{</span>
      <span class="token keyword">val</span> zonedDateTime <span class="token operator">=</span> ZonedDateTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">,</span> hour<span class="token punctuation">,</span> minute<span class="token punctuation">,</span> second<span class="token punctuation">,</span> nanoOfSecond<span class="token punctuation">,</span> zone<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>zonedDateTime<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 다양한 포맷으로 시점 표현</span>
  <span class="token keyword">fun</span> <span class="token function">toIsoString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Long <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">format</span><span class="token punctuation">(</span>pattern<span class="token operator">:</span> String<span class="token punctuation">,</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword">val</span> formatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span>
    <span class="token keyword">val</span> zonedDateTime <span class="token operator">=</span> ZonedDateTime<span class="token punctuation">.</span><span class="token function">ofInstant</span><span class="token punctuation">(</span>instant<span class="token punctuation">,</span> zone<span class="token punctuation">)</span>
    <span class="token keyword">return</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 특정 타임존에서의 시간 정보 가져오기</span>
  <span class="token keyword">fun</span> <span class="token function">inZone</span><span class="token punctuation">(</span>zone<span class="token operator">:</span> ZoneId<span class="token punctuation">)</span><span class="token operator">:</span> ZonedDateTime <span class="token operator">=</span> ZonedDateTime<span class="token punctuation">.</span><span class="token function">ofInstant</span><span class="token punctuation">(</span>instant<span class="token punctuation">,</span> zone<span class="token punctuation">)</span>
  
  <span class="token comment">// 시점 비교</span>
  <span class="token keyword">fun</span> <span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>instant<span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>instant<span class="token punctuation">)</span>
  
  <span class="token comment">// 시점 연산</span>
  <span class="token keyword">fun</span> <span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token operator">=</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>instant<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token punctuation">.</span><span class="token function">toJavaDuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">minus</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token operator">=</span> <span class="token function">TimePoint</span><span class="token punctuation">(</span>instant<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>duration<span class="token punctuation">.</span><span class="token function">toJavaDuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token comment">// 시점 간 기간 계산</span>
  <span class="token keyword">fun</span> <span class="token function">until</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> Duration<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> other<span class="token punctuation">)</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> other<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>other <span class="token operator">!</span><span class="token keyword">is</span> TimePoint<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token keyword">return</span> instant <span class="token operator">==</span> other<span class="token punctuation">.</span>instant
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> instant<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token function">toIsoString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>이 클래스는 내부적으로 Java의 <span><code class="language-text">Instant</code></span> 클래스를 사용하여 시점을 표현한다. <span><code class="language-text">Instant</code></span>는 UTC 기준 에포크 시간(1970년 1월 1일 00:00:00 UTC)부터의 시간 경과를 나노초 정밀도로 표현한다. 이는 전 세계 어디서나 동일한 순간을 고유하게 식별할 수 있는 방법이다.</p>
<h2 id="기간duration"><a href="#기간duration">기간(Duration)</a></h2>
<p>기간은 시간의 양을 나타내므로, 우리의 측도 모델과 유사하게 모델링할 수 있다. 다만, 시간 단위 간 변환이 복잡하다는 점을 고려해야 한다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>temporal<span class="token punctuation">.</span>ChronoUnit
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>TimeUnit

<span class="token comment">/**
 * 시간의 양(기간)을 표현하는 클래스
 */</span>
<span class="token keyword">class</span> Duration <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> value<span class="token operator">:</span> Long<span class="token punctuation">,</span>
  <span class="token keyword">val</span> unit<span class="token operator">:</span> TimeUnit
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token comment">// 기본 팩토리 메서드</span>
    <span class="token keyword">fun</span> <span class="token function">of</span><span class="token punctuation">(</span>value<span class="token operator">:</span> Long<span class="token punctuation">,</span> unit<span class="token operator">:</span> TimeUnit<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> unit<span class="token punctuation">)</span>
    
    <span class="token comment">// 편의 메서드</span>
    <span class="token keyword">fun</span> <span class="token function">ofNanos</span><span class="token punctuation">(</span>nanos<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>nanos<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofMicros</span><span class="token punctuation">(</span>micros<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>micros<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MICROSECONDS<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofMillis</span><span class="token punctuation">(</span>millis<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>millis<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofSeconds</span><span class="token punctuation">(</span>seconds<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>seconds<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofMinutes</span><span class="token punctuation">(</span>minutes<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>minutes<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>MINUTES<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofHours</span><span class="token punctuation">(</span>hours<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>hours<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>HOURS<span class="token punctuation">)</span>
    <span class="token keyword">fun</span> <span class="token function">ofDays</span><span class="token punctuation">(</span>days<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>days<span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span>
    
    <span class="token comment">// 두 시점 사이의 기간 계산</span>
    <span class="token keyword">fun</span> <span class="token function">between</span><span class="token punctuation">(</span>start<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span> end<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token punctuation">{</span>
      <span class="token keyword">val</span> millis <span class="token operator">=</span> end<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token function">ofMillis</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">val</span> ZERO <span class="token operator">=</span> <span class="token function">ofMillis</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 단위 변환</span>
  <span class="token keyword">fun</span> <span class="token keyword">to</span><span class="token punctuation">(</span>targetUnit<span class="token operator">:</span> TimeUnit<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token punctuation">{</span>
    <span class="token keyword">val</span> convertedValue <span class="token operator">=</span> targetUnit<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> unit<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">of</span><span class="token punctuation">(</span>convertedValue<span class="token punctuation">,</span> targetUnit<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 기간 연산</span>
  <span class="token keyword">fun</span> <span class="token function">plus</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token punctuation">{</span>
    <span class="token keyword">val</span> thisNanos <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">val</span> otherNanos <span class="token operator">=</span> other<span class="token punctuation">.</span>unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">ofNanos</span><span class="token punctuation">(</span>thisNanos <span class="token operator">+</span> otherNanos<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">fun</span> <span class="token function">minus</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token punctuation">{</span>
    <span class="token keyword">val</span> thisNanos <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">val</span> otherNanos <span class="token operator">=</span> other<span class="token punctuation">.</span>unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">ofNanos</span><span class="token punctuation">(</span>thisNanos <span class="token operator">-</span> otherNanos<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">fun</span> <span class="token function">multipliedBy</span><span class="token punctuation">(</span>factor<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>value <span class="token operator">*</span> factor<span class="token punctuation">,</span> unit<span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">dividedBy</span><span class="token punctuation">(</span>divisor<span class="token operator">:</span> Long<span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> <span class="token function">of</span><span class="token punctuation">(</span>value <span class="token operator">/</span> divisor<span class="token punctuation">,</span> unit<span class="token punctuation">)</span>
  
  <span class="token comment">// Java Duration으로 변환</span>
  <span class="token keyword">fun</span> <span class="token function">toJavaDuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Duration <span class="token operator">=</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>Duration<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token function">chronoUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token comment">// 시간 단위를 ChronoUnit으로 변환</span>
  <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">chronoUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> ChronoUnit <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    TimeUnit<span class="token punctuation">.</span>NANOSECONDS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>NANOS
    TimeUnit<span class="token punctuation">.</span>MICROSECONDS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>MICROS
    TimeUnit<span class="token punctuation">.</span>MILLISECONDS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>MILLIS
    TimeUnit<span class="token punctuation">.</span>SECONDS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>SECONDS
    TimeUnit<span class="token punctuation">.</span>MINUTES <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>MINUTES
    TimeUnit<span class="token punctuation">.</span>HOURS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>HOURS
    TimeUnit<span class="token punctuation">.</span>DAYS <span class="token operator">-></span> ChronoUnit<span class="token punctuation">.</span>DAYS
    <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token keyword">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Unsupported time unit: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">unit</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 비교 연산</span>
  <span class="token keyword">fun</span> <span class="token function">isZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> value <span class="token operator">==</span> <span class="token number">0L</span>
  
  <span class="token keyword">fun</span> <span class="token function">isPositive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> value <span class="token operator">></span> <span class="token number">0</span>
  
  <span class="token keyword">fun</span> <span class="token function">isNegative</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span> value <span class="token operator">&lt;</span> <span class="token number">0</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> other<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>other <span class="token operator">!</span><span class="token keyword">is</span> Duration<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    
    <span class="token comment">// 같은 단위로 변환하여 비교</span>
    <span class="token keyword">val</span> thisNanos <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">val</span> otherNanos <span class="token operator">=</span> other<span class="token punctuation">.</span>unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> thisNanos <span class="token operator">==</span> otherNanos
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword">val</span> nanos <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> nanos<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      TimeUnit<span class="token punctuation">.</span>NANOSECONDS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ns"</span></span>
      TimeUnit<span class="token punctuation">.</span>MICROSECONDS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">µs"</span></span>
      TimeUnit<span class="token punctuation">.</span>MILLISECONDS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ms"</span></span>
      TimeUnit<span class="token punctuation">.</span>SECONDS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">s"</span></span>
      TimeUnit<span class="token punctuation">.</span>MINUTES <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">m"</span></span>
      TimeUnit<span class="token punctuation">.</span>HOURS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">h"</span></span>
      TimeUnit<span class="token punctuation">.</span>DAYS <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">d"</span></span>
      <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">unit<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">lowercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>이 클래스는 Java의 <span><code class="language-text">TimeUnit</code></span>을 활용하여 다양한 시간 단위를 지원한다. 내부적으로는 가장 작은 단위(나노초)로 모든 계산을 수행하여 정확성을 보장한다.</p>
<h2 id="시간-간격interval"><a href="#시간-간격interval">시간 간격(Interval)</a></h2>
<p>시간 간격은 시작 시점과 끝 시점으로 구성된다. 이를 모델링해보자.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">/**
 * 시작 시점과 끝 시점 사이의 시간 간격을 표현하는 클래스
 */</span>
<span class="token keyword">class</span> TimeInterval <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span>
  <span class="token keyword">val</span> start<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span>
  <span class="token keyword">val</span> end<span class="token operator">:</span> TimePoint
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">init</span> <span class="token punctuation">{</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">!</span>end<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">"End time must not be before start time"</span></span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">of</span><span class="token punctuation">(</span>start<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span> end<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token operator">=</span> <span class="token function">TimeInterval</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
    
    <span class="token comment">// 특정 시점으로부터 기간을 더한 간격 생성</span>
    <span class="token keyword">fun</span> <span class="token function">startingAt</span><span class="token punctuation">(</span>start<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span> duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token operator">=</span>
      <span class="token function">of</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> start<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 특정 시점으로부터 기간을 뺀 간격 생성</span>
    <span class="token keyword">fun</span> <span class="token function">endingAt</span><span class="token punctuation">(</span>end<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span> duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token operator">=</span>
      <span class="token function">of</span><span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 간격의 기간 계산</span>
  <span class="token keyword">fun</span> <span class="token function">duration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Duration <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span>
  
  <span class="token comment">// 간격 연산</span>
  <span class="token keyword">fun</span> <span class="token function">shift</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token operator">=</span>
    <span class="token function">of</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">expand</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token operator">=</span>
    <span class="token function">of</span><span class="token punctuation">(</span>start<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">shrink</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval <span class="token punctuation">{</span>
    <span class="token keyword">val</span> halfDuration <span class="token operator">=</span> duration<span class="token punctuation">.</span><span class="token function">dividedBy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> newStart <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>halfDuration<span class="token punctuation">)</span>
    <span class="token keyword">val</span> newEnd <span class="token operator">=</span> end<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>halfDuration<span class="token punctuation">)</span>
    
    <span class="token comment">// 축소 후 유효한 간격인지 확인</span>
    <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>newEnd<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>newStart<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 간격이 너무 작아 유효하지 않은 경우, 중간 시점으로 축소</span>
      <span class="token keyword">val</span> midPoint <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dividedBy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token function">of</span><span class="token punctuation">(</span>midPoint<span class="token punctuation">,</span> midPoint<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">of</span><span class="token punctuation">(</span>newStart<span class="token punctuation">,</span> newEnd<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 간격 관계 확인</span>
  <span class="token keyword">fun</span> <span class="token function">contains</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span>
    <span class="token operator">!</span>point<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>point<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">contains</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span>
    <span class="token operator">!</span>other<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>other<span class="token punctuation">.</span>end<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">overlaps</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span>
    <span class="token operator">!</span>end<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>start<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>start<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>end<span class="token punctuation">)</span>
  
  <span class="token keyword">fun</span> <span class="token function">abuts</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token operator">=</span>
    start<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>end<span class="token punctuation">)</span> <span class="token operator">||</span> end<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>start<span class="token punctuation">)</span>
  
  <span class="token comment">// 간격 병합 및 교차</span>
  <span class="token keyword">fun</span> <span class="token function">union</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval<span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">overlaps</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">abuts</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">null</span> <span class="token comment">// 겹치거나 인접하지 않으면 병합 불가</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">of</span><span class="token punctuation">(</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span> start <span class="token keyword">else</span> other<span class="token punctuation">.</span>start<span class="token punctuation">,</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> end <span class="token keyword">else</span> other<span class="token punctuation">.</span>end
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">fun</span> <span class="token function">intersection</span><span class="token punctuation">(</span>other<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> TimeInterval<span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">overlaps</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">null</span> <span class="token comment">// 겹치지 않으면 교집합 없음</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">of</span><span class="token punctuation">(</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>start<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span> start <span class="token keyword">else</span> other<span class="token punctuation">.</span>start<span class="token punctuation">,</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> end <span class="token keyword">else</span> other<span class="token punctuation">.</span>end
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">equals</span><span class="token punctuation">(</span>other<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> other<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>other <span class="token operator">!</span><span class="token keyword">is</span> TimeInterval<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token keyword">return</span> start <span class="token operator">==</span> other<span class="token punctuation">.</span>start <span class="token operator">&amp;&amp;</span> end <span class="token operator">==</span> other<span class="token punctuation">.</span>end
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    result <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> result <span class="token operator">+</span> end<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">start</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">end</span></span><span class="token string">]"</span></span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>이 클래스는 시간 간격의 다양한 연산과 관계를 지원한다. 간격을 이동(shift), 확장(expand), 축소(shrink)할 수 있으며, 다른 간격과의 관계(포함, 겹침, 인접)를 확인할 수 있다. 또한 두 간격의 합집합(union)과 교집합(intersection)도 계산할 수 있다.</p>
<h2 id="반복recurrence"><a href="#반복recurrence">반복(Recurrence)</a></h2>
<p>반복은 가장 복잡한 시간 개념 중 하나다. 다양한 패턴으로 발생하는 반복 이벤트를 표현하기 위해 강력한 모델이 필요하다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>DayOfWeek
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>LocalTime
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>ZoneId
<span class="token keyword">import</span> java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>temporal<span class="token punctuation">.</span>TemporalAdjusters
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token operator">*</span>

<span class="token comment">/**
 * 반복되는 시간 패턴을 표현하는 클래스
 */</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> TimeRecurrence <span class="token punctuation">{</span>
  <span class="token comment">// 특정 간격 내에서 발생하는 모든 시점 계산</span>
  <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span>
  
  <span class="token comment">// 특정 시점 이후의 다음 발생 시점 계산</span>
  <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint<span class="token operator">?</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 매일 반복되는 패턴
 */</span>
<span class="token keyword">class</span> <span class="token function">DailyRecurrence</span><span class="token punctuation">(</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> timeOfDay<span class="token operator">:</span> LocalTime<span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">TimeRecurrence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>Duration<span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>current<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
      current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token punctuation">{</span>
    <span class="token keyword">val</span> zonedDateTime <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">inZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span>
    <span class="token keyword">val</span> today <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> todayOccurrence <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> todayPoint <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>todayOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>todayPoint<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      todayPoint
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> tomorrow <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">val</span> tomorrowOccurrence <span class="token operator">=</span> tomorrow<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>tomorrowOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 매주 특정 요일에 반복되는 패턴
 */</span>
<span class="token keyword">class</span> <span class="token function">WeeklyRecurrence</span><span class="token punctuation">(</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> daysOfWeek<span class="token operator">:</span> Set<span class="token operator">&lt;</span>DayOfWeek<span class="token operator">></span><span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> timeOfDay<span class="token operator">:</span> LocalTime<span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">TimeRecurrence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>Duration<span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>current<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
      current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint<span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>daysOfWeek<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span>
    
    <span class="token keyword">val</span> zonedDateTime <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">inZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span>
    <span class="token keyword">val</span> today <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> currentDayOfWeek <span class="token operator">=</span> today<span class="token punctuation">.</span>dayOfWeek
    
    <span class="token comment">// 오늘의 발생 시점 확인</span>
    <span class="token keyword">val</span> todayOccurrence <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> todayPoint <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>todayOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>daysOfWeek<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>currentDayOfWeek<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> point<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>todayPoint<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> todayPoint
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 다음 발생 요일 찾기</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> nextDay <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>daysOfWeek<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>nextDay<span class="token punctuation">.</span>dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> nextOccurrence <span class="token operator">=</span> nextDay<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>nextOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token keyword">null</span> <span class="token comment">// 발생하지 않는 케이스 (daysOfWeek가 비어있는 경우)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 매월 특정 일에 반복되는 패턴
 */</span>
<span class="token keyword">class</span> <span class="token function">MonthlyRecurrence</span><span class="token punctuation">(</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> dayOfMonth<span class="token operator">:</span> Int<span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> timeOfDay<span class="token operator">:</span> LocalTime<span class="token punctuation">,</span>
  <span class="token keyword">private</span> <span class="token keyword">val</span> zone<span class="token operator">:</span> ZoneId <span class="token operator">=</span> ZoneId<span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">TimeRecurrence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token keyword">init</span> <span class="token punctuation">{</span>
    <span class="token function">require</span><span class="token punctuation">(</span>dayOfMonth <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">31</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">"Day of month must be between 1 and 31"</span></span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span>Duration<span class="token punctuation">.</span><span class="token function">ofSeconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>current<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
      current <span class="token operator">=</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
  <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint <span class="token punctuation">{</span>
    <span class="token keyword">val</span> zonedDateTime <span class="token operator">=</span> point<span class="token punctuation">.</span><span class="token function">inZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span>
    <span class="token keyword">val</span> today <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 이번 달의 발생일 계산</span>
    <span class="token keyword">val</span> dayOfMonthAdjusted <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>dayOfMonth<span class="token punctuation">,</span> today<span class="token punctuation">.</span><span class="token function">lengthOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> thisMonth <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span>dayOfMonthAdjusted<span class="token punctuation">)</span>
    <span class="token keyword">val</span> thisMonthOccurrence <span class="token operator">=</span> thisMonth<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> thisMonthPoint <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>thisMonthOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>thisMonthPoint<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> thisMonthPoint
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 다음 달의 발생일 계산</span>
    <span class="token keyword">val</span> nextMonth <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">plusMonths</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> nextMonthDayAdjusted <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>dayOfMonth<span class="token punctuation">,</span> nextMonth<span class="token punctuation">.</span><span class="token function">lengthOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> nextMonthDate <span class="token operator">=</span> nextMonth<span class="token punctuation">.</span><span class="token function">withDayOfMonth</span><span class="token punctuation">(</span>nextMonthDayAdjusted<span class="token punctuation">)</span>
    <span class="token keyword">val</span> nextMonthOccurrence <span class="token operator">=</span> nextMonthDate<span class="token punctuation">.</span><span class="token function">atTime</span><span class="token punctuation">(</span>timeOfDay<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>zone<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> TimePoint<span class="token punctuation">.</span><span class="token function">fromEpochMilli</span><span class="token punctuation">(</span>nextMonthOccurrence<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<p>여기서는 세 가지 기본적인 반복 패턴을 구현했다: 일간 반복, 주간 반복, 월간 반복. 각 패턴은 특정 간격 내에서의 모든 발생 시점과 특정 시점 이후의 다음 발생 시점을 계산할 수 있다.</p>
<h1 id="시간-연산과-변환"><a href="#시간-연산과-변환">시간 연산과 변환</a></h1>
<p>시간 모델링에서 가장 중요한 부분 중 하나는 다양한 연산과 변환이다. 시점, 기간, 간격, 반복 사이의 변환과 연산을 위한 유틸리티 메서드를 구현해보자.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">/**
 * 시간 관련 유틸리티 클래스
 */</span>
<span class="token keyword">object</span> TimeUtils <span class="token punctuation">{</span>
  <span class="token comment">// 시점 비교 및 확인</span>
  <span class="token keyword">fun</span> <span class="token function">isLeapYear</span><span class="token punctuation">(</span>year<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> year <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>year <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">||</span> year <span class="token operator">%</span> <span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">fun</span> <span class="token function">daysInMonth</span><span class="token punctuation">(</span>year<span class="token operator">:</span> Int<span class="token punctuation">,</span> month<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>month<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token operator">-></span> <span class="token number">31</span>
      <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span> <span class="token operator">-></span> <span class="token number">30</span>
      <span class="token number">2</span> <span class="token operator">-></span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isLeapYear</span><span class="token punctuation">(</span>year<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">29</span> <span class="token keyword">else</span> <span class="token number">28</span>
      <span class="token keyword">else</span> <span class="token operator">-></span> <span class="token keyword">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Invalid month: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">month</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 기간 표시 및 변환</span>
  <span class="token keyword">fun</span> <span class="token function">formatDuration</span><span class="token punctuation">(</span>duration<span class="token operator">:</span> Duration<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword">val</span> millis <span class="token operator">=</span> duration<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span>TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">.</span>value
    
    <span class="token keyword">val</span> days <span class="token operator">=</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span>
    <span class="token keyword">val</span> hours <span class="token operator">=</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">24</span>
    <span class="token keyword">val</span> minutes <span class="token operator">=</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span>
    <span class="token keyword">val</span> seconds <span class="token operator">=</span> TimeUnit<span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">toSeconds</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span>
    
    <span class="token keyword">val</span> parts <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>days <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> parts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">days</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">d"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hours <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> parts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">hours</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">h"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>minutes <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> parts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">minutes</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">m"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> parts<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> parts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">seconds</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">s"</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span> parts<span class="token punctuation">.</span><span class="token function">joinToString</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" "</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 시간 간격 조작</span>
  <span class="token keyword">fun</span> <span class="token function">splitInterval</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">,</span> parts<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimeInterval<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">require</span><span class="token punctuation">(</span>parts <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">"Number of parts must be positive"</span></span> <span class="token punctuation">}</span>
    
    <span class="token keyword">val</span> result <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>TimeInterval<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> duration <span class="token operator">=</span> interval<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> partDuration <span class="token operator">=</span> duration<span class="token punctuation">.</span><span class="token function">dividedBy</span><span class="token punctuation">(</span>parts<span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">var</span> current <span class="token operator">=</span> interval<span class="token punctuation">.</span>start
    <span class="token function">repeat</span><span class="token punctuation">(</span>parts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> next <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> parts <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> interval<span class="token punctuation">.</span>end <span class="token keyword">else</span> current<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>partDuration<span class="token punctuation">)</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span>
      current <span class="token operator">=</span> next
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 반복 패턴 조합</span>
  <span class="token keyword">fun</span> <span class="token function">combineRecurrences</span><span class="token punctuation">(</span>recurrences<span class="token operator">:</span> List<span class="token operator">&lt;</span>TimeRecurrence<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> TimeRecurrence <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">object</span> <span class="token operator">:</span> <span class="token function">TimeRecurrence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>TimePoint<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> recurrences<span class="token punctuation">.</span><span class="token function">flatMap</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">occurrencesIn</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">sortedBy</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      
      <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span><span class="token operator">:</span> TimePoint<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> recurrences<span class="token punctuation">.</span><span class="token function">mapNotNull</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token punctuation">.</span><span class="token function">minByOrNull</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">toEpochMilli</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<h1 id="사용-사례"><a href="#사용-사례">사용 사례</a></h1>
<p>실제 코드에서 이러한 시간 모델을 어떻게 활용할 수 있는지 몇 가지 예시를 살펴보자.</p>
<h2 id="이벤트-스케줄링"><a href="#이벤트-스케줄링">이벤트 스케줄링</a></h2>
<p>회의나 약속과 같은 이벤트를 스케줄링하는 예시다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">// 회의 스케줄링</span>
<span class="token keyword">val</span> meetingStart <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 2023년 5월 10일 오후 2시</span>
<span class="token keyword">val</span> meetingDuration <span class="token operator">=</span> Duration<span class="token punctuation">.</span><span class="token function">ofMinutes</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span> <span class="token comment">// 1시간 회의</span>
<span class="token keyword">val</span> meetingInterval <span class="token operator">=</span> TimeInterval<span class="token punctuation">.</span><span class="token function">startingAt</span><span class="token punctuation">(</span>meetingStart<span class="token punctuation">,</span> meetingDuration<span class="token punctuation">)</span>

<span class="token comment">// 참석자의 가용 시간 확인</span>
<span class="token keyword">val</span> availabilityStart <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 오후 1시부터</span>
<span class="token keyword">val</span> availabilityEnd <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>   <span class="token comment">// 오후 5시까지</span>
<span class="token keyword">val</span> availabilityInterval <span class="token operator">=</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>availabilityStart<span class="token punctuation">,</span> availabilityEnd<span class="token punctuation">)</span>

<span class="token comment">// 회의가 가용 시간 내에 있는지 확인</span>
<span class="token keyword">val</span> canAttend <span class="token operator">=</span> availabilityInterval<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>meetingInterval<span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Can attend meeting: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">canAttend</span></span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 다음 정기 회의 시간 계산 (매주 월요일 오전 10시)</span>
<span class="token keyword">val</span> weeklyMeeting <span class="token operator">=</span> <span class="token function">WeeklyRecurrence</span><span class="token punctuation">(</span>
    <span class="token function">setOf</span><span class="token punctuation">(</span>DayOfWeek<span class="token punctuation">.</span>MONDAY<span class="token punctuation">)</span><span class="token punctuation">,</span>
    LocalTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token keyword">val</span> today <span class="token operator">=</span> TimePoint<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> nextMeeting <span class="token operator">=</span> weeklyMeeting<span class="token punctuation">.</span><span class="token function">nextOccurrenceAfter</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Next meeting: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">nextMeeting<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"yyyy-MM-dd HH:mm"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span></code></pre></div></span>
<h2 id="타임라인-분석"><a href="#타임라인-분석">타임라인 분석</a></h2>
<p>일련의 이벤트를 시간 순서로 분석하는 예시다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">// 여러 이벤트의 타임라인 생성</span>
<span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">Event</span><span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">val</span> interval<span class="token operator">:</span> TimeInterval<span class="token punctuation">)</span>

<span class="token keyword">val</span> events <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span>
  <span class="token function">Event</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"프로젝트 계획"</span></span><span class="token punctuation">,</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">Event</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"디자인 단계"</span></span><span class="token punctuation">,</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">Event</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"개발 단계"</span></span><span class="token punctuation">,</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">Event</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"테스트"</span></span><span class="token punctuation">,</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// 전체 프로젝트 기간 계산</span>
<span class="token keyword">val</span> projectStart <span class="token operator">=</span> events<span class="token punctuation">.</span><span class="token function">minOf</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>interval<span class="token punctuation">.</span>start <span class="token punctuation">}</span>
<span class="token keyword">val</span> projectEnd <span class="token operator">=</span> events<span class="token punctuation">.</span><span class="token function">maxOf</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>interval<span class="token punctuation">.</span>end <span class="token punctuation">}</span>
<span class="token keyword">val</span> projectInterval <span class="token operator">=</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>projectStart<span class="token punctuation">,</span> projectEnd<span class="token punctuation">)</span>
<span class="token keyword">val</span> projectDuration <span class="token operator">=</span> projectInterval<span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"프로젝트 기간: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">projectStart<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"yyyy-MM-dd"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ~ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">projectEnd<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"yyyy-MM-dd"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"총 소요 시간: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">TimeUtils<span class="token punctuation">.</span><span class="token function">formatDuration</span><span class="token punctuation">(</span>projectDuration<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment">// 단계 간 겹치는 부분 분석</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0</span> until events<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">in</span> i <span class="token operator">+</span> <span class="token number">1</span> until events<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> event1 <span class="token operator">=</span> events<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">val</span> event2 <span class="token operator">=</span> events<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event1<span class="token punctuation">.</span>interval<span class="token punctuation">.</span><span class="token function">overlaps</span><span class="token punctuation">(</span>event2<span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> overlap <span class="token operator">=</span> event1<span class="token punctuation">.</span>interval<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span>event2<span class="token punctuation">.</span>interval<span class="token punctuation">)</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"'</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">event1<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'과 '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">event2<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">'이 겹침: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">overlap<span class="token operator">?</span><span class="token punctuation">.</span>start<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"MM-dd"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ~ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">overlap<span class="token operator">?</span><span class="token punctuation">.</span>end<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"MM-dd"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></span>
<h2 id="근무-시간-추적"><a href="#근무-시간-추적">근무 시간 추적</a></h2>
<p>근무 시간을 추적하고 분석하는 예시다.</p>
<span><div class="gatsby-highlight" data-language="kotlin"><pre class="language-kotlin"><code class="language-kotlin"><span class="token comment">// 근무 시간 기록</span>
<span class="token keyword">data</span> <span class="token keyword">class</span> <span class="token function">WorkSession</span><span class="token punctuation">(</span><span class="token keyword">val</span> start<span class="token operator">:</span> TimePoint<span class="token punctuation">,</span> <span class="token keyword">val</span> end<span class="token operator">:</span> TimePoint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> duration<span class="token operator">:</span> Duration
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span>
  
  <span class="token keyword">val</span> interval<span class="token operator">:</span> TimeInterval
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> TimeInterval<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 일주일간의 근무 기록</span>
<span class="token keyword">val</span> workWeek <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span>
  <span class="token function">WorkSession</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">WorkSession</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">WorkSession</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">WorkSession</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">WorkSession</span><span class="token punctuation">(</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    TimePoint<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>

<span class="token comment">// 총 근무 시간 계산</span>
<span class="token keyword">val</span> totalWorkDuration <span class="token operator">=</span> workWeek<span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span>Duration<span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span> <span class="token punctuation">{</span> acc<span class="token punctuation">,</span> session <span class="token operator">-></span>
  acc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>duration<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"총 근무 시간: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">TimeUtils<span class="token punctuation">.</span><span class="token function">formatDuration</span><span class="token punctuation">(</span>totalWorkDuration<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

<span class="token comment">// 일별 근무 시간 분석</span>
<span class="token keyword">val</span> workByDay <span class="token operator">=</span> workWeek<span class="token punctuation">.</span><span class="token function">groupBy</span> <span class="token punctuation">{</span> 
  it<span class="token punctuation">.</span>start<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"yyyy-MM-dd"</span></span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">mapValues</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> sessions<span class="token punctuation">)</span> <span class="token operator">-></span>
  sessions<span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span>Duration<span class="token punctuation">.</span>ZERO<span class="token punctuation">)</span> <span class="token punctuation">{</span> acc<span class="token punctuation">,</span> session <span class="token operator">-></span> acc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

workByDay<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>day<span class="token punctuation">,</span> duration<span class="token punctuation">)</span> <span class="token operator">-></span>
  <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">day</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">TimeUtils<span class="token punctuation">.</span><span class="token function">formatDuration</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 초과 근무 시간 계산 (하루 8시간 기준)</span>
<span class="token keyword">val</span> standardWorkDay <span class="token operator">=</span> Duration<span class="token punctuation">.</span><span class="token function">ofHours</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> overtime <span class="token operator">=</span> workByDay<span class="token punctuation">.</span><span class="token function">map</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>day<span class="token punctuation">,</span> duration<span class="token punctuation">)</span> <span class="token operator">-></span>
  <span class="token keyword">val</span> daily <span class="token operator">=</span> duration<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span>TimeUnit<span class="token punctuation">.</span>HOURS<span class="token punctuation">)</span><span class="token punctuation">.</span>value
  <span class="token keyword">val</span> over <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> daily <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">)</span>
  day <span class="token keyword">to</span> Duration<span class="token punctuation">.</span><span class="token function">ofHours</span><span class="token punctuation">(</span>over<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> overtime<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token operator">!</span>overtime<span class="token punctuation">.</span><span class="token function">isZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

overtime<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>day<span class="token punctuation">,</span> duration<span class="token punctuation">)</span> <span class="token operator">-></span>
  <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">day</span></span><span class="token string"> 초과근무: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">TimeUtils<span class="token punctuation">.</span><span class="token function">formatDuration</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div></span>
<h1 id="마치며"><a href="#마치며">마치며</a></h1>
<p>이 글에서는 시간이라는 복잡한 개념을 프로그래밍적으로 어떻게 모델링할 수 있는지 살펴보았다. 시간은 단순한 물리적 측도를 넘어서 다양한 관점(시점, 기간, 간격, 반복)으로 이해할 수 있으며, 각 관점에 맞는 모델링 접근법이 필요하다.</p>
<p>시간 모델링에서 가장 중요한 점은 시간의 다양한 특성을 정확하게 반영하는 것이다. 단위 변환이 복잡하고, 타임존이 존재하며, 다양한 캘린더 시스템이 사용된다는 점을 고려해야 한다. 또한 시간은 연속적인 특성을 가지기 때문에 정밀도에 대한 고려도 필요하다.</p>
<p>모델 설계에서는 각 개념을 명확히 분리하면서도 상호 작용을 자연스럽게 지원하는 것이 중요하다. <span><code class="language-text">TimePoint</code></span>, <span><code class="language-text">Duration</code></span>, <span><code class="language-text">TimeInterval</code></span>, <span><code class="language-text">TimeRecurrence</code></span>와 같은 핵심 클래스는 각각의 책임을 명확히 하면서도, 서로 변환되고 결합될 수 있어야 한다.</p>
<p>이러한 시간 모델링은 일정 관리, 예약 시스템, 캘린더 시스템 등 다양한 비즈니스 도메인에서 활용될 수 있다. 특히 전자상거래, 물류, 금융과 같이 시간이 중요한 요소인 도메인에서는 정교한 시간 모델이 필수적이다.</p>
<section data-footnotes="true" class="footnotes"><h2 class="sr-only" id="footnote-label"><a href="#footnote-label">Footnotes</a></h2>
<ol>
<li id="user-content-fn-1">
<p>참고로 한국 표준 시간은 KST라고 부른다 <a href="#user-content-fnref-1" data-footnote-backref="true" class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>UTC, GMT, Zulu time 모두 같은 시간대를 나타낸다 <a href="#user-content-fnref-2" data-footnote-backref="true" class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7M8K7EBEDX"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7M8K7EBEDX', {"send_page_view":false});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2025-05-06-modeling-series-temporal/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-b8455482493cd0c2ea69.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-6759857f5bd0a16abdff.js\"],\"component---src-pages-about-tsx\":[\"/component---src-pages-about-tsx-0f280757e439b5ae50d7.js\"],\"component---src-pages-bookshelf-tsx\":[\"/component---src-pages-bookshelf-tsx-00c0a42b1a986440000d.js\"],\"component---src-pages-business-card-tsx\":[\"/component---src-pages-business-card-tsx-d15363e85a44b2f2ec82.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-3177a74e6d917ef1d92c.js\"],\"component---src-pages-timeline-tsx\":[\"/component---src-pages-timeline-tsx-fdaa746b747c17ab9975.js\"],\"component---src-posts-2021-02-23-first-post-md\":[\"/component---src-posts-2021-02-23-first-post-md-b4ef8f6091ad61ad9d4f.js\"],\"component---src-posts-2021-02-25-about-mongodb-mdx\":[\"/component---src-posts-2021-02-25-about-mongodb-mdx-e8b2a8b1930a5c3cc27d.js\"],\"component---src-posts-2021-02-28-basic-web-hacking-mdx\":[\"/component---src-posts-2021-02-28-basic-web-hacking-mdx-800f2b46991ba6fdd59d.js\"],\"component---src-posts-2021-03-14-effective-atomic-design-mdx\":[\"/component---src-posts-2021-03-14-effective-atomic-design-mdx-1654cdf116def6ffcbb5.js\"],\"component---src-posts-2021-03-20-deep-dive-into-datetime-mdx\":[\"/component---src-posts-2021-03-20-deep-dive-into-datetime-mdx-09ea47c3fe23f067c48a.js\"],\"component---src-posts-2022-08-05-programmers-brain-book-report-mdx\":[\"/component---src-posts-2022-08-05-programmers-brain-book-report-mdx-b18d737ba1cc16c61485.js\"],\"component---src-posts-2022-08-16-polymorphic-react-component-mdx\":[\"/component---src-posts-2022-08-16-polymorphic-react-component-mdx-e3adbbb6db681068ef17.js\"],\"component---src-posts-2022-08-31-the-nature-of-software-development-book-report-mdx\":[\"/component---src-posts-2022-08-31-the-nature-of-software-development-book-report-mdx-4916d7e57eda75fcf1f9.js\"],\"component---src-posts-2022-09-08-software-master-book-report-mdx\":[\"/component---src-posts-2022-09-08-software-master-book-report-mdx-554a083f393cfcc7f02e.js\"],\"component---src-posts-2022-09-18-crafting-esolang-mdx\":[\"/component---src-posts-2022-09-18-crafting-esolang-mdx-a3e4ae062d1c49ebef9e.js\"],\"component---src-posts-2023-05-03-spring-multi-module-architecture-mdx\":[\"/component---src-posts-2023-05-03-spring-multi-module-architecture-mdx-786e65f8661a044145cc.js\"],\"component---src-posts-2023-07-10-effective-work-mdx\":[\"/component---src-posts-2023-07-10-effective-work-mdx-9469377383027e8c6d52.js\"],\"component---src-posts-2023-07-17-railway-oriented-programming-mdx\":[\"/component---src-posts-2023-07-17-railway-oriented-programming-mdx-8d8b57e28a9420baacc7.js\"],\"component---src-posts-2023-07-24-functional-data-structure-mdx\":[\"/component---src-posts-2023-07-24-functional-data-structure-mdx-4a71fceb1f13f695e64f.js\"],\"component---src-posts-2023-11-08-retrace-my-life-mdx\":[\"/component---src-posts-2023-11-08-retrace-my-life-mdx-2a4ffe43fe0b3012020e.js\"],\"component---src-posts-2023-12-05-what-is-beautiful-code-mdx\":[\"/component---src-posts-2023-12-05-what-is-beautiful-code-mdx-ae779fd9d771cec9934a.js\"],\"component---src-posts-2023-12-24-developers-learning-and-growth-mdx\":[\"/component---src-posts-2023-12-24-developers-learning-and-growth-mdx-884f0b169aab79b3deea.js\"],\"component---src-posts-2024-01-21-type-driven-development-mdx\":[\"/component---src-posts-2024-01-21-type-driven-development-mdx-9ad9707cfddbe55538a3.js\"],\"component---src-posts-2024-01-23-linear-method-mdx\":[\"/component---src-posts-2024-01-23-linear-method-mdx-0912d585fa2ccd163599.js\"],\"component---src-posts-2024-02-18-render-delegation-react-component-mdx\":[\"/component---src-posts-2024-02-18-render-delegation-react-component-mdx-864cd53a8e4d962178ba.js\"],\"component---src-posts-2024-03-03-ascii-3-d-renderer-mdx\":[\"/component---src-posts-2024-03-03-ascii-3-d-renderer-mdx-4880e17d38941fdf129b.js\"],\"component---src-posts-2024-03-16-principles-of-debugging-mdx\":[\"/component---src-posts-2024-03-16-principles-of-debugging-mdx-17ccd5c70b6dab9961f3.js\"],\"component---src-posts-2024-04-14-encrypted-vault-system-mdx\":[\"/component---src-posts-2024-04-14-encrypted-vault-system-mdx-05074207067e97be3670.js\"],\"component---src-posts-2024-04-26-living-with-ai-mdx\":[\"/component---src-posts-2024-04-26-living-with-ai-mdx-499202dcb311edce9bb3.js\"],\"component---src-posts-2024-05-10-the-shortcut-mdx\":[\"/component---src-posts-2024-05-10-the-shortcut-mdx-99b8044b4e45902dfa27.js\"],\"component---src-posts-2024-05-17-warp-and-weft-mdx\":[\"/component---src-posts-2024-05-17-warp-and-weft-mdx-8cb386143e8935ac87be.js\"],\"component---src-posts-2024-06-08-log-1-mdx\":[\"/component---src-posts-2024-06-08-log-1-mdx-cfbd8aaf7e47752a0ff3.js\"],\"component---src-posts-2024-06-09-log-2-mdx\":[\"/component---src-posts-2024-06-09-log-2-mdx-6c65ecb52d591c933bab.js\"],\"component---src-posts-2024-06-10-log-3-mdx\":[\"/component---src-posts-2024-06-10-log-3-mdx-d195c23bd4aa6c1ab269.js\"],\"component---src-posts-2024-06-11-log-4-mdx\":[\"/component---src-posts-2024-06-11-log-4-mdx-49655596165b33e069d4.js\"],\"component---src-posts-2024-06-12-log-5-mdx\":[\"/component---src-posts-2024-06-12-log-5-mdx-e9797f03b87891af2be1.js\"],\"component---src-posts-2024-06-13-log-6-mdx\":[\"/component---src-posts-2024-06-13-log-6-mdx-32222dd16a642bba28ea.js\"],\"component---src-posts-2024-06-15-log-7-mdx\":[\"/component---src-posts-2024-06-15-log-7-mdx-cfab95c39c91c14bdb3d.js\"],\"component---src-posts-2024-06-18-log-8-mdx\":[\"/component---src-posts-2024-06-18-log-8-mdx-31e5dfb0178cb480afcd.js\"],\"component---src-posts-2024-07-09-best-prompt-engineering-lesson-mdx\":[\"/component---src-posts-2024-07-09-best-prompt-engineering-lesson-mdx-b24e64899fd6e1fcf467.js\"],\"component---src-posts-2024-07-11-log-9-mdx\":[\"/component---src-posts-2024-07-11-log-9-mdx-6824bec18caf34440d12.js\"],\"component---src-posts-2024-07-27-tidy-first-mdx\":[\"/component---src-posts-2024-07-27-tidy-first-mdx-b712af5222477a2f00f1.js\"],\"component---src-posts-2024-07-29-copybook-mdx\":[\"/component---src-posts-2024-07-29-copybook-mdx-462e422080aa9b18bfb2.js\"],\"component---src-posts-2024-10-12-the-aesthetics-of-destroying-software-mdx\":[\"/component---src-posts-2024-10-12-the-aesthetics-of-destroying-software-mdx-cf3cd4789a550e4a6743.js\"],\"component---src-posts-2024-10-27-music-recognition-system-mdx\":[\"/component---src-posts-2024-10-27-music-recognition-system-mdx-c6862bce5678f01a6106.js\"],\"component---src-posts-2024-11-10-developers-abstraction-structural-thinking-mdx\":[\"/component---src-posts-2024-11-10-developers-abstraction-structural-thinking-mdx-7eee0adcd51d7b1a20cf.js\"],\"component---src-posts-2025-01-19-using-kotlin-script-mdx\":[\"/component---src-posts-2025-01-19-using-kotlin-script-mdx-e6218af2743df4b40520.js\"],\"component---src-posts-2025-02-06-data-oriented-programming-mdx\":[\"/component---src-posts-2025-02-06-data-oriented-programming-mdx-91cea3a59405552aaa65.js\"],\"component---src-posts-2025-02-19-coding-test-story-mdx\":[\"/component---src-posts-2025-02-19-coding-test-story-mdx-3fad012d0843f1b1e6d0.js\"],\"component---src-posts-2025-03-02-react-component-based-thinking-mdx\":[\"/component---src-posts-2025-03-02-react-component-based-thinking-mdx-6ceead4b650de5c52e37.js\"],\"component---src-posts-2025-03-12-build-large-scale-react-web-apps-mdx\":[\"/component---src-posts-2025-03-12-build-large-scale-react-web-apps-mdx-b2fc84b8e59edf9c679a.js\"],\"component---src-posts-2025-03-30-destruction-oriented-development-with-ai-mdx\":[\"/component---src-posts-2025-03-30-destruction-oriented-development-with-ai-mdx-e3ef7a154eb6d0695247.js\"],\"component---src-posts-2025-04-09-new-kind-of-hallucination-mdx\":[\"/component---src-posts-2025-04-09-new-kind-of-hallucination-mdx-c3a2dcb8ff0566506461.js\"],\"component---src-posts-2025-04-10-mcp-from-ux-perspective-mdx\":[\"/component---src-posts-2025-04-10-mcp-from-ux-perspective-mdx-059bb66b074650471397.js\"],\"component---src-posts-2025-04-16-modeling-series-foreword-mdx\":[\"/component---src-posts-2025-04-16-modeling-series-foreword-mdx-fbc76bb3c799766d01f6.js\"],\"component---src-posts-2025-04-18-modeling-series-view-model-mdx\":[\"/component---src-posts-2025-04-18-modeling-series-view-model-mdx-247b1443b855b1f70810.js\"],\"component---src-posts-2025-04-23-modeling-series-conditional-tree-mdx\":[\"/component---src-posts-2025-04-23-modeling-series-conditional-tree-mdx-8a70ff83ccff73b1ec77.js\"],\"component---src-posts-2025-04-25-multi-paradigm-programming-book-mdx\":[\"/component---src-posts-2025-04-25-multi-paradigm-programming-book-mdx-69e0d1b81189ca01dacc.js\"],\"component---src-posts-2025-04-26-how-to-build-an-agent-mdx\":[\"/component---src-posts-2025-04-26-how-to-build-an-agent-mdx-0139c2bffa2d63fb2b19.js\"],\"component---src-posts-2025-05-01-log-10-mdx\":[\"/component---src-posts-2025-05-01-log-10-mdx-bd7e45d68154b30e9540.js\"],\"component---src-posts-2025-05-02-modeling-series-measure-mdx\":[\"/component---src-posts-2025-05-02-modeling-series-measure-mdx-c97006360d7df74bf709.js\"],\"component---src-posts-2025-05-06-modeling-series-temporal-mdx\":[\"/component---src-posts-2025-05-06-modeling-series-temporal-mdx-f2d308a91a69d1b0d7d3.js\"],\"component---src-posts-2026-02-18-how-to-design-animation-mdx\":[\"/component---src-posts-2026-02-18-how-to-design-animation-mdx-2f576fcab6f201c935aa.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-02-23-first-post-md\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-02-23-first-post-md-d59f91eff07fb0f1fc67.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-02-25-about-mongodb-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-02-25-about-mongodb-mdx-276196c71516721676a1.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-02-28-basic-web-hacking-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-02-28-basic-web-hacking-mdx-819424ed2ff7a36f18a0.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-03-14-effective-atomic-design-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-03-14-effective-atomic-design-mdx-791842ebd7e28c690f92.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2021-03-20-deep-dive-into-datetime-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2021-03-20-deep-dive-into-datetime-mdx-164ff9cc941a5d32a383.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-08-05-programmers-brain-book-report-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-08-05-programmers-brain-book-report-mdx-2f4a38b4b5a30c29c544.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-08-16-polymorphic-react-component-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-08-16-polymorphic-react-component-mdx-1fcfc6c206bace22f2b1.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-08-31-the-nature-of-software-development-book-report-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-08-31-the-nature-of-software-development-book-report-mdx-b5a299938c9c61eb3586.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-09-08-software-master-book-report-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-09-08-software-master-book-report-mdx-9519baaf5e3f31485fb6.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2022-09-18-crafting-esolang-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2022-09-18-crafting-esolang-mdx-92b56992f868d5c72f86.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-05-03-spring-multi-module-architecture-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-05-03-spring-multi-module-architecture-mdx-1729401e4d67ebbda41c.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-07-10-effective-work-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-07-10-effective-work-mdx-2b575f2c80195b444282.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-07-17-railway-oriented-programming-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-07-17-railway-oriented-programming-mdx-630f8ba6acfa2477008d.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-07-24-functional-data-structure-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-07-24-functional-data-structure-mdx-bce9a1cc30b870af86ab.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-11-08-retrace-my-life-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-11-08-retrace-my-life-mdx-2688f43ce14f4136bb2f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-12-05-what-is-beautiful-code-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-12-05-what-is-beautiful-code-mdx-6021db15789f1a9ff63a.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2023-12-24-developers-learning-and-growth-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2023-12-24-developers-learning-and-growth-mdx-2e818111b1fd4bbc4c2f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-01-21-type-driven-development-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-01-21-type-driven-development-mdx-48abc8b5a7461f58ffe3.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-01-23-linear-method-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-01-23-linear-method-mdx-b8063a5798e3688c4aa1.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-02-18-render-delegation-react-component-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-02-18-render-delegation-react-component-mdx-be305c10eae2583e0392.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-03-03-ascii-3-d-renderer-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-03-03-ascii-3-d-renderer-mdx-6eb5695180f016f9f303.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-03-16-principles-of-debugging-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-03-16-principles-of-debugging-mdx-7b62463fe8d47752119a.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-04-14-encrypted-vault-system-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-04-14-encrypted-vault-system-mdx-5c10e5701e19286044a3.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-04-26-living-with-ai-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-04-26-living-with-ai-mdx-f15d5e1a7f1d1f3a29d3.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-05-10-the-shortcut-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-05-10-the-shortcut-mdx-368f620c5923da7e6b10.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-05-17-warp-and-weft-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-05-17-warp-and-weft-mdx-f4d31117d9acaf561485.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-08-log-1-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-08-log-1-mdx-6ea3904b80b88a0fdc2e.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-09-log-2-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-09-log-2-mdx-50aafe6c6789f4510b2c.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-10-log-3-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-10-log-3-mdx-d84eede5231c99d8e432.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-11-log-4-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-11-log-4-mdx-cebe8fa0961c0c6c9a7f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-12-log-5-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-12-log-5-mdx-c4f2c150b3d48841448f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-13-log-6-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-13-log-6-mdx-66f894f82e6286f8220a.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-15-log-7-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-15-log-7-mdx-dc56cf2bd37a3eef0c8a.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-06-18-log-8-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-06-18-log-8-mdx-dd52e24dfd78947904a4.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-07-09-best-prompt-engineering-lesson-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-07-09-best-prompt-engineering-lesson-mdx-d1a4fd8389018cf31d60.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-07-11-log-9-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-07-11-log-9-mdx-72105c56d01cce621a23.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-07-27-tidy-first-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-07-27-tidy-first-mdx-0646563efd77552134ad.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-07-29-copybook-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-07-29-copybook-mdx-367c4cf5def14f179ce3.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-10-12-the-aesthetics-of-destroying-software-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-10-12-the-aesthetics-of-destroying-software-mdx-00f9215b27ebe1df6909.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-10-27-music-recognition-system-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-10-27-music-recognition-system-mdx-d00a048b09929652fee9.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2024-11-10-developers-abstraction-structural-thinking-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2024-11-10-developers-abstraction-structural-thinking-mdx-6ed2bd53efe601bf3b4d.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-01-19-using-kotlin-script-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-01-19-using-kotlin-script-mdx-d636a52f8a3c083767f7.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-02-06-data-oriented-programming-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-02-06-data-oriented-programming-mdx-2780fb5e8cb471e0c6a0.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-02-19-coding-test-story-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-02-19-coding-test-story-mdx-dd579238f0a3b566c093.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-03-02-react-component-based-thinking-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-03-02-react-component-based-thinking-mdx-e910126b37b520265bbb.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-03-12-build-large-scale-react-web-apps-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-03-12-build-large-scale-react-web-apps-mdx-ec0a99548d1300dcd0a0.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-03-30-destruction-oriented-development-with-ai-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-03-30-destruction-oriented-development-with-ai-mdx-8abfdcdb4f69c7efface.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-09-new-kind-of-hallucination-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-09-new-kind-of-hallucination-mdx-b2367c7cc1ae0706d89b.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-10-mcp-from-ux-perspective-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-10-mcp-from-ux-perspective-mdx-5806e3f3d63d3cb4fee0.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-16-modeling-series-foreword-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-16-modeling-series-foreword-mdx-d9f46ed3d04f0539a80f.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-18-modeling-series-view-model-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-18-modeling-series-view-model-mdx-1b26e1f1fa4faa1b3394.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-23-modeling-series-conditional-tree-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-23-modeling-series-conditional-tree-mdx-d16e430a00a359290dc2.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-25-multi-paradigm-programming-book-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-25-multi-paradigm-programming-book-mdx-11e7885f20ea6dac59d4.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-04-26-how-to-build-an-agent-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-04-26-how-to-build-an-agent-mdx-001878fd7005b73ba36a.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-05-01-log-10-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-05-01-log-10-mdx-a05699914f4fdbf34afc.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-05-02-modeling-series-measure-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-05-02-modeling-series-measure-mdx-cca6a96cccf9bc6d5979.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2025-05-06-modeling-series-temporal-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2025-05-06-modeling-series-temporal-mdx-d2268ca269474ab8bb48.js\"],\"component---src-templates-post-tsx-content-file-path-src-posts-2026-02-18-how-to-design-animation-mdx\":[\"/component---src-templates-post-tsx-content-file-path-src-posts-2026-02-18-how-to-design-animation-mdx-c2d12e675791e8826709.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="2a0592a9685625554105";</script><script src="/webpack-runtime-8c170b47abcde1d0ba6c.js" async></script><script src="/app-b8455482493cd0c2ea69.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>