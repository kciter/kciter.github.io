<!DOCTYPE html><html lang="ko"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="color-scheme" content="light"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="alternate" type="application/rss+xml" title="kciter.so" href="/feed.xml"><title>모델링 시리즈: 시간 | kciter.so</title><meta name="description" content="들어가며 비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 '특정한 시간에 무언가를 한다'라는 중요한 계약로서 작용한다. 예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은…"><meta name="author" content="Lee Sun-Hyoup"><!-- Open Graph --><meta property="og:title" content="모델링 시리즈: 시간 | kciter.so"><meta property="og:description" content="들어가며 비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 '특정한 시간에 무언가를 한다'라는 중요한 계약로서 작용한다. 예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은…"><meta property="og:type" content="website"><meta property="og:site_name" content="kciter.so"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png"><meta property="og:url" content="https://kciter.so/posts/modeling-series-temporal/"><link rel="canonical" href="https://kciter.so/posts/modeling-series-temporal/"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="Sunhyoup Lee"><meta name="twitter:title" content="모델링 시리즈: 시간 | kciter.so"><meta name="twitter:description" content="들어가며 비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 '특정한 시간에 무언가를 한다'라는 중요한 계약로서 작용한다. 예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은…"><meta name="twitter:image" content="https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png"><!-- Additional meta from props --><meta name="article:published_time" content="2025-05-06T00:00:00+09:00"><meta name="image" content="https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png"><meta property="og:image" content="https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png"><meta property="og:image:secure_url" content="https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Serif:ital,wght@0,400;0,700;1,400&family=PT+Sans:wght@400&family=Source+Code+Pro&family=Quattrocento+Sans&display=swap"><!-- Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-7M8K7EBEDX"></script><script>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', 'G-7M8K7EBEDX');
        </script> <script type="application/ld+json">{"headline":"모델링 시리즈: 시간","dateModified":"2025-05-06T00:00:00+09:00","datePublished":"2025-05-06T00:00:00+09:00","image":"https://kciter.so/images/2025-05-06-modeling-series-temporal/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://kciter.so/posts/modeling-series-temporal/"},"author":{"@type":"Person","name":"Lee Sun-Hyoup"},"description":"들어가며 비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 '특정한 시간에 무언가를 한다'라는 중요한 계약로서 작용한다. 예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은…","url":"https://kciter.so/posts/modeling-series-temporal/","@type":"BlogPosting","@context":"https://schema.org"}</script> <link rel="stylesheet" href="/_astro/_slug_.D5IQWdfx.css">
<style>.name-gradient[data-astro-cid-k7qsseos]{background:linear-gradient(to right,#191335,#191335 33.33333%,#00ab6c 66.66666%,#00cb8c);background-clip:text;-webkit-text-fill-color:transparent;transition:all .3s ease;background-size:300% 100%;background-position:top left}.name-gradient[data-astro-cid-k7qsseos]:hover{background-position:top left 100%}@media(max-width:30rem){.sponsors[data-astro-cid-4kgnabjz] a:not(:first-of-type){margin-left:-16px}}.related-post[data-astro-cid-llggujpl]{position:relative;transform:scaleZ(1)}.related-post[data-astro-cid-llggujpl]:after{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:8px;transform:scale(1.06);transition:opacity 2s cubic-bezier(.165,.84,.44,1);box-shadow:0 8px 17px #0003,0 6px 20px #00000026;content:"";opacity:0;z-index:-1}.related-post[data-astro-cid-llggujpl]:hover{transform:scale3d(1.006,1.006,1)}.related-post[data-astro-cid-llggujpl]:hover:after{opacity:1}
</style></head> <body> <div class="mx-auto w-[715px] pt-4 max-md:w-[90vw]"> <div class="relative z-10 mb-10 -mx-4 rounded-xl bg-white/40 px-4 py-2.5 font-['Quattrocento_Sans',sans-serif] backdrop-blur-[44px] max-md:-mx-4 max-md:-mt-4 max-md:mb-8 max-md:rounded-none max-md:bg-transparent max-md:backdrop-blur-none" data-astro-cid-3ef6ksr2> <div class="mt-2 w-full" data-astro-cid-3ef6ksr2> <a href="/" class="site-title text-[32px] font-black" style="line-height: 1.15; text-decoration: none; margin-right: 5px;" data-astro-cid-3ef6ksr2>kciter.so</a> <small class="text-[#999]" data-astro-cid-3ef6ksr2>devlog</small> </div> <nav class="flex w-full justify-between pt-2" data-astro-cid-3ef6ksr2> <div class="flex items-center" data-astro-cid-3ef6ksr2> <a href="/timeline/" class="menu-item updated" data-astro-cid-3ef6ksr2>
Timeline
</a> <div class="dropdown" data-astro-cid-3ef6ksr2> <span class="menu-item dropdown-trigger" id="posts-trigger" data-astro-cid-3ef6ksr2>
Posts <span class="chevron" data-astro-cid-3ef6ksr2>&#9662;</span> </span> <div class="dropdown-menu" data-astro-cid-3ef6ksr2> <a href="/articles/" class="dropdown-item" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="dropdown-item" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="dropdown-item" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <a href="https://kciter.so/talks/" class="menu-item" data-astro-cid-3ef6ksr2>Talks</a> <a href="/about/" class="menu-item" data-astro-cid-3ef6ksr2>About</a> </div> <div class="flex items-center gap-3" data-astro-cid-3ef6ksr2> <button id="search-btn" class="search-btn" aria-label="Search" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> </button> <div class="max-md:hidden" data-astro-cid-3ef6ksr2> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </nav> <!-- Mobile sub-tab (hidden by default) --> <div class="mobile-tabs" id="mobile-tabs" data-astro-cid-3ef6ksr2> <a href="/articles/" class="mobile-tab" data-astro-cid-3ef6ksr2>Articles</a> <a href="/bookshelf/" class="mobile-tab" data-astro-cid-3ef6ksr2>Bookshelf</a> <a href="/thought/" class="mobile-tab" data-astro-cid-3ef6ksr2>Thoughts</a> </div> </div> <!-- Search Modal --> <div id="search-modal" class="search-modal" data-astro-cid-3ef6ksr2> <div class="search-backdrop" data-astro-cid-3ef6ksr2></div> <div class="search-container" data-astro-cid-3ef6ksr2> <div class="search-input-wrap" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <circle cx="11" cy="11" r="8" data-astro-cid-3ef6ksr2></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-3ef6ksr2></line> </svg> <input id="search-input" type="text" placeholder="Search posts..." autocomplete="off" data-astro-cid-3ef6ksr2> <kbd class="search-kbd" data-astro-cid-3ef6ksr2>ESC</kbd> </div> <div id="search-results" class="search-results" data-astro-cid-3ef6ksr2></div> </div> </div>  <script type="module">const o=document.getElementById("posts-trigger"),l=document.getElementById("mobile-tabs");if(o&&l){const e=o.querySelector(".chevron");o.addEventListener("click",t=>{window.innerWidth<=768&&(t.preventDefault(),l.classList.toggle("open"),e?.classList.toggle("open"))});const i=window.location.pathname;l.querySelectorAll(".mobile-tab").forEach(t=>{i.startsWith(t.getAttribute("href")||"")&&t.classList.add("active")})}let s=null;async function m(){if(s)return s;try{s=await import(new URL("/pagefind/pagefind.js",window.location.origin).href),await s.init()}catch{console.warn("Pagefind not available (run build first)")}return s}const c=document.getElementById("search-modal"),r=document.getElementById("search-input"),a=document.getElementById("search-results"),p=document.getElementById("search-btn"),v=c.querySelector(".search-backdrop");function f(){c.classList.add("open"),r.value="",a.innerHTML="",setTimeout(()=>r.focus(),50),m()}function d(){c.classList.remove("open")}p.addEventListener("click",f);v.addEventListener("click",d);document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),c.classList.contains("open")?d():f()),e.key==="Escape"&&d()});let u;r.addEventListener("input",()=>{clearTimeout(u),u=setTimeout(()=>g(r.value),200)});async function g(e){if(!e.trim()){a.innerHTML="";return}const i=await m();if(!i){a.innerHTML='<div class="search-no-results">Search is not available in dev mode.</div>';return}const t=await i.search(e);if(t.results.length===0){a.innerHTML='<div class="search-no-results">No results found.</div>';return}const h=await Promise.all(t.results.slice(0,10).map(n=>n.data()));a.innerHTML=h.map(n=>`
        <a href="${n.url}" class="search-result-item">
          <div class="search-result-title">${n.meta?.title||n.url}</div>
          <div class="search-result-excerpt">${n.excerpt}</div>
        </a>
      `).join("")}</script> <div class="post-container">   <h1 class="post-title">모델링 시리즈: 시간</h1> <span class="post-date">Written on May 6, 2025</span> <img src="/images/2025-05-06-modeling-series-temporal/thumbnail.png" alt="모델링 시리즈: 시간" style="width: 100%;"><div class="toc" data-margin-top="50"><ul class="toc-list"><li><a href="#들어가며">들어가며</a></li><li><a href="#시간이란-무엇인가">시간이란 무엇인가?</a></li><li><a href="#측도와-무엇이-다른가">측도와 무엇이 다른가?</a></li><li><a href="#시간을-어떤-기준으로-사용해야-하는가">시간을 어떤 기준으로 사용해야 하는가?</a><ul class="toc-list"><li><a href="#순수한-시간">순수한 시간</a></li><li><a href="#utc">UTC</a></li><li><a href="#time-zone이-적용된-시간">Time Zone이 적용된 시간</a></li></ul></li><li><a href="#시간을-어떻게-모델링할-것인가">시간을 어떻게 모델링할 것인가?</a></li><li><a href="#사용-사례에-따른-시간-모델링">사용 사례에 따른 시간 모델링</a><ul class="toc-list"><li><a href="#시점point-in-time">시점(Point in Time)</a></li><li><a href="#기간duration">기간(Duration)</a></li><li><a href="#시간-간격interval">시간 간격(Interval)</a></li><li><a href="#반복recurrence">반복(Recurrence)</a></li></ul></li><li><a href="#시간-연산과-변환">시간 연산과 변환</a></li><li><a href="#사용-사례">사용 사례</a><ul class="toc-list"><li><a href="#이벤트-스케줄링">이벤트 스케줄링</a></li><li><a href="#타임라인-분석">타임라인 분석</a></li><li><a href="#근무-시간-추적">근무 시간 추적</a></li></ul></li><li><a href="#마치며">마치며</a><ul class="toc-list"><li><a href="#footnote-label">Footnotes</a></li></ul></li></ul></div><div class="mt-2 box-border w-full rounded-lg bg-[#f8f9fa] p-4"> <div class="mb-2 text-xl font-bold">모델링 시리즈</div> <ul style="margin: 0; padding: 0; padding-left: 24px;"> <li style> <a href="/posts/modeling-series-foreword/" style="text-decoration: none; color: #333;"> 모델링 시리즈: 서문 </a> </li><li style> <a href="/posts/modeling-series-view-model/" style="text-decoration: none; color: #333;"> 모델링 시리즈: 뷰모델 </a> </li><li style> <a href="/posts/modeling-series-conditional-tree/" style="text-decoration: none; color: #333;"> 모델링 시리즈: 조건 트리 </a> </li><li style> <a href="/posts/modeling-series-measure/" style="text-decoration: none; color: #333;"> 모델링 시리즈: 측도 </a> </li><li style="color: #00a962;"> <a href="/posts/modeling-series-temporal/" style="text-decoration: none; color: #333; font-weight: bold;"> 모델링 시리즈: 시간 </a> </li> </ul> </div><div class="post-content" data-pagefind-body>  <h1 id="들어가며"><a href="#들어가며">들어가며</a></h1>
<p>비즈니스에 있어 시간은 매우 중요한 요소다. 사람들은 예측 가능한 것을 원하며 시간은 비즈니스적 관점에서 ‘특정한 시간에 무언가를 한다’라는 중요한 계약로서 작용한다.</p>
<p>예를 들어, 예약 시작 시간이나 무언가에 대한 만료일, 기한 같은 비즈니스 흐름은 모두 일종의 계약이라 할 수 있다. 이러한 계약에서 문제가 발생할 경우 사용자는 큰 실망을 하게되며 이는 손실로 이어질 수 있다.</p>
<p>따라서 소프트웨어 개발에서 시간은 조심해서 다루어야 하는 요소라고 할 수 있다. 이번 글에서는 시간을 소프트웨어 관점에서 어떻게 바라보아야 하는지, 어떻게 모델링할 수 있는지에 대해 알아볼 것이다.</p>
<h1 id="시간이란-무엇인가"><a href="#시간이란-무엇인가">시간이란 무엇인가?</a></h1>
<p>시간은 이미 추상화된 개념이다. 따라서 시간을 물리적 측정값으로서 바라볼 수도 있고 역사적, 문화적 관점에서 바라보는 등 다양한 관점에서 바라볼 수 있다. 보통 우리가 시간을 이야기할 때는 다음과 같은 관점을 고려한다.</p>
<ul>
<li><strong>물리량</strong>
<ul>
<li>시간은 물리학 관점에서 봤을 때 시각과 시각 사이의 간격을 표현하는 단위를 뜻한다.</li>
<li>ex) 지금 이 순간(Instant)은 빅뱅(Epoch) 이후 시간이 얼마나 흘렀는가?</li>
</ul>
</li>
<li><strong>위치</strong>
<ul>
<li>시간은 위치에 따라 다르게 표현될 수 있다.</li>
<li>ex) 경도 0도(UTC)가 정오일 때 동경 135도의 시각은? (경도상 위치)</li>
<li>ex) 런던이 정오일 때 프랑스의 시각은? (국가, 지역)</li>
</ul>
</li>
<li><strong>천문 현상</strong>
<ul>
<li>지구자전속도의 불규칙성, 지구의 자전주기와 공전주기 등 천문 현상으로 인해 시간은 보정이 필요하다.</li>
<li>ex) 윤초, 윤달, 윤년</li>
</ul>
</li>
<li><strong>문화</strong>
<ul>
<li>문화에 따라 시간 표현이 다를 수 있다.</li>
<li>ex) 태양력, 태음력, 이슬람력, 에티오피아력 등</li>
</ul>
</li>
<li><strong>역사</strong>
<ul>
<li>역사적 사건에 의해 시간은 다르게 표현될 수 있다.</li>
<li>ex) 1582년 10월 4일의 다음 날은?</li>
</ul>
</li>
<li><strong>사회</strong>
<ul>
<li>사회적 제도에 의해 시간은 변할 수 있다.</li>
<li>ex) 일광 시간 절약제(Summer Time)</li>
</ul>
</li>
</ul>
<p>우리는 꽤 많은 조건을 고려하여 시간을 표현한다. 현실 세계에선 서로 같은 맥락을 공유하기 때문에 의사소통에 문제가 없지만 소프트웨어 세계에선 규칙을 제공해야 한다.</p>
<p>물리량과 위치, 천문 현상을 수학식으로 계산하는 것이 가능하지만 역사적 사건이나 사회적 제도는 규칙이 존재하지 않기에 단순히 수학식으로 시간을 계산할 수 없다. 예를 들어, 1582년 10월 4일의 다음 날은 1582년 10월 15일이다. 이는 역사적 사건에 의해 결정된 것이며, 단순히 수학식으로 계산할 수 없다. 또한, 일광 시간 절약제와 같은 사회적 제도는 각 국가나 지역에 따라 다르게 적용되기 때문에 이를 고려해야 한다. 게다가 문화에 따라 시간을 표현하는 방법이 다를 수 있다는 점도 골치아프다.</p>
<p>그렇기에 통일된 시간 표기법을 위한 <a href="https://ko.wikipedia.org/wiki/%ED%98%91%EC%A0%95_%EC%84%B8%EA%B3%84%EC%8B%9C" rel="noopener noreferrer" target="_blank">협정 세계시</a>가 탄생했다. UTC는 <a href="https://ko.wikipedia.org/wiki/%EA%B5%AD%EC%A0%9C%EC%9B%90%EC%9E%90%EC%8B%9C" rel="noopener noreferrer" target="_blank">원자 시계</a>와 윤초 보정을 기반으로 표준화한 시각으로 모든 시간대는 UTC+0을 기준으로 환산한다. 예를 들어, 대한민국의 시간은 UTC 시간에 +9를 더한 시간으로 영국 시간이 오전 1시라면 대한민국은 오전 10시<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref aria-describedby="footnote-label">1</a></sup>가 된다. UTC는 <a href="https://ko.wikipedia.org/wiki/ISO_8601" rel="noopener noreferrer" target="_blank">ISO 8601</a>을 따라 다음과 같은 표기법을 따른다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>// UTC+0 기준 2021년 3월 20일 9시</span></span>
<span class="line"><span>2021-03-20T09:00:00.000Z</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// UTC+9 (한국 시간) 기준 2021년 3월 20일 9시</span></span>
<span class="line"><span>2021-03-20T09:00:00.000+09:00</span></span></code></pre>
<p>가운데 <code>T</code>는 Time을 뜻하고 시간 뒤 <code>Z</code>는 Zulu time<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref aria-describedby="footnote-label">2</a></sup> 을 뜻한다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/utc.png" alt="국가마다 시간대가 다르다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>국가마다 시간대가 다르다</figcaption></figure>
<p>참고로 국가, 지역마다 경도상 시간과 국가 시간이 다를 수 있다. 아이슬란드의 경우 경도상 위치는 UTC-1이지만 UTC+0을 사용하고 있다.</p>
<h1 id="측도와-무엇이-다른가"><a href="#측도와-무엇이-다른가">측도와 무엇이 다른가?</a></h1>
<p>이전 글에서 우리는 측도 개념을 통해 여러 물리적 수량을 모델링하는 방법을 알아보았다. 단순히 년, 월, 일과 같은 것을 표현한다면 시간을 측도 모델을 통해서 표현할 수 있지만, 시간은 단순한 측도와는 다른 특성을 갖고 있다. 따라서 시간 모델링은 일반적인 측도 모델링과는 다른 접근이 필요하다.</p>
<ol>
<li>시간은 선형적인 변환이 불가능한 단위가 있다. 대부분의 측도는 단위 간 변환이 일정한 비율로 이루어진다. 예를 들어 1kg = 1000g, 1m = 100cm와 같이 명확한 변환 관계가 있다. 하지만 시간에서는 ‘월’과 같은 단위는 28일, 29일, 30일, 31일 등 상황에 따라 다른 길이를 갖는다.</li>
<li>시간은 다양한 캘린더 시스템과 타임존의 개념이 존재한다. 그레고리안 달력, 음력, 이슬람력 등 다양한 달력 시스템이 있으며, 각 지역별로 서로 다른 타임존이 적용된다. 이는 시간 계산을 복잡하게 만드는 요소다.</li>
<li>시간은 단순한 수량이 아닌 ‘시점’이라는 특별한 개념을 갖고 있다. “2023년 5월 1일 오전 10시”와 같은 시점은 단순한 측정값이 아니라, 시간의 흐름 속 특정 위치를 나타낸다.</li>
</ol>
<p>이러한 특성들 때문에 시간은 일반적인 측도 모델링으로는 부족하며, 더 정교한 모델링이 필요하다. 따라서 이번 글에서는 시간을 여러 관점에서 살펴보고, 각 관점에 맞는 모델링 방법을 알아볼 것이다.</p>
<h1 id="시간을-어떤-기준으로-사용해야-하는가"><a href="#시간을-어떤-기준으로-사용해야-하는가">시간을 어떤 기준으로 사용해야 하는가?</a></h1>
<p>많은 개발자가 크게 신경쓰지 않지만 시간은 소프트웨어에서 조심히 다뤄야하는 요소다. 시간은 비즈니스에서 중요한 역할을 하며, 시간에 따라 비즈니스의 흐름이 달라질 수 있다. 예를 들어, 주식 거래소는 시세가 변동하는 시간에 따라 거래가 이루어지기 때문에 시간을 정확히 기록해야 한다. 또한, 사용자가 상품을 결제할 때도 시간을 정확히 기록해야 한다. 이러한 이유로 시간은 매우 중요한 요소다.</p>
<p>이러한 시간은 사용 사례에 따라 다르게 사용해야 한다. 예를 들어, 사용자가 상품을 결제할 때는 사용자의 시간대를 고려해야 하지만, 로그를 기록할 때는 UTC를 사용하는 것이 좋다. 이러한 이유로 시간은 사용 사례에 따라 다르게 사용해야 한다.</p>
<h2 id="순수한-시간"><a href="#순수한-시간">순수한 시간</a></h2>
<p>필자의 생일은 1월 26일이다. 갑자기 생일 이야기를 한 것은 순수한 시간을 설명하기에 적합하기 때문이다. 보다시피 보통 생일은 시간대를 고려하지 않고 말한다. 만약 필자가 <strong>“내가 한국에서 1월 26일에 태어났지만 미국 시간으로 따지면 1월 25일에 태어났으니 미국 생일은 1월 25일이야”</strong>라고 말하고 다닌다면 정말 이상한 사람이라고 생각할 것이다.</p>
<p>이처럼 시간대와 지역, 문화, 사회를 고려하지 않고 순수한 시간과 날짜를 사용해야하는 경우가 있다. 좀 더 예를 들어보자면 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>생일</li>
<li>기업 설립일</li>
<li>기념일</li>
<li>국경일</li>
</ul>
<p>혹은 기록을 위해 시간을 사용하지 않는 경우에도 순수한 시간을 사용할 때가 있다. 보통 벤치마킹을 하기 위해 시간을 사용하거나 유니크한 값을 만들어내기 위해 사용하기도 한다. 혹은 랜덤 값 SEED 용도로 사용될 수도 있다.</p>
<h2 id="utc"><a href="#utc">UTC</a></h2>
<p>역사, 사회, 문화에 대한 맥락 없이 <strong>‘사건이 발생한 시각’</strong>만을 고려할 땐 UTC를 사용하여 시간을 기록하는 것이 좋다. 가장 대표적인 예시로 <strong>로깅</strong>을 들 수 있다. 로그는 분산되어 저장될 수 있기에 발생한 순서를 쉽게 알기 위해선 UTC처럼 기준이 되는 시간대를 정하는 것이 좋다. 만약 로그가 기록된 시간에 타임존이 적용되어 발생한 곳 마다 다르게 시간이 적용된다면 큰 혼란이 생길 수 있다. 마찬가지로 자주 사용하는 <code>createdAt</code>, <code>updatedAt</code>도 UTC로 기록하는 것이 좋다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/stock-chart.png" alt="주식 차트는 대표적인 시계열 데이터다" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/><figcaption>주식 차트는 대표적인 시계열 데이터다</figcaption></figure>
<p>또 다른 사용 예시로 시계열 데이터를 들 수 있다. 시계열 데이터의 경우 시간에 종속된 연속적인 데이터를 말하는데 UTC처럼 시간대가 정해진 상태로 기록된게 아니라면 언제 저장된 시간인지 알 수 없어 잘못된 분석으로 이어질 수 있다. 추가로 UTC는 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>로그</li>
<li>감사</li>
<li>시계열 데이터</li>
<li><code>createdAt</code>, <code>updatedAt</code></li>
</ul>
<h2 id="time-zone이-적용된-시간"><a href="#time-zone이-적용된-시간">Time Zone이 적용된 시간</a></h2>
<p>반면 사용자가 이용한 시각을 정확히 알기위해 Time Zone을 사용해야 할 떄도 있다. 예를 들면, 사용자가 상품을 결제했을 때 UTC 시간만 기록했다면 사용자가 정확히 몇시 몇분 몇초에 주문했는지 알 수가 없다. 이때 정확한 시각을 알기 위해선 데이터베이스에 Zone Id도 함께 기록해야 한다. 또한, UI에 표시되는 시간을 사용자 기준으로 보여주기 위해서도 Time Zone은 필요하다.</p>
<figure><img src="/images/2025-05-06-modeling-series-temporal/facebook.png" alt="" loading="lazy" width="100%" style="cursor:default;margin:0 auto;display:block"/></figure>
<p>예를 들어, 같은 페이스북 게시물을 보더라도 사는 나라가 다르다면 작성한 시간이 다를 수 있다. 필자가 3월 15일 오후 12시 31분에 작성한 게시물은 영국 사람이 보기엔 새벽 3시 31분에 작성한 것으로 보일 것이고 하와이에 사는 사람이 보기엔 3월 14일 오후 5시 31분에 작성한 것으로 보일 것이다.</p>
<p>그렇기 때문에 글로벌 서비스를 준비한다면 사용자 혹은 사용자가 포함되는 그룹 데이터에 Zone Id 정보를 추가해야 한다. 추가로 Time Zone이 적용된 시간은 다음과 같은 사례에 쓰일 수 있다.</p>
<ul>
<li>결제 시각</li>
<li>푸시 알림 시각</li>
<li>UI 시각 표시</li>
<li>캘린더</li>
</ul>
<p>UI에 내려주는 JSON 데이터 예시는 다음과 같다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="js"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#032F62">  &quot;userId&quot;</span><span style="color:#24292E">: </span><span style="color:#005CC5">1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">  &quot;name&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;이선협&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">  &quot;zoneId&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;Asia/Seoul&quot;</span><span style="color:#24292E">, </span><span style="color:#6A737D">// Time Zone을 위한 Zone Id</span></span>
<span class="line"><span style="color:#032F62">  &quot;birthdate&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;1994-01-26&quot;</span><span style="color:#24292E">, </span><span style="color:#6A737D">// 순수한 시간</span></span>
<span class="line"><span style="color:#032F62">  &quot;createdAt&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;2021-03-20T04:59:25Z&quot;</span><span style="color:#24292E">, </span><span style="color:#6A737D">// 기준 시간 UTC</span></span>
<span class="line"><span style="color:#032F62">  &quot;updatedAt&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;2021-03-20T05:12:38Z&quot;</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">  &quot;posts&quot;</span><span style="color:#24292E">: [</span></span>
<span class="line"><span style="color:#24292E">    {</span></span>
<span class="line"><span style="color:#032F62">      &quot;postId&quot;</span><span style="color:#24292E">: </span><span style="color:#005CC5">1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">      &quot;publishedAt&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;2021-03-20T06:00:00Z&quot;</span><span style="color:#24292E">, </span><span style="color:#6A737D">// 기준 시간 오전 6시에 발행됨</span></span>
<span class="line"><span style="color:#6A737D">      // publishedAt은 user의 zondId에 따라 다르게 보일 수 있다.</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  ]</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<h1 id="시간을-어떻게-모델링할-것인가"><a href="#시간을-어떻게-모델링할-것인가">시간을 어떻게 모델링할 것인가?</a></h1>
<p>시간 모델링을 고려할 때 단순히 특정 구현을 선택하는 것보다 시간이라는 도메인을 정확히 표현할 수 있는 모델을 구축하는 것이 중요하다. 앞서 살펴본 시간의 다양한 특성과 사용 사례를 효과적으로 지원하기 위해 통합된 시간 모델링 접근법을 살펴보자.</p>
<p>시간 모델링의 첫 단계는 모든 공통 기반이 되는 핵심 인터페이스를 정의하는 것이다. 다음 인터페이스는 시간 관련 모든 클래스가 공유해야 할 최소한의 기능을 제공한다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 모든 시간 관련 개념의 기본 인터페이스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> Temporal</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">  // 다른 시간 개념으로 변환하는 메서드들</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> asInstant</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Instant</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> withZone</span><span style="color:#24292E">(zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#24292E">): </span><span style="color:#6F42C1">ZonedTemporal</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 비교 메서드</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isBefore</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Temporal</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isAfter</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Temporal</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isEqual</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Temporal</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 포맷팅</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> format</span><span style="color:#24292E">(pattern: </span><span style="color:#6F42C1">String</span><span style="color:#24292E">, zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()): </span><span style="color:#6F42C1">String</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 시간대 정보를 포함하는 시간 개념</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">interface</span><span style="color:#6F42C1"> ZonedTemporal</span><span style="color:#24292E"> : </span><span style="color:#6F42C1">Temporal</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> zone: </span><span style="color:#6F42C1">ZoneId</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p><code>Temporal</code> 인터페이스는 모든 시간 관련 개념의 기본이 되는 메서드를 정의한다. 여기에는 Java의 <code>Instant</code>로 변환하는 메서드, 시간대를 적용하는 메서드, 비교 메서드, 포맷팅 메서드 등이 포함된다. 이 인터페이스를 기반으로 4가지 주요 시간 패턴에 대한 인터페이스를 구현할 수 있다.</p>
<h1 id="사용-사례에-따른-시간-모델링"><a href="#사용-사례에-따른-시간-모델링">사용 사례에 따른 시간 모델링</a></h1>
<p>시간은 사용 사례에 따라 다르게 다른 모델링 접근법이 필요하다. 주요 사용 사례를 살펴보면 다음과 같다.</p>
<ul>
<li>시점(Point in Time)<br/>시점은 시간의 흐름 속 특정 순간을 나타낸다. 예를 들어 “2023년 5월 1일 오전 10시”는 시점이다. 시점은 달력 날짜와 시계 시간의 조합으로 표현되며, 타임존 정보를 포함할 수 있다. 시점 모델링의 핵심은 특정 순간을 정확히 식별하는 것이다.</li>
<li>기간(Duration)<br/>기간은 시간의 양을 나타낸다. “3시간”, “2일”, “4주” 등이 기간의 예시다. 기간은 시작점이나 끝점에 관계없이 순수한 시간의 길이를 표현한다. 기간은 측도와 가장 유사한 특성을 갖지만, 다양한 단위 간 변환이 복잡하다는 차이점이 있다.</li>
<li>시간 간격(Interval)<br/>시간 간격은 시작 시점과 끝 시점 사이의 범위를 나타낸다. “2023년 5월 1일부터 2023년 5월 5일까지”와 같이 표현된다. 시간 간격은 시작점과 끝점을 명확히 정의하며, 그 사이의 기간을 계산할 수 있다.</li>
<li>반복(Recurrence)<br/>반복은 일정한 패턴으로 발생하는 시간 이벤트를 나타낸다. “매주 월요일 오전 10시”, “매월 첫째 주 토요일”, “2년마다 2월 29일” 등이 반복의 예시다. 반복은 복잡한 규칙을 포함할 수 있으며, 일정 관리나 스케줄링에서 중요한 개념이다.</li>
</ul>
<p>이제 각 관점에 따른 시간 모델링을 살펴보자.</p>
<h2 id="시점point-in-time"><a href="#시점point-in-time">시점(Point in Time)</a></h2>
<p>시점을 모델링하기 위해서는 날짜, 시간, 타임존 정보를 모두 고려해야 한다. 먼저 시점을 나타내는 <strong>TimePoint</strong> 클래스를 정의해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.Instant</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.LocalDateTime</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.ZoneId</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.ZonedDateTime</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.format.DateTimeFormatter</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 시간의 특정 시점을 표현하는 클래스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#D73A49"> private</span><span style="color:#6F42C1"> constructor</span><span style="color:#24292E">(</span><span style="color:#D73A49">private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> instant: </span><span style="color:#6F42C1">Instant</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  companion</span><span style="color:#D73A49"> object</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">    // 현재 시점 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> now</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(Instant.</span><span style="color:#6F42C1">now</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // Epoch 밀리초로부터 시점 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> fromEpochMilli</span><span style="color:#24292E">(epochMilli: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(Instant.</span><span style="color:#6F42C1">ofEpochMilli</span><span style="color:#24292E">(epochMilli))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // ISO 8601 문자열로부터 시점 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> fromIsoString</span><span style="color:#24292E">(isoString: </span><span style="color:#6F42C1">String</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(Instant.</span><span style="color:#6F42C1">parse</span><span style="color:#24292E">(isoString))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 날짜/시간 컴포넌트로부터 시점 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(year: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">, month: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">, day: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">, hour: </span><span style="color:#6F42C1">Int</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">, minute: </span><span style="color:#6F42C1">Int</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">, </span></span>
<span class="line"><span style="color:#24292E">            second: </span><span style="color:#6F42C1">Int</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">, nanoOfSecond: </span><span style="color:#6F42C1">Int</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">, zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> zonedDateTime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> ZonedDateTime.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(year, month, day, hour, minute, second, nanoOfSecond, zone)</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(zonedDateTime.</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 다양한 포맷으로 시점 표현</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> toIsoString</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">String</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> instant.</span><span style="color:#6F42C1">toString</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> toEpochMilli</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Long</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> instant.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> format</span><span style="color:#24292E">(pattern: </span><span style="color:#6F42C1">String</span><span style="color:#24292E">, zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()): </span><span style="color:#6F42C1">String</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> formatter </span><span style="color:#D73A49">=</span><span style="color:#24292E"> DateTimeFormatter.</span><span style="color:#6F42C1">ofPattern</span><span style="color:#24292E">(pattern)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> zonedDateTime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> ZonedDateTime.</span><span style="color:#6F42C1">ofInstant</span><span style="color:#24292E">(instant, zone)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> zonedDateTime.</span><span style="color:#6F42C1">format</span><span style="color:#24292E">(formatter)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 특정 타임존에서의 시간 정보 가져오기</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> inZone</span><span style="color:#24292E">(zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#24292E">): </span><span style="color:#6F42C1">ZonedDateTime</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZonedDateTime.</span><span style="color:#6F42C1">ofInstant</span><span style="color:#24292E">(instant, zone)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 시점 비교</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isBefore</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> instant.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(other.instant)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isAfter</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> instant.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(other.instant)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 시점 연산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> plus</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(instant.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(duration.</span><span style="color:#6F42C1">toJavaDuration</span><span style="color:#24292E">()))</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> minus</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimePoint</span><span style="color:#24292E">(instant.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(duration.</span><span style="color:#6F42C1">toJavaDuration</span><span style="color:#24292E">()))</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 시점 간 기간 계산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> until</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> Duration.</span><span style="color:#6F42C1">between</span><span style="color:#24292E">(</span><span style="color:#005CC5">this</span><span style="color:#24292E">, other)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> equals</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Any</span><span style="color:#24292E">?): </span><span style="color:#6F42C1">Boolean</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#D73A49"> ===</span><span style="color:#24292E"> other) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> true</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (other </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> TimePoint) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> false</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> instant </span><span style="color:#D73A49">==</span><span style="color:#24292E"> other.instant</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> hashCode</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Int</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> instant.</span><span style="color:#6F42C1">hashCode</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> toString</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">String</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> toIsoString</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이 클래스는 내부적으로 Java의 <code>Instant</code> 클래스를 사용하여 시점을 표현한다. <code>Instant</code>는 UTC 기준 에포크 시간(1970년 1월 1일 00:00:00 UTC)부터의 시간 경과를 나노초 정밀도로 표현한다. 이는 전 세계 어디서나 동일한 순간을 고유하게 식별할 수 있는 방법이다.</p>
<h2 id="기간duration"><a href="#기간duration">기간(Duration)</a></h2>
<p>기간은 시간의 양을 나타내므로, 우리의 측도 모델과 유사하게 모델링할 수 있다. 다만, 시간 단위 간 변환이 복잡하다는 점을 고려해야 한다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.temporal.ChronoUnit</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.util.concurrent.TimeUnit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 시간의 양(기간)을 표현하는 클래스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> Duration</span><span style="color:#D73A49"> private</span><span style="color:#6F42C1"> constructor</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#D73A49"> value</span><span style="color:#24292E">: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> unit: </span><span style="color:#6F42C1">TimeUnit</span></span>
<span class="line"><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  companion</span><span style="color:#D73A49"> object</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">    // 기본 팩토리 메서드</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">, unit: </span><span style="color:#6F42C1">TimeUnit</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> Duration</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">, unit)</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 편의 메서드</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofNanos</span><span style="color:#24292E">(nanos: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(nanos, TimeUnit.NANOSECONDS)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofMicros</span><span style="color:#24292E">(micros: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(micros, TimeUnit.MICROSECONDS)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofMillis</span><span style="color:#24292E">(millis: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(millis, TimeUnit.MILLISECONDS)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofSeconds</span><span style="color:#24292E">(seconds: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(seconds, TimeUnit.SECONDS)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofMinutes</span><span style="color:#24292E">(minutes: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(minutes, TimeUnit.MINUTES)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofHours</span><span style="color:#24292E">(hours: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(hours, TimeUnit.HOURS)</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> ofDays</span><span style="color:#24292E">(days: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(days, TimeUnit.DAYS)</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 두 시점 사이의 기간 계산</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> between</span><span style="color:#24292E">(start: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">, end: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> millis </span><span style="color:#D73A49">=</span><span style="color:#24292E"> end.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">() </span><span style="color:#D73A49">-</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#6F42C1"> ofMillis</span><span style="color:#24292E">(millis)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> ZERO </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> ofMillis</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 단위 변환</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> to</span><span style="color:#24292E">(targetUnit: </span><span style="color:#6F42C1">TimeUnit</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> convertedValue </span><span style="color:#D73A49">=</span><span style="color:#24292E"> targetUnit.</span><span style="color:#6F42C1">convert</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">, unit)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(convertedValue, targetUnit)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 기간 연산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> plus</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> otherNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> other.unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(other.</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#6F42C1"> ofNanos</span><span style="color:#24292E">(thisNanos </span><span style="color:#D73A49">+</span><span style="color:#24292E"> otherNanos)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> minus</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> otherNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> other.unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(other.</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#6F42C1"> ofNanos</span><span style="color:#24292E">(thisNanos </span><span style="color:#D73A49">-</span><span style="color:#24292E"> otherNanos)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> multipliedBy</span><span style="color:#24292E">(factor: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#D73A49"> *</span><span style="color:#24292E"> factor, unit)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> dividedBy</span><span style="color:#24292E">(divisor: </span><span style="color:#6F42C1">Long</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#D73A49"> /</span><span style="color:#24292E"> divisor, unit)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // Java Duration으로 변환</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> toJavaDuration</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">java</span><span style="color:#24292E">.time.Duration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> java.time.Duration.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">, </span><span style="color:#6F42C1">chronoUnit</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 시간 단위를 ChronoUnit으로 변환</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> chronoUnit</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">ChronoUnit</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> when</span><span style="color:#24292E"> (unit) {</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.NANOSECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.NANOS</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.MICROSECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.MICROS</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.MILLISECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.MILLIS</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.SECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.SECONDS</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.MINUTES </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.MINUTES</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.HOURS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.HOURS</span></span>
<span class="line"><span style="color:#24292E">    TimeUnit.DAYS </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> ChronoUnit.DAYS</span></span>
<span class="line"><span style="color:#D73A49">    else</span><span style="color:#D73A49"> -&gt;</span><span style="color:#D73A49"> throw</span><span style="color:#6F42C1"> IllegalArgumentException</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Unsupported time unit: </span><span style="color:#005CC5">$unit</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 비교 연산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isZero</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> value</span><span style="color:#D73A49"> ==</span><span style="color:#005CC5"> 0L</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isPositive</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> value</span><span style="color:#D73A49"> &gt;</span><span style="color:#005CC5"> 0</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isNegative</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> value</span><span style="color:#D73A49"> &lt;</span><span style="color:#005CC5"> 0</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> equals</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Any</span><span style="color:#24292E">?): </span><span style="color:#6F42C1">Boolean</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#D73A49"> ===</span><span style="color:#24292E"> other) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> true</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (other </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> Duration) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> false</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 같은 단위로 변환하여 비교</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> otherNanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> other.unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(other.</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> thisNanos </span><span style="color:#D73A49">==</span><span style="color:#24292E"> otherNanos</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> hashCode</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Int</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> nanos </span><span style="color:#D73A49">=</span><span style="color:#24292E"> unit.</span><span style="color:#6F42C1">toNanos</span><span style="color:#24292E">(</span><span style="color:#D73A49">value</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> nanos.</span><span style="color:#6F42C1">hashCode</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> toString</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">String</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> when</span><span style="color:#24292E"> (unit) {</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.NANOSECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}ns&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.MICROSECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}µs&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.MILLISECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}ms&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.SECONDS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}s&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.MINUTES </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}m&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.HOURS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}h&quot;</span></span>
<span class="line"><span style="color:#24292E">      TimeUnit.DAYS </span><span style="color:#D73A49">-&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">}d&quot;</span></span>
<span class="line"><span style="color:#D73A49">      else</span><span style="color:#D73A49"> -&gt;</span><span style="color:#032F62"> &quot;${</span><span style="color:#D73A49">value</span><span style="color:#032F62">} ${unit.name.</span><span style="color:#6F42C1">lowercase</span><span style="color:#032F62">()}&quot;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이 클래스는 Java의 <code>TimeUnit</code>을 활용하여 다양한 시간 단위를 지원한다. 내부적으로는 가장 작은 단위(나노초)로 모든 계산을 수행하여 정확성을 보장한다.</p>
<h2 id="시간-간격interval"><a href="#시간-간격interval">시간 간격(Interval)</a></h2>
<p>시간 간격은 시작 시점과 끝 시점으로 구성된다. 이를 모델링해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 시작 시점과 끝 시점 사이의 시간 간격을 표현하는 클래스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> TimeInterval</span><span style="color:#D73A49"> private</span><span style="color:#6F42C1"> constructor</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> start: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> end: </span><span style="color:#6F42C1">TimePoint</span></span>
<span class="line"><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  init</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">    require</span><span style="color:#24292E">(</span><span style="color:#D73A49">!</span><span style="color:#24292E">end.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(start)) { </span><span style="color:#032F62">&quot;End time must not be before start time&quot;</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  companion</span><span style="color:#D73A49"> object</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> of</span><span style="color:#24292E">(start: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">, end: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#D73A49"> =</span><span style="color:#6F42C1"> TimeInterval</span><span style="color:#24292E">(start, end)</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 특정 시점으로부터 기간을 더한 간격 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> startingAt</span><span style="color:#24292E">(start: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">, duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(start, start.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(duration))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 특정 시점으로부터 기간을 뺀 간격 생성</span></span>
<span class="line"><span style="color:#D73A49">    fun</span><span style="color:#6F42C1"> endingAt</span><span style="color:#24292E">(end: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">, duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(end.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(duration), end)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 간격의 기간 계산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> duration</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Duration</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">until</span><span style="color:#24292E">(end)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 간격 연산</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> shift</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#6F42C1">    of</span><span style="color:#24292E">(start.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(duration), end.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(duration))</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> expand</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#6F42C1">    of</span><span style="color:#24292E">(start.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(duration), end.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(duration))</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> shrink</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> halfDuration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> duration.</span><span style="color:#6F42C1">dividedBy</span><span style="color:#24292E">(</span><span style="color:#005CC5">2</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> newStart </span><span style="color:#D73A49">=</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(halfDuration)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> newEnd </span><span style="color:#D73A49">=</span><span style="color:#24292E"> end.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(halfDuration)</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 축소 후 유효한 간격인지 확인</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (newEnd.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(newStart)) {</span></span>
<span class="line"><span style="color:#6A737D">      // 간격이 너무 작아 유효하지 않은 경우, 중간 시점으로 축소</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> midPoint </span><span style="color:#D73A49">=</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(</span><span style="color:#6F42C1">duration</span><span style="color:#24292E">().</span><span style="color:#6F42C1">dividedBy</span><span style="color:#24292E">(</span><span style="color:#005CC5">2</span><span style="color:#24292E">))</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(midPoint, midPoint)</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(newStart, newEnd)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 간격 관계 확인</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> contains</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#D73A49">    !</span><span style="color:#24292E">point.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(start) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">point.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(end)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> contains</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#D73A49">    !</span><span style="color:#24292E">other.start.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(start) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">other.end.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(end)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> overlaps</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#D73A49">    !</span><span style="color:#24292E">end.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(other.start) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">start.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(other.end)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> abuts</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#D73A49"> =</span></span>
<span class="line"><span style="color:#24292E">    start.</span><span style="color:#6F42C1">equals</span><span style="color:#24292E">(other.end) </span><span style="color:#D73A49">||</span><span style="color:#24292E"> end.</span><span style="color:#6F42C1">equals</span><span style="color:#24292E">(other.start)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 간격 병합 및 교차</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> union</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">? {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">!</span><span style="color:#6F42C1">overlaps</span><span style="color:#24292E">(other) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#6F42C1">abuts</span><span style="color:#24292E">(other)) {</span></span>
<span class="line"><span style="color:#005CC5">      null</span><span style="color:#6A737D"> // 겹치거나 인접하지 않으면 병합 불가</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> (start.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(other.start)) start </span><span style="color:#D73A49">else</span><span style="color:#24292E"> other.start,</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> (end.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(other.end)) end </span><span style="color:#D73A49">else</span><span style="color:#24292E"> other.end</span></span>
<span class="line"><span style="color:#24292E">      )</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> intersection</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">? {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">!</span><span style="color:#6F42C1">overlaps</span><span style="color:#24292E">(other)) {</span></span>
<span class="line"><span style="color:#005CC5">      null</span><span style="color:#6A737D"> // 겹치지 않으면 교집합 없음</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">      of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> (start.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(other.start)) start </span><span style="color:#D73A49">else</span><span style="color:#24292E"> other.start,</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> (end.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(other.end)) end </span><span style="color:#D73A49">else</span><span style="color:#24292E"> other.end</span></span>
<span class="line"><span style="color:#24292E">      )</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> equals</span><span style="color:#24292E">(other: </span><span style="color:#6F42C1">Any</span><span style="color:#24292E">?): </span><span style="color:#6F42C1">Boolean</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (</span><span style="color:#005CC5">this</span><span style="color:#D73A49"> ===</span><span style="color:#24292E"> other) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> true</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (other </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> TimeInterval) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> false</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> start </span><span style="color:#D73A49">==</span><span style="color:#24292E"> other.start </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#24292E"> end </span><span style="color:#D73A49">==</span><span style="color:#24292E"> other.end</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> hashCode</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">Int</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    var</span><span style="color:#24292E"> result </span><span style="color:#D73A49">=</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">hashCode</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">    result </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 31</span><span style="color:#D73A49"> *</span><span style="color:#24292E"> result </span><span style="color:#D73A49">+</span><span style="color:#24292E"> end.</span><span style="color:#6F42C1">hashCode</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> result</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> toString</span><span style="color:#24292E">(): </span><span style="color:#6F42C1">String</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;[</span><span style="color:#005CC5">$start</span><span style="color:#032F62">, </span><span style="color:#005CC5">$end</span><span style="color:#032F62">]&quot;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>이 클래스는 시간 간격의 다양한 연산과 관계를 지원한다. 간격을 이동(shift), 확장(expand), 축소(shrink)할 수 있으며, 다른 간격과의 관계(포함, 겹침, 인접)를 확인할 수 있다. 또한 두 간격의 합집합(union)과 교집합(intersection)도 계산할 수 있다.</p>
<h2 id="반복recurrence"><a href="#반복recurrence">반복(Recurrence)</a></h2>
<p>반복은 가장 복잡한 시간 개념 중 하나다. 다양한 패턴으로 발생하는 반복 이벤트를 표현하기 위해 강력한 모델이 필요하다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.DayOfWeek</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.LocalTime</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.ZoneId</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.time.temporal.TemporalAdjusters</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#6F42C1"> java.util.</span><span style="color:#005CC5">*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 반복되는 시간 패턴을 표현하는 클래스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">abstract</span><span style="color:#D73A49"> class</span><span style="color:#6F42C1"> TimeRecurrence</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">  // 특정 간격 내에서 발생하는 모든 시점 계산</span></span>
<span class="line"><span style="color:#D73A49">  abstract</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> occurrencesIn</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt;</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 특정 시점 이후의 다음 발생 시점 계산</span></span>
<span class="line"><span style="color:#D73A49">  abstract</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">?</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 매일 반복되는 패턴</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> DailyRecurrence</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> timeOfDay: </span><span style="color:#6F42C1">LocalTime</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">) : </span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> occurrencesIn</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> result </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> mutableListOf</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt;()</span></span>
<span class="line"><span style="color:#D73A49">    var</span><span style="color:#24292E"> current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(interval.start.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(Duration.</span><span style="color:#6F42C1">ofSeconds</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">)))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    while</span><span style="color:#24292E"> (current </span><span style="color:#D73A49">!=</span><span style="color:#005CC5"> null</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">current.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(interval.end)) {</span></span>
<span class="line"><span style="color:#24292E">      result.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">      current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> result</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> zonedDateTime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> point.</span><span style="color:#6F42C1">inZone</span><span style="color:#24292E">(zone)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> today </span><span style="color:#D73A49">=</span><span style="color:#24292E"> zonedDateTime.</span><span style="color:#6F42C1">toLocalDate</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> todayOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> todayPoint </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(todayOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (point.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(todayPoint)) {</span></span>
<span class="line"><span style="color:#24292E">      todayPoint</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> tomorrow </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">plusDays</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> tomorrowOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> tomorrow.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">      TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(tomorrowOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 매주 특정 요일에 반복되는 패턴</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> WeeklyRecurrence</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> daysOfWeek: </span><span style="color:#6F42C1">Set</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">DayOfWeek</span><span style="color:#24292E">&gt;,</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> timeOfDay: </span><span style="color:#6F42C1">LocalTime</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">) : </span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> occurrencesIn</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> result </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> mutableListOf</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt;()</span></span>
<span class="line"><span style="color:#D73A49">    var</span><span style="color:#24292E"> current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(interval.start.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(Duration.</span><span style="color:#6F42C1">ofSeconds</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">)))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    while</span><span style="color:#24292E"> (current </span><span style="color:#D73A49">!=</span><span style="color:#005CC5"> null</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">current.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(interval.end)) {</span></span>
<span class="line"><span style="color:#24292E">      result.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">      current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> result</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">? {</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (daysOfWeek.</span><span style="color:#6F42C1">isEmpty</span><span style="color:#24292E">()) </span><span style="color:#D73A49">return</span><span style="color:#005CC5"> null</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> zonedDateTime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> point.</span><span style="color:#6F42C1">inZone</span><span style="color:#24292E">(zone)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> today </span><span style="color:#D73A49">=</span><span style="color:#24292E"> zonedDateTime.</span><span style="color:#6F42C1">toLocalDate</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> currentDayOfWeek </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.dayOfWeek</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 오늘의 발생 시점 확인</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> todayOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> todayPoint </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(todayOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (daysOfWeek.</span><span style="color:#6F42C1">contains</span><span style="color:#24292E">(currentDayOfWeek) </span><span style="color:#D73A49">&amp;&amp;</span><span style="color:#24292E"> point.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(todayPoint)) {</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#24292E"> todayPoint</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 다음 발생 요일 찾기</span></span>
<span class="line"><span style="color:#D73A49">    for</span><span style="color:#24292E"> (i </span><span style="color:#D73A49">in</span><span style="color:#005CC5"> 1</span><span style="color:#D73A49">..</span><span style="color:#005CC5">7</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> nextDay </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">plusDays</span><span style="color:#24292E">(i.</span><span style="color:#6F42C1">toLong</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#D73A49">      if</span><span style="color:#24292E"> (daysOfWeek.</span><span style="color:#6F42C1">contains</span><span style="color:#24292E">(nextDay.dayOfWeek)) {</span></span>
<span class="line"><span style="color:#D73A49">        val</span><span style="color:#24292E"> nextOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> nextDay.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(nextOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#005CC5"> null</span><span style="color:#6A737D"> // 발생하지 않는 케이스 (daysOfWeek가 비어있는 경우)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 매월 특정 일에 반복되는 패턴</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> MonthlyRecurrence</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> dayOfMonth: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> timeOfDay: </span><span style="color:#6F42C1">LocalTime</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#D73A49">  private</span><span style="color:#D73A49"> val</span><span style="color:#24292E"> zone: </span><span style="color:#6F42C1">ZoneId</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> ZoneId.</span><span style="color:#6F42C1">systemDefault</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">) : </span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">  init</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6F42C1">    require</span><span style="color:#24292E">(dayOfMonth </span><span style="color:#D73A49">in</span><span style="color:#005CC5"> 1</span><span style="color:#D73A49">..</span><span style="color:#005CC5">31</span><span style="color:#24292E">) { </span><span style="color:#032F62">&quot;Day of month must be between 1 and 31&quot;</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> occurrencesIn</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> result </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> mutableListOf</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt;()</span></span>
<span class="line"><span style="color:#D73A49">    var</span><span style="color:#24292E"> current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(interval.start.</span><span style="color:#6F42C1">minus</span><span style="color:#24292E">(Duration.</span><span style="color:#6F42C1">ofSeconds</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">)))</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    while</span><span style="color:#24292E"> (current </span><span style="color:#D73A49">!=</span><span style="color:#005CC5"> null</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">current.</span><span style="color:#6F42C1">isAfter</span><span style="color:#24292E">(interval.end)) {</span></span>
<span class="line"><span style="color:#24292E">      result.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">      current </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(current)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> result</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> zonedDateTime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> point.</span><span style="color:#6F42C1">inZone</span><span style="color:#24292E">(zone)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> today </span><span style="color:#D73A49">=</span><span style="color:#24292E"> zonedDateTime.</span><span style="color:#6F42C1">toLocalDate</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 이번 달의 발생일 계산</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> dayOfMonthAdjusted </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Math.</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(dayOfMonth, today.</span><span style="color:#6F42C1">lengthOfMonth</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisMonth </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">withDayOfMonth</span><span style="color:#24292E">(dayOfMonthAdjusted)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisMonthOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> thisMonth.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> thisMonthPoint </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(thisMonthOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (point.</span><span style="color:#6F42C1">isBefore</span><span style="color:#24292E">(thisMonthPoint)) {</span></span>
<span class="line"><span style="color:#D73A49">      return</span><span style="color:#24292E"> thisMonthPoint</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#6A737D">    // 다음 달의 발생일 계산</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> nextMonth </span><span style="color:#D73A49">=</span><span style="color:#24292E"> today.</span><span style="color:#6F42C1">plusMonths</span><span style="color:#24292E">(</span><span style="color:#005CC5">1</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> nextMonthDayAdjusted </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Math.</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(dayOfMonth, nextMonth.</span><span style="color:#6F42C1">lengthOfMonth</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> nextMonthDate </span><span style="color:#D73A49">=</span><span style="color:#24292E"> nextMonth.</span><span style="color:#6F42C1">withDayOfMonth</span><span style="color:#24292E">(nextMonthDayAdjusted)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> nextMonthOccurrence </span><span style="color:#D73A49">=</span><span style="color:#24292E"> nextMonthDate.</span><span style="color:#6F42C1">atTime</span><span style="color:#24292E">(timeOfDay).</span><span style="color:#6F42C1">atZone</span><span style="color:#24292E">(zone).</span><span style="color:#6F42C1">toInstant</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">fromEpochMilli</span><span style="color:#24292E">(nextMonthOccurrence.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>여기서는 세 가지 기본적인 반복 패턴을 구현했다: 일간 반복, 주간 반복, 월간 반복. 각 패턴은 특정 간격 내에서의 모든 발생 시점과 특정 시점 이후의 다음 발생 시점을 계산할 수 있다.</p>
<h1 id="시간-연산과-변환"><a href="#시간-연산과-변환">시간 연산과 변환</a></h1>
<p>시간 모델링에서 가장 중요한 부분 중 하나는 다양한 연산과 변환이다. 시점, 기간, 간격, 반복 사이의 변환과 연산을 위한 유틸리티 메서드를 구현해보자.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 시간 관련 유틸리티 클래스</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"><span style="color:#D73A49">object</span><span style="color:#6F42C1"> TimeUtils</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">  // 시점 비교 및 확인</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> isLeapYear</span><span style="color:#24292E">(year: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Boolean</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> year </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 4</span><span style="color:#D73A49"> ==</span><span style="color:#005CC5"> 0</span><span style="color:#D73A49"> &amp;&amp;</span><span style="color:#24292E"> (year </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 100</span><span style="color:#D73A49"> !=</span><span style="color:#005CC5"> 0</span><span style="color:#D73A49"> ||</span><span style="color:#24292E"> year </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 400</span><span style="color:#D73A49"> ==</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> daysInMonth</span><span style="color:#24292E">(year: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">, month: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">): </span><span style="color:#6F42C1">Int</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> when</span><span style="color:#24292E"> (month) {</span></span>
<span class="line"><span style="color:#005CC5">      1</span><span style="color:#24292E">, </span><span style="color:#005CC5">3</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">7</span><span style="color:#24292E">, </span><span style="color:#005CC5">8</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">12</span><span style="color:#D73A49"> -&gt;</span><span style="color:#005CC5"> 31</span></span>
<span class="line"><span style="color:#005CC5">      4</span><span style="color:#24292E">, </span><span style="color:#005CC5">6</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">11</span><span style="color:#D73A49"> -&gt;</span><span style="color:#005CC5"> 30</span></span>
<span class="line"><span style="color:#005CC5">      2</span><span style="color:#D73A49"> -&gt;</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (</span><span style="color:#6F42C1">isLeapYear</span><span style="color:#24292E">(year)) </span><span style="color:#005CC5">29</span><span style="color:#D73A49"> else</span><span style="color:#005CC5"> 28</span></span>
<span class="line"><span style="color:#D73A49">      else</span><span style="color:#D73A49"> -&gt;</span><span style="color:#D73A49"> throw</span><span style="color:#6F42C1"> IllegalArgumentException</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Invalid month: </span><span style="color:#005CC5">$month</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 기간 표시 및 변환</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> formatDuration</span><span style="color:#24292E">(duration: </span><span style="color:#6F42C1">Duration</span><span style="color:#24292E">): </span><span style="color:#6F42C1">String</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> millis </span><span style="color:#D73A49">=</span><span style="color:#24292E"> duration.</span><span style="color:#6F42C1">to</span><span style="color:#24292E">(TimeUnit.MILLISECONDS).</span><span style="color:#D73A49">value</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> days </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeUnit.MILLISECONDS.</span><span style="color:#6F42C1">toDays</span><span style="color:#24292E">(millis)</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> hours </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeUnit.MILLISECONDS.</span><span style="color:#6F42C1">toHours</span><span style="color:#24292E">(millis) </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 24</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> minutes </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeUnit.MILLISECONDS.</span><span style="color:#6F42C1">toMinutes</span><span style="color:#24292E">(millis) </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 60</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> seconds </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeUnit.MILLISECONDS.</span><span style="color:#6F42C1">toSeconds</span><span style="color:#24292E">(millis) </span><span style="color:#D73A49">%</span><span style="color:#005CC5"> 60</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> parts </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> mutableListOf</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">String</span><span style="color:#24292E">&gt;()</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (days </span><span style="color:#D73A49">&gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) parts.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;${days}d&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (hours </span><span style="color:#D73A49">&gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) parts.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;${hours}h&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (minutes </span><span style="color:#D73A49">&gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) parts.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;${minutes}m&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (seconds </span><span style="color:#D73A49">&gt;</span><span style="color:#005CC5"> 0</span><span style="color:#D73A49"> ||</span><span style="color:#24292E"> parts.</span><span style="color:#6F42C1">isEmpty</span><span style="color:#24292E">()) parts.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;${seconds}s&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> parts.</span><span style="color:#6F42C1">joinToString</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot; &quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 시간 간격 조작</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> splitInterval</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">, parts: </span><span style="color:#6F42C1">Int</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#6F42C1">    require</span><span style="color:#24292E">(parts </span><span style="color:#D73A49">&gt;</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">) { </span><span style="color:#032F62">&quot;Number of parts must be positive&quot;</span><span style="color:#24292E"> }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> result </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> mutableListOf</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">&gt;()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> duration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> interval.</span><span style="color:#6F42C1">duration</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> partDuration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> duration.</span><span style="color:#6F42C1">dividedBy</span><span style="color:#24292E">(parts.</span><span style="color:#6F42C1">toLong</span><span style="color:#24292E">())</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    var</span><span style="color:#24292E"> current </span><span style="color:#D73A49">=</span><span style="color:#24292E"> interval.start</span></span>
<span class="line"><span style="color:#6F42C1">    repeat</span><span style="color:#24292E">(parts) {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> next </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> (it </span><span style="color:#D73A49">==</span><span style="color:#24292E"> parts </span><span style="color:#D73A49">-</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) interval.end </span><span style="color:#D73A49">else</span><span style="color:#24292E"> current.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(partDuration)</span></span>
<span class="line"><span style="color:#24292E">      result.</span><span style="color:#6F42C1">add</span><span style="color:#24292E">(TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(current, next))</span></span>
<span class="line"><span style="color:#24292E">      current </span><span style="color:#D73A49">=</span><span style="color:#24292E"> next</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> result</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#6A737D">  // 반복 패턴 조합</span></span>
<span class="line"><span style="color:#D73A49">  fun</span><span style="color:#6F42C1"> combineRecurrences</span><span style="color:#24292E">(recurrences: </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E">&gt;): </span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#D73A49"> object</span><span style="color:#24292E"> : </span><span style="color:#6F42C1">TimeRecurrence</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#D73A49">      override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> occurrencesIn</span><span style="color:#24292E">(interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">): </span><span style="color:#6F42C1">List</span><span style="color:#24292E">&lt;</span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">&gt; {</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> recurrences.</span><span style="color:#6F42C1">flatMap</span><span style="color:#24292E"> { it.</span><span style="color:#6F42C1">occurrencesIn</span><span style="color:#24292E">(interval) }</span></span>
<span class="line"><span style="color:#24292E">          .</span><span style="color:#6F42C1">distinct</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#24292E">          .</span><span style="color:#6F42C1">sortedBy</span><span style="color:#24292E"> { it.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">() }</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">      </span></span>
<span class="line"><span style="color:#D73A49">      override</span><span style="color:#D73A49"> fun</span><span style="color:#6F42C1"> nextOccurrenceAfter</span><span style="color:#24292E">(point: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">): </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">? {</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> recurrences.</span><span style="color:#6F42C1">mapNotNull</span><span style="color:#24292E"> { it.</span><span style="color:#6F42C1">nextOccurrenceAfter</span><span style="color:#24292E">(point) }</span></span>
<span class="line"><span style="color:#24292E">          .</span><span style="color:#6F42C1">minByOrNull</span><span style="color:#24292E"> { it.</span><span style="color:#6F42C1">toEpochMilli</span><span style="color:#24292E">() }</span></span>
<span class="line"><span style="color:#24292E">      }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<h1 id="사용-사례"><a href="#사용-사례">사용 사례</a></h1>
<p>실제 코드에서 이러한 시간 모델을 어떻게 활용할 수 있는지 몇 가지 예시를 살펴보자.</p>
<h2 id="이벤트-스케줄링"><a href="#이벤트-스케줄링">이벤트 스케줄링</a></h2>
<p>회의나 약속과 같은 이벤트를 스케줄링하는 예시다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">// 회의 스케줄링</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> meetingStart </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">14</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">) </span><span style="color:#6A737D">// 2023년 5월 10일 오후 2시</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> meetingDuration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Duration.</span><span style="color:#6F42C1">ofMinutes</span><span style="color:#24292E">(</span><span style="color:#005CC5">60</span><span style="color:#24292E">) </span><span style="color:#6A737D">// 1시간 회의</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> meetingInterval </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeInterval.</span><span style="color:#6F42C1">startingAt</span><span style="color:#24292E">(meetingStart, meetingDuration)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 참석자의 가용 시간 확인</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> availabilityStart </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">13</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">) </span><span style="color:#6A737D">// 오후 1시부터</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> availabilityEnd </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)   </span><span style="color:#6A737D">// 오후 5시까지</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> availabilityInterval </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(availabilityStart, availabilityEnd)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 회의가 가용 시간 내에 있는지 확인</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> canAttend </span><span style="color:#D73A49">=</span><span style="color:#24292E"> availabilityInterval.</span><span style="color:#6F42C1">contains</span><span style="color:#24292E">(meetingInterval)</span></span>
<span class="line"><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Can attend meeting: </span><span style="color:#005CC5">$canAttend</span><span style="color:#032F62">&quot;</span><span style="color:#24292E">) </span><span style="color:#6A737D">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 다음 정기 회의 시간 계산 (매주 월요일 오전 10시)</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> weeklyMeeting </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> WeeklyRecurrence</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#6F42C1">    setOf</span><span style="color:#24292E">(DayOfWeek.MONDAY),</span></span>
<span class="line"><span style="color:#24292E">    LocalTime.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> today </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimePoint.</span><span style="color:#6F42C1">now</span><span style="color:#24292E">()</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> nextMeeting </span><span style="color:#D73A49">=</span><span style="color:#24292E"> weeklyMeeting.</span><span style="color:#6F42C1">nextOccurrenceAfter</span><span style="color:#24292E">(today)</span></span>
<span class="line"><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Next meeting: ${nextMeeting?.</span><span style="color:#6F42C1">format</span><span style="color:#032F62">(&quot;yyyy-MM-dd HH:mm&quot;)}&quot;</span><span style="color:#24292E">)</span></span></code></pre>
<h2 id="타임라인-분석"><a href="#타임라인-분석">타임라인 분석</a></h2>
<p>일련의 이벤트를 시간 순서로 분석하는 예시다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">// 여러 이벤트의 타임라인 생성</span></span>
<span class="line"><span style="color:#D73A49">data</span><span style="color:#D73A49"> class</span><span style="color:#6F42C1"> Event</span><span style="color:#24292E">(</span><span style="color:#D73A49">val</span><span style="color:#24292E"> name: </span><span style="color:#6F42C1">String</span><span style="color:#24292E">, </span><span style="color:#D73A49">val</span><span style="color:#24292E"> interval: </span><span style="color:#6F42C1">TimeInterval</span><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> events </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> listOf</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#6F42C1">  Event</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;프로젝트 계획&quot;</span><span style="color:#24292E">, TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">1</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">3</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  )),</span></span>
<span class="line"><span style="color:#6F42C1">  Event</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;디자인 단계&quot;</span><span style="color:#24292E">, TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">4</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  )),</span></span>
<span class="line"><span style="color:#6F42C1">  Event</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;개발 단계&quot;</span><span style="color:#24292E">, TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">8</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">20</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  )),</span></span>
<span class="line"><span style="color:#6F42C1">  Event</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;테스트&quot;</span><span style="color:#24292E">, TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">18</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">25</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  ))</span></span>
<span class="line"><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 전체 프로젝트 기간 계산</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> projectStart </span><span style="color:#D73A49">=</span><span style="color:#24292E"> events.</span><span style="color:#6F42C1">minOf</span><span style="color:#24292E"> { it.interval.start }</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> projectEnd </span><span style="color:#D73A49">=</span><span style="color:#24292E"> events.</span><span style="color:#6F42C1">maxOf</span><span style="color:#24292E"> { it.interval.end }</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> projectInterval </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(projectStart, projectEnd)</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> projectDuration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> projectInterval.</span><span style="color:#6F42C1">duration</span><span style="color:#24292E">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;프로젝트 기간: ${projectStart.</span><span style="color:#6F42C1">format</span><span style="color:#032F62">(&quot;yyyy-MM-dd&quot;)} ~ ${projectEnd.</span><span style="color:#6F42C1">format</span><span style="color:#032F62">(&quot;yyyy-MM-dd&quot;)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;총 소요 시간: ${TimeUtils.</span><span style="color:#6F42C1">formatDuration</span><span style="color:#032F62">(projectDuration)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 단계 간 겹치는 부분 분석</span></span>
<span class="line"><span style="color:#D73A49">for</span><span style="color:#24292E"> (i </span><span style="color:#D73A49">in</span><span style="color:#005CC5"> 0</span><span style="color:#24292E"> until events.size </span><span style="color:#D73A49">-</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  for</span><span style="color:#24292E"> (j </span><span style="color:#D73A49">in</span><span style="color:#24292E"> i </span><span style="color:#D73A49">+</span><span style="color:#005CC5"> 1</span><span style="color:#24292E"> until events.size) {</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> event1 </span><span style="color:#D73A49">=</span><span style="color:#24292E"> events[i]</span></span>
<span class="line"><span style="color:#D73A49">    val</span><span style="color:#24292E"> event2 </span><span style="color:#D73A49">=</span><span style="color:#24292E"> events[j]</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (event1.interval.</span><span style="color:#6F42C1">overlaps</span><span style="color:#24292E">(event2.interval)) {</span></span>
<span class="line"><span style="color:#D73A49">      val</span><span style="color:#24292E"> overlap </span><span style="color:#D73A49">=</span><span style="color:#24292E"> event1.interval.</span><span style="color:#6F42C1">intersection</span><span style="color:#24292E">(event2.interval)</span></span>
<span class="line"><span style="color:#6F42C1">      println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;&#39;${event1.name}&#39;과 &#39;${event2.name}&#39;이 겹침: ${overlap?.start?.</span><span style="color:#6F42C1">format</span><span style="color:#032F62">(&quot;MM-dd&quot;)} ~ ${overlap?.end?.</span><span style="color:#6F42C1">format</span><span style="color:#032F62">(&quot;MM-dd&quot;)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<h2 id="근무-시간-추적"><a href="#근무-시간-추적">근무 시간 추적</a></h2>
<p>근무 시간을 추적하고 분석하는 예시다.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e;overflow-x:auto" tabindex="0" data-language="kotlin"><code><span class="line"><span style="color:#6A737D">// 근무 시간 기록</span></span>
<span class="line"><span style="color:#D73A49">data</span><span style="color:#D73A49"> class</span><span style="color:#6F42C1"> WorkSession</span><span style="color:#24292E">(</span><span style="color:#D73A49">val</span><span style="color:#24292E"> start: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">, </span><span style="color:#D73A49">val</span><span style="color:#24292E"> end: </span><span style="color:#6F42C1">TimePoint</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> duration: </span><span style="color:#6F42C1">Duration</span></span>
<span class="line"><span style="color:#D73A49">    get</span><span style="color:#24292E">() </span><span style="color:#D73A49">=</span><span style="color:#24292E"> start.</span><span style="color:#6F42C1">until</span><span style="color:#24292E">(end)</span></span>
<span class="line"><span style="color:#24292E">  </span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> interval: </span><span style="color:#6F42C1">TimeInterval</span></span>
<span class="line"><span style="color:#D73A49">    get</span><span style="color:#24292E">() </span><span style="color:#D73A49">=</span><span style="color:#24292E"> TimeInterval.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(start, end)</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 일주일간의 근무 기록</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> workWeek </span><span style="color:#D73A49">=</span><span style="color:#6F42C1"> listOf</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#6F42C1">  WorkSession</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">8</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">8</span><span style="color:#24292E">, </span><span style="color:#005CC5">18</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  ),</span></span>
<span class="line"><span style="color:#6F42C1">  WorkSession</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">8</span><span style="color:#24292E">, </span><span style="color:#005CC5">30</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">17</span><span style="color:#24292E">, </span><span style="color:#005CC5">45</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  ),</span></span>
<span class="line"><span style="color:#6F42C1">  WorkSession</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">15</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">10</span><span style="color:#24292E">, </span><span style="color:#005CC5">19</span><span style="color:#24292E">, </span><span style="color:#005CC5">30</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  ),</span></span>
<span class="line"><span style="color:#6F42C1">  WorkSession</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">11</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">11</span><span style="color:#24292E">, </span><span style="color:#005CC5">18</span><span style="color:#24292E">, </span><span style="color:#005CC5">15</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  ),</span></span>
<span class="line"><span style="color:#6F42C1">  WorkSession</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">12</span><span style="color:#24292E">, </span><span style="color:#005CC5">9</span><span style="color:#24292E">, </span><span style="color:#005CC5">30</span><span style="color:#24292E">),</span></span>
<span class="line"><span style="color:#24292E">    TimePoint.</span><span style="color:#6F42C1">of</span><span style="color:#24292E">(</span><span style="color:#005CC5">2023</span><span style="color:#24292E">, </span><span style="color:#005CC5">5</span><span style="color:#24292E">, </span><span style="color:#005CC5">12</span><span style="color:#24292E">, </span><span style="color:#005CC5">16</span><span style="color:#24292E">, </span><span style="color:#005CC5">0</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  )</span></span>
<span class="line"><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 총 근무 시간 계산</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> totalWorkDuration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> workWeek.</span><span style="color:#6F42C1">fold</span><span style="color:#24292E">(Duration.ZERO) { acc, session </span><span style="color:#D73A49">-&gt;</span></span>
<span class="line"><span style="color:#24292E">  acc.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(session.duration)</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;총 근무 시간: ${TimeUtils.</span><span style="color:#6F42C1">formatDuration</span><span style="color:#032F62">(totalWorkDuration)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 일별 근무 시간 분석</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> workByDay </span><span style="color:#D73A49">=</span><span style="color:#24292E"> workWeek.</span><span style="color:#6F42C1">groupBy</span><span style="color:#24292E"> { </span></span>
<span class="line"><span style="color:#24292E">  it.start.</span><span style="color:#6F42C1">format</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;yyyy-MM-dd&quot;</span><span style="color:#24292E">) </span></span>
<span class="line"><span style="color:#24292E">}.</span><span style="color:#6F42C1">mapValues</span><span style="color:#24292E"> { (_, sessions) </span><span style="color:#D73A49">-&gt;</span></span>
<span class="line"><span style="color:#24292E">  sessions.</span><span style="color:#6F42C1">fold</span><span style="color:#24292E">(Duration.ZERO) { acc, session </span><span style="color:#D73A49">-&gt;</span><span style="color:#24292E"> acc.</span><span style="color:#6F42C1">plus</span><span style="color:#24292E">(session.duration) }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">workByDay.</span><span style="color:#6F42C1">forEach</span><span style="color:#24292E"> { (day, duration) </span><span style="color:#D73A49">-&gt;</span></span>
<span class="line"><span style="color:#6F42C1">  println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">$day</span><span style="color:#032F62">: ${TimeUtils.</span><span style="color:#6F42C1">formatDuration</span><span style="color:#032F62">(duration)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// 초과 근무 시간 계산 (하루 8시간 기준)</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> standardWorkDay </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Duration.</span><span style="color:#6F42C1">ofHours</span><span style="color:#24292E">(</span><span style="color:#005CC5">8</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">val</span><span style="color:#24292E"> overtime </span><span style="color:#D73A49">=</span><span style="color:#24292E"> workByDay.</span><span style="color:#6F42C1">map</span><span style="color:#24292E"> { (day, duration) </span><span style="color:#D73A49">-&gt;</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> daily </span><span style="color:#D73A49">=</span><span style="color:#24292E"> duration.</span><span style="color:#6F42C1">to</span><span style="color:#24292E">(TimeUnit.HOURS).</span><span style="color:#D73A49">value</span></span>
<span class="line"><span style="color:#D73A49">  val</span><span style="color:#24292E"> over </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Math.</span><span style="color:#6F42C1">max</span><span style="color:#24292E">(</span><span style="color:#005CC5">0</span><span style="color:#24292E">, daily </span><span style="color:#D73A49">-</span><span style="color:#005CC5"> 8</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">  day to Duration.</span><span style="color:#6F42C1">ofHours</span><span style="color:#24292E">(over)</span></span>
<span class="line"><span style="color:#24292E">}.</span><span style="color:#6F42C1">filter</span><span style="color:#24292E"> { (_, overtime) </span><span style="color:#D73A49">-&gt;</span><span style="color:#D73A49"> !</span><span style="color:#24292E">overtime.</span><span style="color:#6F42C1">isZero</span><span style="color:#24292E">() }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">overtime.</span><span style="color:#6F42C1">forEach</span><span style="color:#24292E"> { (day, duration) </span><span style="color:#D73A49">-&gt;</span></span>
<span class="line"><span style="color:#6F42C1">  println</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;</span><span style="color:#005CC5">$day</span><span style="color:#032F62"> 초과근무: ${TimeUtils.</span><span style="color:#6F42C1">formatDuration</span><span style="color:#032F62">(duration)}&quot;</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<h1 id="마치며"><a href="#마치며">마치며</a></h1>
<p>이 글에서는 시간이라는 복잡한 개념을 프로그래밍적으로 어떻게 모델링할 수 있는지 살펴보았다. 시간은 단순한 물리적 측도를 넘어서 다양한 관점(시점, 기간, 간격, 반복)으로 이해할 수 있으며, 각 관점에 맞는 모델링 접근법이 필요하다.</p>
<p>시간 모델링에서 가장 중요한 점은 시간의 다양한 특성을 정확하게 반영하는 것이다. 단위 변환이 복잡하고, 타임존이 존재하며, 다양한 캘린더 시스템이 사용된다는 점을 고려해야 한다. 또한 시간은 연속적인 특성을 가지기 때문에 정밀도에 대한 고려도 필요하다.</p>
<p>모델 설계에서는 각 개념을 명확히 분리하면서도 상호 작용을 자연스럽게 지원하는 것이 중요하다. <code>TimePoint</code>, <code>Duration</code>, <code>TimeInterval</code>, <code>TimeRecurrence</code>와 같은 핵심 클래스는 각각의 책임을 명확히 하면서도, 서로 변환되고 결합될 수 있어야 한다.</p>
<p>이러한 시간 모델링은 일정 관리, 예약 시스템, 캘린더 시스템 등 다양한 비즈니스 도메인에서 활용될 수 있다. 특히 전자상거래, 물류, 금융과 같이 시간이 중요한 요소인 도메인에서는 정교한 시간 모델이 필수적이다.</p>
<section data-footnotes class="footnotes"><h2 class="sr-only" id="footnote-label"><a href="#footnote-label">Footnotes</a></h2>
<ol>
<li id="user-content-fn-1">
<p>참고로 한국 표준 시간은 KST라고 부른다 <a href="#user-content-fnref-1" data-footnote-backref aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>UTC, GMT, Zulu time 모두 같은 시간대를 나타낸다 <a href="#user-content-fnref-2" data-footnote-backref aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </div> <div> <div class="mt-1 w-full"> <div class="mr-1 mb-1 inline-flex items-center rounded-[50px] border border-[#dfe3e8] px-2 text-[10px] text-[#888]" style="height: 20px;"> modeling </div> </div> <div class="flex items-center py-6" data-astro-cid-k7qsseos> <div class="shrink-0 basis-[80px]" data-astro-cid-k7qsseos> <img class="h-[80px] w-[80px] object-cover" style="border-radius: 50%;" src="/images/about/avatar.jpg" data-astro-cid-k7qsseos> </div> <div class="ml-8 flex-1 text-base" data-astro-cid-k7qsseos> <div data-astro-cid-k7qsseos>
Written by <a href="/about/" class="name-gradient font-bold no-underline" data-astro-cid-k7qsseos>
@kciter
</a> </div> <div class="text-sm font-light leading-snug" data-astro-cid-k7qsseos>가치있는 지식이 되기를 바랍니다</div> <div class="-ml-1 [&_a]:text-sm [&_a]:text-[#888]" data-astro-cid-k7qsseos> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> </div> </div>   <div id="comments"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1MhqMT" prefix="r7" component-url="/_astro/Giscus.BCCeZi7E.js" component-export="default" renderer-url="/_astro/client.C9fCgUO1.js" props="{&quot;repo&quot;:[0,&quot;kciter/kciter.github.io&quot;],&quot;theme&quot;:[0,&quot;light&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Giscus&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island> </div> </div> <div class="pt-8 pb-8" data-astro-cid-llggujpl> <div class="grid grid-cols-3 gap-5 max-[30rem]:grid-cols-1" data-astro-cid-llggujpl> <a href="/posts/new-kind-of-hallucination/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2025-04-09-new-kind-of-hallucination/thumbnail.png" alt="새로운 종류의 AI 환각" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>새로운 종류의 AI 환각</div> <small data-astro-cid-llggujpl>2025-04-09</small> </a><a href="/posts/copybook/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-07-29-copybook/thumbnail.png" alt="카피책을 카피하다" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>카피책을 카피하다</div> <small data-astro-cid-llggujpl>2024-07-29</small> </a><a href="/posts/about-mongodb/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2021-02-25-about-mongodb/thumbnail.png" alt="MongoDB 이해하기" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>MongoDB 이해하기</div> <small data-astro-cid-llggujpl>2021-02-25</small> </a><a href="/posts/software-master-book-report/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2022-09-08-software-master-book-report/thumbnail.png" alt="나는 프로답게 일했는가?" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>나는 프로답게 일했는가?</div> <small data-astro-cid-llggujpl>2022-09-08</small> </a><a href="/posts/functional-data-structure/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2023-07-24-functional-data-structure/thumbnail.png" alt="함수형 자료구조" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>함수형 자료구조</div> <small data-astro-cid-llggujpl>2023-07-24</small> </a><a href="/posts/principles-of-debugging/" class="related-post block scale-100 no-underline transition-all duration-[333ms] ease-[ease]" style="text-decoration: none;" data-astro-cid-llggujpl> <img src="/images/2024-03-16-principles-of-debugging/thumbnail.png" alt="디버깅 원칙" loading="lazy" class="block w-full object-cover shadow-[0_0_10px_2px_rgba(0,0,0,0.05)]" style="aspect-ratio: 16/9;" data-astro-cid-llggujpl> <div class="mt-3 text-xl leading-6 font-thin" data-astro-cid-llggujpl>디버깅 원칙</div> <small data-astro-cid-llggujpl>2024-03-16</small> </a> </div> </div>  </div> <footer class="m-8 text-center text-[#999]"> <div> <a href="https://github.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="GitHub" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57v-2.2c-3.34.73-4.04-1.44-4.04-1.44-.55-1.38-1.33-1.75-1.33-1.75-1.09-.74.08-.73.08-.73 1.2.09 1.84 1.24 1.84 1.24 1.07 1.83 2.8 1.3 3.49 1 .1-.78.42-1.3.76-1.6-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.13-.3-.54-1.52.12-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6.02 0c2.28-1.55 3.28-1.23 3.28-1.23.66 1.66.25 2.88.12 3.18.77.84 1.24 1.91 1.24 3.22 0 4.61-2.81 5.63-5.48 5.92.43.37.81 1.1.81 2.22v3.29c0 .31.22.7.83.57C20.57 21.8 24 17.3 24 12c0-6.63-5.37-12-12-12z"/></svg></a><a href="https://www.facebook.com/sunhyoup.lee" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="Facebook" style="--hover-color: #3d5b99; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07c0 6.02 4.39 11.02 10.13 11.93v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.79-4.68 4.53-4.68 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.26h3.33l-.53 3.49h-2.8v8.44C19.61 23.09 24 18.09 24 12.07z"/></svg></a><a href="https://www.linkedin.com/in/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="LinkedIn" style="--hover-color: #0073a4; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M20.45 20.45h-3.55v-5.57c0-1.33-.02-3.04-1.85-3.04-1.85 0-2.14 1.45-2.14 2.94v5.67H9.36V9h3.41v1.56h.05c.48-.9 1.64-1.85 3.37-1.85 3.6 0 4.27 2.37 4.27 5.46v6.28zM5.34 7.43a2.06 2.06 0 1 1 0-4.12 2.06 2.06 0 0 1 0 4.12zM7.12 20.45H3.56V9h3.56v11.45zM22.22 0H1.77C.79 0 0 .77 0 1.72v20.56C0 23.23.79 24 1.77 24h20.45C23.2 24 24 23.23 24 22.28V1.72C24 .77 23.2 0 22.22 0z"/></svg></a><a href="https://twitter.com/kciter" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="X (Twitter)" style="--hover-color: #343434; transition: color .5s; margin-right: 5px;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a><a href="/feed.xml" target="_blank" rel="noopener noreferrer" class="social-icon inline-block p-[5px] no-underline" aria-label="RSS Feed" style="--hover-color: #ff6600; transition: color .5s;" data-astro-cid-yxtifmrq><svg class="inline-block h-4 w-4" viewBox="0 0 24 24" fill="currentColor" data-astro-cid-yxtifmrq><path d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36zM4 4.44v3.57A12.01 12.01 0 0 1 15.99 20h3.57A15.57 15.57 0 0 0 4 4.44zM4 10.1v3.57c3.5 0 6.33 2.84 6.33 6.33h3.57c0-5.47-4.43-9.9-9.9-9.9z"/></svg></a> </div> <div class="mt-4 mb-4 font-['Quattrocento_Sans',sans-serif] text-[0.8rem] text-[#9a9a9a]"> <a href="/about/" class="p-2.5 text-[#999] hover:text-[#333]" style="text-decoration: none;">
kciter.so | devlog by Sunhyoup Lee
</a> </div> </footer> </div> </body></html> <script type="module">document.querySelectorAll(".post-container a[data-footnote-ref]").forEach(o=>{const e=o.getAttribute("href")?.slice(1);if(!e)return;const r=document.getElementById(e);if(!r)return;const t=r.textContent?.replace("↩","").trim()||"";o.setAttribute("data-tooltip",t)});document.querySelectorAll(".code-tabs").forEach(o=>{const e=Array.from(o.querySelectorAll(":scope > pre"));if(e.length<2)return;const r=o.getAttribute("data-labels")?.split(",").map(a=>a.trim()),t=document.createElement("div");t.className="code-tabs-bar",e.forEach((a,s)=>{const n=r?.[s]||a.getAttribute("data-language")||"code",c=document.createElement("button");c.textContent=n,r?.[s]&&c.classList.add("has-filename"),s===0&&c.classList.add("active"),c.addEventListener("click",()=>{t.querySelectorAll("button").forEach(l=>l.classList.remove("active")),e.forEach(l=>l.classList.remove("active")),c.classList.add("active"),e[s].classList.add("active")}),t.appendChild(c)}),e[0].classList.add("active"),o.prepend(t)});const i=document.querySelectorAll(".toc .toc-list a");if(i.length>0){const e=Array.from(i).map(t=>t.getAttribute("href")?.slice(1)).filter(Boolean).map(t=>document.getElementById(t)).filter(Boolean),r=new IntersectionObserver(t=>{for(const a of t)if(a.isIntersecting){const s=a.target.id;i.forEach(n=>{n.classList.toggle("active",n.getAttribute("href")===`#${s}`)})}},{rootMargin:"0px 0px -70% 0px",threshold:0});e.forEach(t=>r.observe(t))}</script>