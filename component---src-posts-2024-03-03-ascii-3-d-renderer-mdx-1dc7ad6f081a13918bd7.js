"use strict";(self.webpackChunkkciter_so=self.webpackChunkkciter_so||[]).push([[1055,9859,565,6296,6601,7087,3974,871,8750,7283,8639,5513,7345,2449,7822,2764,4103,5481,2897],{5799:function(t,i,s){var n=s(9474),e=s(1615),h=s(6810);i.A=t=>{let{src:i,caption:s,width:r,expandable:o}=t;const{0:m,1:a}=(0,n.useState)(!1);return(0,h.Y)("figure",null,(0,h.Y)("img",{src:i,width:r,style:{cursor:o?"zoom-in":"default"},onClick:o?()=>a(!0):void 0}),s&&(0,h.Y)("figcaption",{dangerouslySetInnerHTML:{__html:s}}),m&&e.createPortal((0,h.Y)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",cursor:"zoom-out",backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>a(!1)},(0,h.Y)("div",{style:{borderRadius:8,maxWidth:1200,width:"80%",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white"}},(0,h.Y)("img",{src:i,width:"100%"}))),document.body))}},2053:function(t,i,s){var n=s(9474),e=s(1615),h=s(6810);i.A=t=>{let{src:i,caption:s,width:r,expandable:o,autoPlay:m,controls:a,muted:u,loop:c}=t;const{0:l,1:f}=(0,n.useState)(!1);return(0,h.Y)("figure",null,(0,h.Y)("video",{src:i,width:r,style:{cursor:o?"zoom-in":"default"},onClick:o?()=>f(!0):void 0,autoPlay:m,controls:a,muted:u,loop:c}),s&&(0,h.Y)("figcaption",{dangerouslySetInnerHTML:{__html:s}}),l&&e.createPortal((0,h.Y)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",cursor:"zoom-out",backgroundColor:"rgba(0, 0, 0, 0.7)"},onClick:()=>f(!1)},(0,h.Y)("div",{style:{borderRadius:8,maxWidth:1200,width:"80%",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white"}},(0,h.Y)("img",{src:i,width:"100%"}))),document.body))}},8309:function(t,i,s){s.d(i,{Q:function(){return R},q:function(){return M}});var n=s(9474),e=s(6810);let h=0,r=0,o=0,m=20,a=new Array(1320).fill(0),u=new Array(1320).fill(" ");let c,l,f,y,w,d,x;function p(t,i,s,n){var e,m,p;e=t,p=s,c=(m=i)*Math.sin(h)*Math.sin(r)*Math.cos(o)-p*Math.cos(h)*Math.sin(r)*Math.cos(o)+m*Math.cos(h)*Math.sin(o)+p*Math.sin(h)*Math.sin(o)+e*Math.cos(r)*Math.cos(o),l=function(t,i,s){return i*Math.cos(h)*Math.cos(o)+s*Math.sin(h)*Math.cos(o)-i*Math.sin(h)*Math.sin(r)*Math.sin(o)+s*Math.cos(h)*Math.sin(r)*Math.sin(o)-t*Math.cos(r)*Math.sin(o)}(t,i,s),f=function(t,i,s){return s*Math.cos(h)*Math.cos(r)-i*Math.sin(h)*Math.cos(r)+t*Math.sin(r)}(t,i,s)+100,y=1/f,w=Math.floor(30+40*y*c*2),d=Math.floor(11+40*y*l),x=w+60*d,x>=0&&x<1320&&y>a[x]&&(a[x]=y,u[x]=n)}const M=()=>{var t,i;const s=(0,n.useRef)(null),[c,l]=n.useState("");return n.useEffect((()=>{let t,i=Date.now();return function s(){const n=Date.now(),e=n-i;if(e>24){i=n-e%24,u.fill("."),a.fill(0),m=12;for(let t=-m;t<m;t+=.6)for(let i=-m;i<m;i+=.6)p(t,i,-m,"@"),p(m,i,t,"$"),p(-m,i,-t,"%"),p(-t,i,m,"#"),p(t,-m,-i,";"),p(t,m,i,"+");l(u.join("").replace(/.{60}/g,"$&<br />").replace(/\./g,"&nbsp;")),h+=.05,r+=.05,o+=.01}t=requestAnimationFrame(s)}(),()=>{cancelAnimationFrame(t)}}),[]),(0,e.Y)("div",{ref:s,style:{fontFamily:"monospace",fontSize:((null===(t=s.current)||void 0===t?void 0:t.clientWidth)||0)/700*14,lineHeight:((null===(i=s.current)||void 0===i?void 0:i.clientWidth)||0)<500?1.8:1.4,textAlign:"center"},dangerouslySetInnerHTML:{__html:c}})};var z=Object.defineProperty,v=(t,i,s)=>(((t,i,s)=>{i in t?z(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s})(t,"symbol"!=typeof i?i+"":i,s),s);let g=function(){function t(t,i){v(this,"x"),v(this,"y"),this.x=t,this.y=i}var i=t.prototype;return i.add=function(i){return new t(this.x+i.x,this.y+i.y)},i.subtract=function(i){return new t(this.x-i.x,this.y-i.y)},i.multiply=function(i){return new t(this.x*i,this.y*i)},i.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.normalize=function(){const i=this.length();return new t(this.x/i,this.y/i)},t}(),b=function(){function t(t,i,s){v(this,"x"),v(this,"y"),v(this,"z"),this.x=t,this.y=i,this.z=s}t.zero=function(){return new t(0,0,0)};var i=t.prototype;return i.add=function(i){return new t(this.x+i.x,this.y+i.y,this.z+i.z)},i.subtract=function(i){return new t(this.x-i.x,this.y-i.y,this.z-i.z)},i.multiply=function(i){return new t(this.x*i,this.y*i,this.z*i)},i.rotateX=function(i){return new t(this.x,this.y*Math.cos(i)-this.z*Math.sin(i),this.y*Math.sin(i)+this.z*Math.cos(i))},i.rotateY=function(i){return new t(this.x*Math.cos(i)+this.z*-Math.sin(i),this.y,this.x*Math.sin(i)+this.z*Math.cos(i))},i.rotateZ=function(i){return new t(this.x*Math.cos(i)-this.y*Math.sin(i),this.x*Math.sin(i)+this.y*Math.cos(i),this.z)},i.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},i.cross=function(i){return new t(this.y*i.z-this.z*i.y,this.z*i.x-this.x*i.z,this.x*i.y-this.y*i.x)},i.normalize=function(){const i=this.length();return new t(this.x/i,this.y/i,this.z/i)},i.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}(),F=function(){function t(t,i,s,n){v(this,"x"),v(this,"y"),v(this,"z"),v(this,"w"),this.x=t,this.y=i,this.z=s,this.w=n}var i=t.prototype;return i.add=function(i){return new t(this.x+i.x,this.y+i.y,this.z+i.z,this.w+i.w)},i.subtract=function(i){return new t(this.x-i.x,this.y-i.y,this.z-i.z,this.w-i.w)},i.multiply=function(i){return new t(this.x*i,this.y*i,this.z*i,this.w*i)},i.transform=function(i){const s=this.x,n=this.y,e=this.z,h=this.w;return new t(i.m00*s+i.m10*n+i.m20*e+i.m30*h,i.m01*s+i.m11*n+i.m21*e+i.m31*h,i.m02*s+i.m12*n+i.m22*e+i.m32*h,i.m03*s+i.m13*n+i.m23*e+i.m33*h)},t}(),Y=function(){function t(t,i,s,n,e,h,r,o,m,a,u,c,l,f,y,w){v(this,"m00"),v(this,"m01"),v(this,"m02"),v(this,"m03"),v(this,"m10"),v(this,"m11"),v(this,"m12"),v(this,"m13"),v(this,"m20"),v(this,"m21"),v(this,"m22"),v(this,"m23"),v(this,"m30"),v(this,"m31"),v(this,"m32"),v(this,"m33"),this.m00=t,this.m01=i,this.m02=s,this.m03=n,this.m10=e,this.m11=h,this.m12=r,this.m13=o,this.m20=m,this.m21=a,this.m22=u,this.m23=c,this.m30=l,this.m31=f,this.m32=y,this.m33=w}t.zero=function(){return new t(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},t.identity=function(){return new t(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)};var i=t.prototype;return i.add=function(i){return new t(this.m00+i.m00,this.m01+i.m01,this.m02+i.m02,this.m03+i.m03,this.m10+i.m10,this.m11+i.m11,this.m12+i.m12,this.m13+i.m13,this.m20+i.m20,this.m21+i.m21,this.m22+i.m22,this.m23+i.m23,this.m30+i.m30,this.m31+i.m31,this.m32+i.m32,this.m33+i.m33)},i.subtract=function(i){return new t(this.m00-i.m00,this.m01-i.m01,this.m02-i.m02,this.m03-i.m03,this.m10-i.m10,this.m11-i.m11,this.m12-i.m12,this.m13-i.m13,this.m20-i.m20,this.m21-i.m21,this.m22-i.m22,this.m23-i.m23,this.m30-i.m30,this.m31-i.m31,this.m32-i.m32,this.m33-i.m33)},i.multiply=function(i){return new t(this.m00*i.m00+this.m01*i.m10+this.m02*i.m20+this.m03*i.m30,this.m00*i.m01+this.m01*i.m11+this.m02*i.m21+this.m03*i.m31,this.m00*i.m02+this.m01*i.m12+this.m02*i.m22+this.m03*i.m32,this.m00*i.m03+this.m01*i.m13+this.m02*i.m23+this.m03*i.m33,this.m10*i.m00+this.m11*i.m10+this.m12*i.m20+this.m13*i.m30,this.m10*i.m01+this.m11*i.m11+this.m12*i.m21+this.m13*i.m31,this.m10*i.m02+this.m11*i.m12+this.m12*i.m22+this.m13*i.m32,this.m10*i.m03+this.m11*i.m13+this.m12*i.m23+this.m13*i.m33,this.m20*i.m00+this.m21*i.m10+this.m22*i.m20+this.m23*i.m30,this.m20*i.m01+this.m21*i.m11+this.m22*i.m21+this.m23*i.m31,this.m20*i.m02+this.m21*i.m12+this.m22*i.m22+this.m23*i.m32,this.m20*i.m03+this.m21*i.m13+this.m22*i.m23+this.m23*i.m33,this.m30*i.m00+this.m31*i.m10+this.m32*i.m20+this.m33*i.m30,this.m30*i.m01+this.m31*i.m11+this.m32*i.m21+this.m33*i.m31,this.m30*i.m02+this.m31*i.m12+this.m32*i.m22+this.m33*i.m32,this.m30*i.m03+this.m31*i.m13+this.m32*i.m23+this.m33*i.m33)},t.scale=function(i){return new t(i.x,0,0,0,0,i.y,0,0,0,0,i.z,0,0,0,0,1)},t.translate=function(i){return new t(1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,i.z,1)},t.rotateX=function(i){const s=Math.cos(i),n=Math.sin(i);return new t(1,0,0,0,0,s,-n,0,0,n,s,0,0,0,0,1)},t.rotateY=function(i){const s=Math.cos(i),n=Math.sin(i);return new t(s,0,-n,0,0,1,0,0,n,0,s,0,0,0,0,1)},t.rotateZ=function(i){const s=Math.cos(i),n=Math.sin(i);return new t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)},i.setIdentity=function(){this.m00=1,this.m01=0,this.m02=0,this.m03=0,this.m10=0,this.m11=1,this.m12=0,this.m13=0,this.m20=0,this.m21=0,this.m22=1,this.m23=0,this.m30=0,this.m31=0,this.m32=0,this.m33=1},t}(),B=function(t){v(this,"vertices"),this.vertices=t},A=function(){function t(){v(this,"eye"),v(this,"look"),v(this,"up"),v(this,"rotation"),v(this,"viewMatrix"),this.eye=new b(0,0,0),this.look=new b(0,0,1),this.up=new b(0,1,0),this.rotation=new b(0,0,0),this.viewMatrix=Y.identity()}var i=t.prototype;return i.transform=function(t){return t.transform(this.viewMatrix)},i.calculateViewMatrix=function(){const t=this.look.rotateX(this.rotation.x).rotateY(this.rotation.y).rotateZ(this.rotation.z).add(this.eye).subtract(this.eye).normalize(),i=t.multiply(this.up.dot(t)),s=this.up.subtract(i).normalize(),n=s.cross(t);this.viewMatrix=new Y(n.x,n.y,n.z,0,s.x,s.y,s.z,0,t.x,t.y,t.z,0,this.eye.x,this.eye.y,this.eye.z,1)},i.calculatePerspectiveMatrix=function(t,i,s,n){const e=Y.identity(),h=Math.tan(t/2*(3.141592/180));return e.m00=1/h/i,e.m11=1/h,e.m22=-2*s/(n-s)-1,e.m23=-1,e.m32=-n*-s/(n-s),e},t}(),k=function(){function t(){}return t.loadFromFile=function(t){return new Promise(((i,s)=>{const n=new FileReader;n.onload=t=>{var n;const e=null==(n=t.target)?void 0:n.result;e?i(this.parseOBJ(e)):s(new Error("Failed to load file"))},n.readAsText(t)}))},t.loadFromString=function(t){return this.parseOBJ(t)},t.parseOBJ=function(t){const i=t.split("\n"),s=[],n=[];for(const e of i){const t=e.trim().split(" ").filter((t=>""!==t));"v"===t[0]?s.push(new b(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))):"f"===t[0]&&n.push(new B([s[parseInt(t[1])-1],s[parseInt(t[2])-1],s[parseInt(t[3])-1]]))}return n},t}(),S=function(){function t(){v(this,"position"),v(this,"rotate"),v(this,"scale"),this.position=new b(0,0,0),this.rotate=new b(0,0,0),this.scale=new b(1,1,1)}var i=t.prototype;return i.transform=function(t){const i=Y.identity().multiply(Y.rotateX(this.rotate.x)).multiply(Y.rotateY(this.rotate.y)).multiply(Y.rotateZ(this.rotate.z)).multiply(Y.scale(this.scale)).multiply(Y.translate(this.position));return t.transform(i)},i.setTranslate=function(t){this.position=t},i.setScale=function(t){this.scale=t},i.setRotateX=function(t){this.rotate.x=t},i.setRotateY=function(t){this.rotate.y=t},i.setRotateZ=function(t){this.rotate.z=t},t}(),C=function(){function t(t,i,s){v(this,"el"),v(this,"width"),v(this,"height"),v(this,"frameBuffer"),v(this,"depthBuffer"),v(this,"mesh",[]),v(this,"camera"),v(this,"world"),v(this,"angle"),v(this,"Shade","·┼╬░▒▓█"),this.el=t,this.width=i,this.height=s,this.frameBuffer=new Array(s+1).fill(null).map((()=>new Array(i+1).fill(" "))),this.depthBuffer=new Array(s+1).fill(null).map((()=>new Array(i+1).fill(255))),this.camera=new A,this.world=new S,this.angle=0}var i=t.prototype;return i.loadFromFile=async function(t){this.mesh=await k.loadFromFile(t)},i.loadFromString=async function(t){this.mesh=await k.loadFromString(t)},i.run=function(){const t=16.666666666666668;let i,s,n=Date.now();const e=()=>{i=Date.now(),s=i-n,s>t&&(n=i-s%t,this.render(),this.angle+=.007,this.angle>=6.28&&(this.angle-=6.28)),requestAnimationFrame(e)};requestAnimationFrame(e)},i.render=function(){this.clearFrameBuffer(),this.process(),this.drawFrameBuffer()},i.process=function(){this.camera.eye=new b(0,0,-5),this.camera.calculateViewMatrix();const t=this.camera.calculatePerspectiveMatrix(70,this.width/2/this.height,.1,1e3);this.world.setRotateX(this.angle),this.world.setRotateY(this.angle),this.world.setRotateZ(this.angle),this.world.setTranslate(new b(0,0,0)),this.mesh.forEach((i=>{let s=new F(i.vertices[0].x,i.vertices[0].y,i.vertices[0].z,1),n=new F(i.vertices[1].x,i.vertices[1].y,i.vertices[1].z,1),e=new F(i.vertices[2].x,i.vertices[2].y,i.vertices[2].z,1);s=this.world.transform(s),n=this.world.transform(n),e=this.world.transform(e),s=this.camera.transform(s),n=this.camera.transform(n),e=this.camera.transform(e);const h=new b(s.x,s.y,s.z).subtract(new b(n.x,n.y,n.z)),r=new b(s.x,s.y,s.z).subtract(new b(e.x,e.y,e.z)),o=h.cross(r).normalize(),m=new b(s.x,s.y,s.z).add(this.camera.eye);if(o.dot(m)>=0)return;s=this.transformVertex(s,t),n=this.transformVertex(n,t),e=this.transformVertex(e,t);const a=new b(0,0,1).normalize(),u=Math.max(0,o.dot(a));this.rasterize(new F(s.x,s.y,s.z,s.w),new F(n.x,n.y,n.z,n.w),new F(e.x,e.y,e.z,e.w),u)}))},i.transformVertex=function(t,i){const s=t.transform(i);return s.x/=s.w,s.y/=s.w,s.z/=s.w,s},i.rasterize=function(t,i,s,n){const e=this.width/2,h=this.height/2,r=new g(t.x*e+e,-t.y*h+h),o=new g(i.x*e+e,-i.y*h+h),m=new g(s.x*e+e,-s.y*h+h),a=Math.floor(Math.max(0,Math.min(r.x,Math.min(o.x,m.x)))),u=Math.floor(Math.max(0,Math.min(r.y,Math.min(o.y,m.y)))),c=Math.floor(Math.min(this.width,Math.max(r.x,Math.max(o.x,m.x))+1)),l=Math.floor(Math.min(this.height,Math.max(r.y,Math.max(o.y,m.y))+1));for(let f=u;f<l;f++)for(let e=a;e<c;e++)if(this.isPointInTriangle(e,f,r,o,m)){const h=f*this.width+e;if(h>this.height*this.width||h<0)continue;(t.w+i.w+s.w)/3<=this.depthBuffer[f][e]&&(this.frameBuffer[f][e]=this.Shade[Math.round((this.Shade.length-1)*n)],this.depthBuffer[f][e]=(t.w+i.w+s.w)/3)}},i.isPointInTriangle=function(t,i,s,n,e){const h=((n.y-e.y)*(t-e.x)+(e.x-n.x)*(i-e.y))/((n.y-e.y)*(s.x-e.x)+(e.x-n.x)*(s.y-e.y)),r=((e.y-s.y)*(t-e.x)+(s.x-e.x)*(i-e.y))/((n.y-e.y)*(s.x-e.x)+(e.x-n.x)*(s.y-e.y)),o=r<-.001;return h<-.001==o&&o==1-h-r<-.001},i.drawFrameBuffer=function(){const t=this.frameBuffer.map((t=>t.join("").replace(/\ /g,"&nbsp;"))).join("<br />");this.el.innerHTML=t},i.clearFrameBuffer=function(){this.frameBuffer=new Array(this.height+1).fill(null).map((()=>new Array(this.width+1).fill(" "))),this.depthBuffer=new Array(this.height+1).fill(null).map((()=>new Array(this.width+1).fill(255)))},t}();const R=()=>{const t=(0,n.useRef)(null);(0,n.useEffect)((()=>{const i=new C(t.current,80,40);i.loadFromString(P),i.run()}),[t.current]);const{0:i,1:s}=(0,n.useState)(0),h=()=>{var i;s((null===(i=t.current)||void 0===i?void 0:i.clientWidth)||0)};return(0,n.useEffect)((()=>(window.addEventListener("resize",h),h(),()=>window.removeEventListener("resize",h))),[]),(0,e.Y)("div",{ref:t,style:{fontSize:i/700*14,lineHeight:1,width:"100%",fontFamily:"monospace"}})},P="\n# Blender v2.90.1 OBJ File: ''\n# www.blender.org\no Cube\nv -1.000000 1.000000 1.000000\nv -1.000000 -1.000000 1.000000\nv -1.000000 1.000000 -1.000000\nv -1.000000 -1.000000 -1.000000\nv 1.000000 1.000000 1.000000\nv 1.000000 -1.000000 1.000000\nv 1.000000 1.000000 -1.000000\nv 1.000000 -1.000000 -1.000000\ns off\nf 5 3 1\nf 3 8 4\nf 7 6 8\nf 2 8 6\nf 1 4 2\nf 5 2 6\nf 5 7 3\nf 3 7 8\nf 7 5 6\nf 2 4 8\nf 1 3 4\nf 5 1 2\n"},9128:function(t,i,s){s.d(i,{R:function(){return r}});var n=s(9474);const e={},h=n.createContext(e);function r(t){const i=n.useContext(h);return n.useMemo((function(){return"function"==typeof t?t(i):{...i,...t}}),[i,t])}}}]);
//# sourceMappingURL=component---src-posts-2024-03-03-ascii-3-d-renderer-mdx-1dc7ad6f081a13918bd7.js.map